{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/authentication/login/login.component.ts","./src/app/authentication/login/login.component.html","./src/app/authentication/sign-up/sign-up.component.ts","./src/app/authentication/sign-up/sign-up.component.html","./src/app/catch/gill-net-report/gill-net-report.component.ts","./src/app/catch/gill-net-report/gill-net-report.component.html","./src/app/catch/seine-report/seine-report.component.ts","./src/app/catch/seine-report/seine-report.component.html","./src/app/catch/troll-report/troll-report.component.ts","./src/app/catch/troll-report/troll-report.component.html","./src/app/data-models/catch-table-models/species-data.model.ts","./src/app/data-models/catch-table-models/table-rules.model.ts","./src/app/data-models/report-models/cancel-report.model.ts","./src/app/data-models/report-models/daily-catch-report.model.ts","./src/app/data-models/report-models/end-report.model.ts","./src/app/data-models/report-models/offload-report.model.ts","./src/app/data-models/report-models/pause-report.model.ts","./src/app/data-models/report-models/start-report.model.ts","./src/app/data-models/trip-models/gear-models/gear.model.ts","./src/app/data-models/trip-models/gear-models/net.model.ts","./src/app/data-models/trip-models/license-area.model.ts","./src/app/data-models/trip-models/trip.model.ts","./src/app/data-models/user-models/user-data.model.ts","./src/app/data-models/user-models/vessel-data.model.ts","./src/app/data-models/validator.model.ts","./src/app/dialogs/add-net-dialog/add-net-dialog.component.ts","./src/app/dialogs/add-net-dialog/add-net-dialog.component.html","./src/app/dialogs/add-species-dialog/add-species-dialog.component.ts","./src/app/dialogs/add-species-dialog/add-species-dialog.component.html","./src/app/dialogs/add-vessel-dialog/add-vessel-dialog.component.ts","./src/app/dialogs/add-vessel-dialog/add-vessel-dialog.component.html","./src/app/dialogs/contact-info-dialog/contact-info-dialog.component.ts","./src/app/dialogs/contact-info-dialog/contact-info-dialog.component.html","./src/app/home/active-trip-home/active-trip-home.component.ts","./src/app/home/active-trip-home/active-trip-home.component.html","./src/app/home/no-trip-home/no-trip-home.component.ts","./src/app/home/no-trip-home/no-trip-home.component.html","./src/app/home/offload-home/offload-home.component.ts","./src/app/home/offload-home/offload-home.component.html","./src/app/material/material.module.ts","./src/app/menu-items/profile/profile.component.ts","./src/app/menu-items/profile/profile.component.html","./src/app/menu-items/records-page/records-page.component.ts","./src/app/menu-items/records-page/records-page.component.html","./src/app/menu/menu.component.ts","./src/app/menu/menu.component.html","./src/app/reports/cancel-report/cancel-report.component.ts","./src/app/reports/cancel-report/cancel-report.component.html","./src/app/reports/end-report/end-report.component.ts","./src/app/reports/end-report/end-report.component.html","./src/app/reports/offload-report/offload-report.component.ts","./src/app/reports/offload-report/offload-report.component.html","./src/app/reports/pause-report/pause-report.component.ts","./src/app/reports/pause-report/pause-report.component.html","./src/app/reports/start-report/start-report.component.ts","./src/app/reports/start-report/start-report.component.html","./src/app/reports/submitted-report/submitted-report.component.ts","./src/app/reports/submitted-report/submitted-report.component.html","./src/app/services/local-storage.service.ts","./src/app/tel-input/tel-input.component.ts","./src/app/tel-input/tel-input.component.html","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { StartReportComponent } from './reports/start-report/start-report.component';\r\nimport { EndReportComponent } from './reports/end-report/end-report.component';\r\nimport { PauseReportComponent } from './reports/pause-report/pause-report.component';\r\nimport { CancelReportComponent } from './reports/cancel-report/cancel-report.component';\r\nimport { OffloadReportComponent } from './reports/offload-report/offload-report.component';\r\nimport { SubmittedReportComponent } from './reports/submitted-report/submitted-report.component';\r\nimport { LoginComponent } from './authentication/login/login.component';\r\nimport { SignUpComponent } from './authentication/sign-up/sign-up.component';\r\nimport { GillNetReportComponent } from './catch/gill-net-report/gill-net-report.component';\r\nimport { SeineReportComponent } from './catch/seine-report/seine-report.component';\r\nimport { TrollReportComponent } from './catch/troll-report/troll-report.component';\r\nimport { NoTripHomeComponent } from './home/no-trip-home/no-trip-home.component';\r\nimport { ActiveTripHomeComponent } from './home/active-trip-home/active-trip-home.component';\r\nimport { OffloadHomeComponent } from './home/offload-home/offload-home.component';\r\nimport { ProfileComponent } from './menu-items/profile/profile.component';\r\nimport { RecordsPageComponent } from './menu-items/records-page/records-page.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/login', pathMatch: 'full' },\r\n  { path: 'login', component: LoginComponent },\r\n  { path: 'sign-up', component: SignUpComponent },\r\n  { path: 'start-report', component: StartReportComponent },\r\n  { path: 'end-report', component: EndReportComponent },\r\n  { path: 'pause-report', component: PauseReportComponent },\r\n  { path: 'cancel-report', component: CancelReportComponent },\r\n  { path: 'offload-report', component: OffloadReportComponent },\r\n  { path: 'submitted-report', component: SubmittedReportComponent },\r\n  { path: 'gill-net-report', component: GillNetReportComponent },\r\n  { path: 'seine-report', component: SeineReportComponent }, \r\n  { path: 'troll-report', component: TrollReportComponent },\r\n  { path: 'no-trip-home', component: NoTripHomeComponent },\r\n  { path: 'active-trip-home', component: ActiveTripHomeComponent },\r\n  { path: 'offload-home', component: OffloadHomeComponent },\r\n  { path: 'profile', component: ProfileComponent },\r\n  { path: 'records-page', component: RecordsPageComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes)\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'bcsrif-elog';\r\n}\r\n","<router-outlet></router-outlet>","import { NgModule, isDevMode } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { MaterialModule } from './material/material.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AuthModule } from '@auth0/auth0-angular';\r\nimport { AppComponent } from './app.component';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { LoginComponent } from './authentication/login/login.component';\r\nimport { AddVesselDialogComponent } from './dialogs/add-vessel-dialog/add-vessel-dialog.component';\r\nimport { NgbTimepickerModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AddSpeciesDialogComponent } from './dialogs/add-species-dialog/add-species-dialog.component';\r\nimport { OnlineStatusModule } from 'ngx-online-status';\r\nimport { SignUpComponent } from './authentication/sign-up/sign-up.component';\r\nimport { TelInputComponent } from './tel-input/tel-input.component';\r\nimport { environment as env } from '../environments/environment';\r\nimport { PauseReportComponent } from './reports/pause-report/pause-report.component';\r\nimport { CancelReportComponent } from './reports/cancel-report/cancel-report.component';\r\nimport { SubmittedReportComponent } from './reports/submitted-report/submitted-report.component';\r\nimport { StartReportComponent } from './reports/start-report/start-report.component';\r\nimport { EndReportComponent } from './reports/end-report/end-report.component';\r\nimport { GillNetReportComponent } from './catch/gill-net-report/gill-net-report.component';\r\nimport { AddNetDialogComponent } from './dialogs/add-net-dialog/add-net-dialog.component';\r\nimport { SeineReportComponent } from './catch/seine-report/seine-report.component';\r\nimport { TrollReportComponent } from './catch/troll-report/troll-report.component';\r\nimport { NoTripHomeComponent } from './home/no-trip-home/no-trip-home.component';\r\nimport { MenuComponent } from './menu/menu.component';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { ActiveTripHomeComponent } from './home/active-trip-home/active-trip-home.component';\r\nimport { OffloadHomeComponent } from './home/offload-home/offload-home.component';\r\nimport { OffloadReportComponent } from './reports/offload-report/offload-report.component';\r\nimport { RecordsPageComponent } from './menu-items/records-page/records-page.component';\r\nimport { DatePipe } from '@angular/common';\r\nimport { ProfileComponent } from './menu-items/profile/profile.component';\r\nimport { ContactInfoDialogComponent } from './dialogs/contact-info-dialog/contact-info-dialog.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    AddVesselDialogComponent,\r\n    AddSpeciesDialogComponent,\r\n    SignUpComponent,\r\n    TelInputComponent,\r\n    PauseReportComponent,\r\n    CancelReportComponent,\r\n    SubmittedReportComponent,\r\n    StartReportComponent,\r\n    EndReportComponent,\r\n    GillNetReportComponent,\r\n    AddNetDialogComponent,\r\n    SeineReportComponent,\r\n    TrollReportComponent,\r\n    NoTripHomeComponent,\r\n    MenuComponent,\r\n    ActiveTripHomeComponent,\r\n    OffloadHomeComponent,\r\n    OffloadReportComponent,\r\n    ProfileComponent,\r\n    RecordsPageComponent,\r\n    ContactInfoDialogComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    MaterialModule,\r\n    MatIconModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    OnlineStatusModule,\r\n    ToastrModule.forRoot(),\r\n    AppRoutingModule,\r\n    AuthModule.forRoot({\r\n      domain: env.auth0.domain,\r\n      clientId: env.auth0.clientId,\r\n      authorizationParams: {\r\n        redirect_uri: env.auth0.redirect_uri,\r\n        audience: env.auth0.audience\r\n      },\r\n      cacheLocation: 'localstorage'\r\n    }),\r\n    ServiceWorkerModule.register('ngsw-worker.js', {\r\n      enabled: !isDevMode(),\r\n      // Register the ServiceWorker as soon as the application is stable\r\n      // or after 30 seconds (whichever comes first).\r\n      registrationStrategy: 'registerImmediately'\r\n    }),\r\n    BrowserAnimationsModule,\r\n    NgbTimepickerModule\r\n  ],\r\n  providers: [DatePipe],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UntypedFormGroup, FormControl, Validators, ValidationErrors } from '@angular/forms';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  // check online status\r\n  isOnline: boolean = false;\r\n  onlineStatus: string = '';\r\n  loginButton: string = '';\r\n\r\n  // form validator error messages\r\n  emailError: string = 'Required';\r\n\r\n  loginForm: UntypedFormGroup = new UntypedFormGroup({\r\n    email: new FormControl<string>('', [Validators.required, Validators.email])\r\n  });\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private localStorageService: LocalStorageService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private toastr: ToastrService,\r\n    @Inject(DOCUMENT) private document: Document\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.ONLINE) {\r\n      this.isOnline = true;\r\n      this.onlineStatus = 'online';\r\n      this.loginButton = 'Login or Sign Up with Auth0';\r\n    }\r\n    else {\r\n      this.isOnline = false;\r\n      this.onlineStatus = 'offline';\r\n      this.loginButton = 'Login Offline';\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // email validation\r\n    this.loginForm.get('email')?.valueChanges.subscribe(() => {\r\n      let emailErrors: ValidationErrors | null | undefined = this.loginForm.get('email')?.errors;\r\n      if (emailErrors?.required) {\r\n        this.emailError = 'Required';\r\n      }\r\n      else if (emailErrors?.email) {\r\n        this.emailError = 'Invalid email format';\r\n      }\r\n      else {\r\n        this.emailError = '';\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // press the login button\r\n  attemptLogin(): void {\r\n\r\n    // attempt to login with the entered credentials\r\n    // solution from https://community.auth0.com/t/isauthenticated-is-always-false/84794/3\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.ONLINE) {\r\n\r\n      // if went offline while on page, reload app\r\n      if (!this.isOnline) {\r\n        window.location.reload();\r\n        return;\r\n      }\r\n\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (!authd) {\r\n          let query: string = window.location.search;\r\n          let shouldParseResult: boolean = query.includes(\"code=\") && query.includes(\"state=\");\r\n          if (shouldParseResult) {\r\n            try {\r\n              this.auth.handleRedirectCallback().subscribe((value) => {\r\n                console.log(\"Logged in!\", value);\r\n              });\r\n            } catch (err: unknown) {\r\n              console.log(\"Error parsing redirect:\", err);\r\n            }\r\n            window.history.replaceState({}, this.document.title, \"/\");\r\n          }\r\n          else {\r\n            this.auth.loginWithPopup().subscribe((value: void) => {\r\n              console.log(\"Logging in...\", value);\r\n            });\r\n          }\r\n        }\r\n        else {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n              let id: string | undefined = user.sub;\r\n              if (id) {\r\n                // check if user is new\r\n                if (this.isNewUser(id)) {\r\n                  this.localStorageService.createNewUser(user);\r\n                }\r\n\r\n                this.localStorageService.saveCurrID(id);\r\n                let currHomepage: string = this.localStorageService.getUser(user).currHomepage;\r\n                this.router.navigate([currHomepage]);\r\n                return;\r\n              }\r\n            }\r\n            this.toastr.error(\"User does not exist\", \"Something went wrong\");\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    // offline login\r\n    else {\r\n\r\n      // if went online while on page, reload app\r\n      if (this.isOnline) {\r\n        window.location.reload();\r\n        return;\r\n      }\r\n\r\n      if (this.loginForm.valid) {\r\n        let userIDs: string[] = this.localStorageService.getAllUserIDs();\r\n        for (let id of userIDs) {\r\n          let thisUser: UserData = this.localStorageService.getUserByID(id);\r\n          if (thisUser.userEmail === this.loginForm.get('email')?.value) {\r\n            this.localStorageService.saveCurrID(id);\r\n            let currHomepage: string = this.localStorageService.getUserByID(id).currHomepage;\r\n            this.router.navigate([currHomepage]);\r\n            return;\r\n          }\r\n        }\r\n        this.toastr.error(\"User email does not exist\", \"Invalid email\");\r\n      }\r\n      this.toastr.error(\"User email required\", \"Invalid form\");\r\n    }\r\n  }\r\n\r\n  // check if user is a new user\r\n  isNewUser(id: string): boolean {\r\n\r\n    let ids: string[] = this.localStorageService.getAllUserIDs();\r\n    for (let existingID of ids) {\r\n      if (id === existingID) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container login-container\">\r\n\r\n  <!-- Archipelago logo -->\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col login-image\">\r\n      <img src=\"../../../assets/images/archipelago-blue-email.png\"\r\n           class=\"center\"\r\n           width=\"300\" />\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Page title -->\r\n  <div class=\"row\">\r\n    <h1 class=\"login-title\">\r\n     Login\r\n    </h1>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <h2 class=\"login-subtitle\">\r\n      You are currently {{onlineStatus}}\r\n    </h2>\r\n  </div>\r\n\r\n  <form [formGroup]=\"loginForm\"\r\n        *ngIf=\"!isOnline\"\r\n        class=\"row\">\r\n\r\n    <h6 class=\"blue-heading\">\r\n      Email\r\n    </h6>\r\n\r\n    <mat-form-field appearance=\"outline\"\r\n                    class=\"form-field\">\r\n      <mat-label>\r\n        Email\r\n      </mat-label>\r\n      <input matInput\r\n             required\r\n             formControlName=\"email\">\r\n      <mat-error>\r\n        {{emailError}}\r\n      </mat-error>\r\n    </mat-form-field>\r\n\r\n  </form>\r\n\r\n  <div class=\"row justify-content-center\">\r\n    <button mat-flat-button\r\n            class=\"login-button\"\r\n            type=\"submit\"\r\n            (click)=\"attemptLogin()\">\r\n      {{loginButton}}\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { FormControl, UntypedFormGroup, Validators, ValidationErrors, AbstractControl } from '@angular/forms';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { generalValidator } from '../../data-models/validator.model';\r\nimport { Tel, TelInputComponent } from '../../tel-input/tel-input.component';\r\n\r\n@Component({\r\n  selector: 'app-sign-up',\r\n  templateUrl: './sign-up.component.html',\r\n  styleUrls: ['./sign-up.component.css']\r\n})\r\nexport class SignUpComponent implements OnInit {\r\n\r\n  @ViewChild('telInput') telInput!: TelInputComponent;\r\n\r\n  // get the current user details\r\n  userDetails: UserData = new UserData('', '');\r\n\r\n  // show error message when field is invalid\r\n  emailError: string = 'Required';\r\n  postalError: string = 'Required';\r\n\r\n  // disable all buttons when authenticating\r\n  sending: boolean = false;\r\n\r\n  // regular expression for Canadian postal code validation\r\n  // from https://stackoverflow.com/questions/15774555/efficient-regex-for-canadian-postal-code-function\r\n  postalRegex: RegExp = /^[ABCEGHJ-NPRSTVXY]\\d[ABCEGHJ-NPRSTV-Z][ -]?\\d[ABCEGHJ-NPRSTV-Z]\\d$/i;\r\n\r\n  signupForm: UntypedFormGroup = new UntypedFormGroup({\r\n    firstName: new FormControl<string>('', [Validators.required]),\r\n    lastName: new FormControl<string>('', [Validators.required]),\r\n    contactEmail: new FormControl<string>('', [Validators.required, Validators.email]),\r\n    address: new FormControl<string>('', [Validators.required]),\r\n    city: new FormControl<string>('', [Validators.required]),\r\n    postalCode: new FormControl<string>('', [Validators.required, Validators.pattern(this.postalRegex)]),\r\n    phoneNum: new FormControl<Tel>(new Tel('', '', ''), [Validators.required, generalValidator()]),\r\n  });\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    let contactEmail: AbstractControl<any, any> | null = this.signupForm.get('contactEmail');\r\n    let postalCode: AbstractControl<any, any> | null = this.signupForm.get('postalCode');\r\n\r\n    // contact email validation\r\n    contactEmail?.valueChanges.subscribe(() => {\r\n      let contactEmailErrors: ValidationErrors | null | undefined = contactEmail?.errors;\r\n      if (contactEmailErrors?.required) {\r\n        this.emailError = 'Required';\r\n      }\r\n      else if (contactEmailErrors?.email) {\r\n        this.emailError = 'Invalid format';\r\n      }\r\n      else {\r\n        this.emailError = '';\r\n      }\r\n    });\r\n\r\n    // postal code validation\r\n    postalCode?.valueChanges.subscribe(() => {\r\n      let postalCodeErrors: ValidationErrors | null | undefined = postalCode?.errors;\r\n      if (postalCodeErrors?.required) {\r\n        this.postalError = 'Required';\r\n      }\r\n      else if (postalCodeErrors?.pattern) {\r\n        this.postalError = 'Invalid format';\r\n      }\r\n      else {\r\n        this.postalError = '';\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // phone number validator\r\n  phoneNumValid(): boolean {\r\n    let phoneNum: Tel = this.signupForm.get('phoneNum')?.value;\r\n    let area: string = phoneNum.area;\r\n    let exchange: string = phoneNum.exchange;\r\n    let subscriber: string = phoneNum.subscriber;\r\n    return !!area && !!exchange && !!subscriber;\r\n  }\r\n\r\n  // go back to the login screen\r\n  backToLogin(): void {\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      this.toastr.error(\"Cannot log out while offline\", \"Logout failed\");\r\n      return;\r\n    }\r\n    this.localStorageService.logout();\r\n  }\r\n\r\n  // attempt to sign up for an account\r\n  attemptSignUp(): void {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      this.toastr.error(\"Cannot sign up while offline\", \"Sign up failed\");\r\n      return;\r\n    }\r\n\r\n    // verify phone number\r\n    this.telInput.touched = true;\r\n    this.telInput.stateChanges.next();\r\n    this.signupForm.get('phoneNum')?.updateValueAndValidity();\r\n\r\n    // check signup entry validity\r\n    if (this.signupForm.valid && this.phoneNumValid()) {\r\n\r\n      // navigate to the home screen\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n              this.sending = true;\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.userDetails.firstName = this.signupForm.get('firstName')?.value;\r\n              this.userDetails.lastName = this.signupForm.get('lastName')?.value;\r\n              this.userDetails.contactEmail = this.signupForm.get('contactEmail')?.value;\r\n              this.userDetails.address = this.signupForm.get('address')?.value;\r\n              this.userDetails.city = this.signupForm.get('city')?.value;\r\n              this.userDetails.postalCode = this.signupForm.get('postalCode')?.value;\r\n              this.userDetails.phoneNum = this.signupForm.get('phoneNum')?.value;\r\n              this.userDetails.currHomepage = 'no-trip-home';\r\n              this.localStorageService.saveCurrID(this.userDetails.userID);\r\n              this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n              this.sending = false;\r\n              this.router.navigate([this.userDetails.currHomepage]);\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      this.toastr.error(\"Missing information\", \"Sign up failed\");\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"container sign-up-container\">\r\n\r\n  <!-- Archipelago logo -->\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col sign-up-image\">\r\n      <img src=\"../../../assets/images/archipelago-blue-email.png\" class=\"center\" width=\"300\" />\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Page title and logo -->\r\n  <div class=\"row\">\r\n    <h1 class=\"sign-up-title\">\r\n      Sign Up\r\n    </h1>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n\r\n    <!-- Sign up form -->\r\n    <form [formGroup]=\"signupForm\"\r\n          (ngSubmit)=\"attemptSignUp()\">\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-heading\">\r\n          First Name (as shown on fishing license)\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\"\r\n                        class=\"form-field\">\r\n          <mat-label>\r\n            First Name\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"firstName\">\r\n          <mat-error *ngIf=\"signupForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row justify-content-center\">\r\n        <h6 class=\"blue-heading\">\r\n          Last Name (as shown on fishing license)\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\"\r\n                        class=\"form-field\">\r\n          <mat-label>\r\n            Last Name\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"lastName\">\r\n          <mat-error *ngIf=\"signupForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row justify-content-center\">\r\n        <h6 class=\"blue-heading\">\r\n          Contact Email\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\"\r\n                        class=\"form-field\">\r\n          <mat-label>\r\n            Contact Email\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"contactEmail\">\r\n          <mat-error>\r\n            {{emailError}}\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row justify-content-center\">\r\n        <h6 class=\"blue-heading\">\r\n          Address\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\"\r\n                        class=\"form-field\">\r\n          <mat-label>\r\n            Address\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"address\">\r\n          <mat-error *ngIf=\"signupForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row justify-content-center\">\r\n        <h6 class=\"blue-heading\">\r\n          City\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\"\r\n                        class=\"form-field\">\r\n          <mat-label>\r\n            City\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"city\">\r\n          <mat-error *ngIf=\"signupForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row justify-content-center\">\r\n        <h6 class=\"blue-heading\">\r\n          Postal Code\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\"\r\n                        class=\"form-field\">\r\n          <mat-label>\r\n            Postal Code\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"postalCode\">\r\n          <mat-error>\r\n            {{postalError}}\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row justify-content-center\">\r\n        <h6 class=\"blue-heading\">\r\n          Phone Number\r\n        </h6>\r\n        <mat-form-field #telField\r\n                        appearance=\"outline\"\r\n                        class=\"form-field\">\r\n          <mat-label>\r\n            Phone Number\r\n          </mat-label>\r\n          <app-tel-input #telInput\r\n                         formControlName=\"phoneNum\">\r\n\r\n          </app-tel-input>\r\n          <mat-icon matSuffix>\r\n            phone\r\n          </mat-icon>\r\n          <mat-error *ngIf=\"signupForm.invalid || !phoneNumValid()\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <!-- Sign Up to continue account creation -->\r\n      <div class=\"row button-sign-up\">\r\n        <div class=\"col\">\r\n          <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"color-button-orange\"\r\n                    type=\"submit\"\r\n                    [disabled]=\"sending\">\r\n              <span>\r\n                Sign Up\r\n                <mat-icon>\r\n                  arrow_forward\r\n                </mat-icon>\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Back to log in screen -->\r\n      <div class=\"row button-sign-up\">\r\n        <div class=\"col\">\r\n          <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"color-button-blue\"\r\n                    type=\"button\"\r\n                    [disabled]=\"sending\"\r\n                    (click)=\"backToLogin()\">\r\n              <span>\r\n                <mat-icon>\r\n                  arrow_back\r\n                </mat-icon>\r\n                Return to Login (log out)\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </form>\r\n\r\n  </div>\r\n\r\n</div>\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { SpeciesData } from '../../data-models/catch-table-models/species-data.model';\r\nimport { AddSpeciesDialogComponent } from '../../dialogs/add-species-dialog/add-species-dialog.component';\r\nimport { Net } from '../../data-models/trip-models/gear-models/net.model';\r\nimport { AddNetDialogComponent } from '../../dialogs/add-net-dialog/add-net-dialog.component';\r\nimport { TableRules } from '../../data-models/catch-table-models/table-rules.model';\r\nimport { DailyCatchReport } from '../../data-models/report-models/daily-catch-report.model';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-gill-net-report',\r\n  templateUrl: './gill-net-report.component.html',\r\n  styleUrls: ['./gill-net-report.component.css']\r\n})\r\nexport class GillNetReportComponent {\r\n\r\n  // for updating the table\r\n  @ViewChild(MatTable) table!: MatTable<SpeciesData>;\r\n  responseOptions: string[] = ['Yes', 'No']; //hardcoded values to be used in the form\r\n  fishListDetails: SpeciesData[] = []; // source for table data - all data currently in the table\r\n\r\n  // data preambles\r\n  catchReport: DailyCatchReport = new DailyCatchReport(); // catch report we will fill out\r\n  currTrip: Trip = new Trip();\r\n  userDetails: UserData = new UserData('', '');\r\n  unfilteredFishList: SpeciesData[] = []; // temporary array to store species contained in local storage\r\n  fishList: SpeciesData[] = []; //filtered list of species data, will comprise the user's look-up list\r\n  userNets: Net[] = [];\r\n  emptyNet: Net = new Net('', '', '', '', '', '', '', '', '');\r\n  gillNetTable: TableRules = new TableRules(); // used to filter table data\r\n\r\n  // values associated with each page\r\n  gillnetForm: UntypedFormGroup = new UntypedFormGroup({\r\n\r\n    net: new FormControl<Net>(this.emptyNet, [Validators.required]), //page 1\r\n    hoursFished: new FormControl<string>(''), //page 2\r\n\r\n    //page 3\r\n    mgmtArea: new FormControl<string>('', [Validators.required]),\r\n    zoneArea: new FormControl<string>(''),\r\n    numSets: new FormControl<string>(''),\r\n\r\n    //page 5\r\n    comments: new FormControl<string>(''), // conditional validation\r\n    nonFish: new FormControl<string>('', [Validators.required]) \r\n  });\r\n\r\n  catchDate: Date = new Date(); //page 2 \r\n  displayedColumns: string[] = []; // page 4\r\n\r\n\r\n  // section to section\r\n  numPages: number = 0;\r\n  currPage: number = 0;\r\n  spinnerProgress: number = 0;\r\n  spinnerIncrement: number = 0;\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.onNonFishChange();\r\n  }\r\n\r\n  onNonFishChange(): void {\r\n    this.gillnetForm.get('nonFish')?.valueChanges.subscribe((value: string) => {\r\n      const commentControl: AbstractControl<any, any> | null = this.gillnetForm.get('comments');\r\n\r\n      if(value === 'Yes'){\r\n        commentControl?.setValidators([Validators.required]);\r\n      }\r\n      else {\r\n        commentControl?.clearValidators();\r\n      }\r\n      commentControl?.updateValueAndValidity();\r\n    })\r\n  }\r\n\r\n  // initialize the data\r\n  initialize(): void {\r\n\r\n    // get all required data\r\n    this.currTrip = this.userDetails.currTrip;\r\n    this.userNets = this.userDetails.nets;\r\n    this.unfilteredFishList = this.localStorageService.getSpeciesList('fishList');\r\n    this.gillNetTable = this.localStorageService.getTableRules('Gill Net');\r\n\r\n    this.filterTableData(); // filters table data as well as species list accessible to the user\r\n    this.populateReport(); // populate report with data from previous daily catch report\r\n\r\n    // fill catch page details\r\n    let pages: number = 5; \r\n    this.numPages = pages;\r\n    this.spinnerIncrement = 100 / pages;\r\n\r\n\r\n    this.displayedColumns = ['speciesName', 'kept', 'released'];\r\n\r\n    // go to first screen\r\n    this.toNextPage();\r\n  }\r\n\r\n  populateReport(): void {\r\n\r\n    // initialize form with net data\r\n    let currNet: Net = this.getSelectedNet();\r\n    this.gillnetForm.patchValue({\r\n      net: currNet\r\n    });\r\n\r\n    let numReports: number = this.currTrip.dailyCatchReports.length;\r\n    if (numReports > 0) {\r\n      let prevReport: DailyCatchReport = this.currTrip.dailyCatchReports[numReports-1]; // get last report\r\n      this.gillnetForm.patchValue({ // fill report input fields\r\n        hoursFished: prevReport.hoursFished,\r\n        mgmtArea: prevReport.managementArea,\r\n        zoneArea: prevReport.subArea,\r\n        numSets: prevReport.numSets,\r\n        nonFish: prevReport.nonFish,\r\n        comments: prevReport.comments\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  filterTableData(): void {  // filters table data as well as species list accessible to the user\r\n    for(let species of this.unfilteredFishList) {\r\n      if(this.gillNetTable.containsSpecies.includes(species.speciesName)) {\r\n        this.fishListDetails.push(species);\r\n      }\r\n      if(!this.gillNetTable.excludesSpecies.includes(species.speciesName)) {\r\n        this.fishList.push(species);\r\n      }\r\n    }\r\n  }\r\n\r\n  determineCellStyling(value: number, name: string = ''): string {\r\n\r\n    if(value>0){\r\n      return 'bolded-cell';\r\n    } else if (this.isReleaseOnly(name)) { \r\n      return 'release-only-cell';\r\n    }\r\n\r\n    return 'faded-cell';\r\n  }\r\n\r\n  isReleaseOnly(name: string): boolean {\r\n    if(this.gillNetTable.releaseOnlySpecies.includes(name)){\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  // save current user data to local storage\r\n  saveUserDetails(): void {\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  // get the currently selected net\r\n  getSelectedNet(): Net {\r\n    for (let net of this.userNets) {\r\n      if (net.isChecked) {\r\n        return net;\r\n      }\r\n    }\r\n    return this.userNets?.length ? this.userNets[0] : this.emptyNet;\r\n  }\r\n\r\n  // set the radio buttons to the currently selected net in the catch report\r\n  setSelectedNet(currNet: Net): void {\r\n    for (let net of this.userNets) {\r\n      net.isChecked = (net.netName === currNet.netName);\r\n    }\r\n  }\r\n\r\n  // save the selected user nets for UI\r\n  saveUserNets(): void {\r\n    let currNet: Net = this.gillnetForm.get('net')?.value;\r\n    this.setSelectedNet(currNet);\r\n    this.gillnetForm.patchValue({\r\n      net: currNet\r\n    });\r\n    this.saveUserDetails();\r\n  }\r\n\r\n  // go to the next page\r\n  toNextPage(): void {\r\n\r\n    // page does not contain date\r\n    if (this.currPage <= this.numPages) {\r\n      this.saveUserNets();\r\n      this.incrementPage();\r\n    }\r\n\r\n    // page is final page\r\n    else {\r\n      this.sendToDFO();\r\n    }\r\n\r\n  }\r\n\r\n  // go forward a page, changing the current page number and the spinner progress\r\n  incrementPage(): void {\r\n    this.currPage++;\r\n    this.spinnerProgress += this.spinnerIncrement;\r\n  }\r\n\r\n  // go back to previous page\r\n  toPreviousPage(): void {\r\n\r\n    if (this.currPage === 1) {\r\n      this.saveUserNets();\r\n      this.toHome();\r\n    }\r\n    else {\r\n      this.currPage--;\r\n      this.spinnerProgress -= this.spinnerIncrement;\r\n    }\r\n\r\n  }\r\n\r\n  // add a new net\r\n  addNetDialog(): void {\r\n\r\n    const dialogRef: MatDialogRef<AddNetDialogComponent, any> = this.dialog.open(AddNetDialogComponent, {\r\n      width: '500px',\r\n      height: '550px'\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // update selected net as new net added then go to next screen\r\n        if (result !== 'delete') {\r\n          for (let net of this.userNets) { // un-check other nets\r\n            net.isChecked = false;\r\n          }\r\n          let newNet: Net = new Net(result.netType, result.netName, result.netLength, result.netDepth, result.netUnits, \r\n            result.hangRatio, result.meshSize, result.meshUnits, result.numMeshes, result.numStrands, true); \r\n           this.gillnetForm.patchValue({\r\n             net: newNet\r\n           });\r\n           this.userDetails.nets.push(newNet);\r\n           this.saveUserDetails(); //updating local storage\r\n           this.toNextPage();\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n  // update the specified species catch table\r\n  updateTable(): void {\r\n    this.table.renderRows();\r\n  }\r\n\r\n  calculateTotalFish(type: string): number {\r\n\r\n    let totalFish = 0;\r\n\r\n    if(type === 'kept'){\r\n      for(var i=0; i<this.fishListDetails.length; i++){\r\n        totalFish += this.fishListDetails[i].kept;\r\n      }\r\n    }else if(type === 'released'){\r\n      for(var i=0; i<this.fishListDetails.length; i++){\r\n        totalFish += this.fishListDetails[i].released;\r\n      }\r\n    }\r\n    return totalFish;\r\n  }\r\n\r\n  // get new species data from result\r\n  getNewSpecies(result: SpeciesData): SpeciesData {\r\n\r\n    let kept: number = result.kept ? +result.kept : 0;\r\n    let released: number = result.released ? +result.released : 0;\r\n    let newSpeciesData: SpeciesData = new SpeciesData(result.speciesName);\r\n    newSpeciesData.kept = kept;\r\n    newSpeciesData.released = released;\r\n\r\n    return newSpeciesData;\r\n\r\n  }\r\n\r\n  // add new species to the catch\r\n  addSpecies(fishListDetails: SpeciesData[]): void {\r\n\r\n    const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n      width: '500px',\r\n      height: '450px',\r\n      data: { identifier: 'add', species: new SpeciesData(''), currentFishList: fishListDetails, \r\n      filteredFishList: this.fishList, tableInfo: this.gillNetTable }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // adding a species to the catch\r\n        if (result !== 'delete') {\r\n          fishListDetails.push(this.getNewSpecies(result));\r\n        }\r\n\r\n        // update the table\r\n        this.updateTable();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // edit or delete a species from the catch\r\n  editSpecies(fishListDetails: SpeciesData[], index: number): void {\r\n\r\n    const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n      width: '500px',\r\n      height: '450px',\r\n      data: { identifier: 'edit', species: fishListDetails[index], currentFishList: fishListDetails, \r\n      filteredFishList: this.fishList, tableInfo: this.gillNetTable }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // editing a species in the catch\r\n        if (result !== 'delete') {\r\n          fishListDetails[index] = this.getNewSpecies(result);\r\n        }\r\n\r\n        // delete a species in the catch\r\n        else {\r\n          fishListDetails.splice(index, 1);\r\n        }\r\n\r\n        // update the table\r\n        this.updateTable();\r\n\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // add to, edit or delete from species catch list\r\n  addSpeciesDialog(index: number = -1): void {\r\n\r\n    // editing or deleting a species\r\n    if (index > -1) {\r\n          this.editSpecies(this.fishListDetails, index);\r\n      }\r\n\r\n    // adding a species\r\n    else {\r\n          this.addSpecies(this.fishListDetails);\r\n      }\r\n\r\n  }\r\n\r\n  // check if net value is invalid\r\n  netInvalid(): boolean {\r\n    let net: Net = this.gillnetForm.get('net')?.value;\r\n    return !net || !net.isValid();\r\n  }\r\n\r\n  // check if management area is invalid\r\n  managementAreaInvalid(): boolean {\r\n    return this.gillnetForm.get('mgmtArea')?.errors?.required;\r\n  }\r\n\r\n  // check if non-fish selection value is invalid\r\n  nonFishInvalid(): boolean {\r\n    return this.gillnetForm.get('nonFish')?.errors?.required;\r\n  }\r\n\r\n  // send catch to DFO\r\n  sendToDFO(): void {\r\n\r\n    if (this.gillnetForm.valid && !this.netInvalid()) {\r\n      this.saveCatchReport();\r\n      this.router.navigate(['submitted-report'], { state: { name: 'Daily Catch Report' } });\r\n      return;\r\n    }\r\n    this.toastr.error(\"Not all required fields filled\", \"Invalid form\");\r\n  }\r\n\r\n  // back to home screen\r\n  toHome(): void {\r\n    this.router.navigate(['active-trip-home']);\r\n  }\r\n\r\n  // forbid non-numeric inputs\r\n  forbidNonNumeric(controlName: string): void {\r\n    let control: AbstractControl = this.gillnetForm.get(controlName)!;\r\n    control.setValue(control.value.replace(/[^0-9]/g, ''));\r\n  }\r\n\r\n  // only allow one decimal place with 0 or 5 as the tenth digit\r\n  validateHoursFished(controlName: string): void {\r\n    let control: AbstractControl = this.gillnetForm.get(controlName)!;\r\n    const regex: RegExp = /^\\d+((\\.)|(\\.(0|5))?)$/; // matches inputs like: 23, 3, 4.5, 0.5, 9.0, 12., etc.\r\n    if(!regex.test(control.value)){ // if we don't find a match\r\n      control.setValue(control.value.replace(/.$/, '')); // replace the most recently entered character with ''\r\n    }\r\n  }\r\n\r\n  // creates a list of all species in the table that have non-zero data associated with them \r\n  determineSpeciesData(): SpeciesData[] {\r\n\r\n    let tempFishArray: SpeciesData[] = [];\r\n\r\n    for(let fish of this.fishListDetails) {\r\n      if(fish.kept > 0 || fish.released > 0) {\r\n        tempFishArray.push(fish);\r\n      }\r\n    }\r\n    return tempFishArray;\r\n  }\r\n\r\n  // saves all Daily Catch Report information pertinent to Gill Net\r\n  saveCatchReport(): void {\r\n\r\n    // save relevant information gathered in the form\r\n    this.catchReport.netUsed = this.gillnetForm.get('net')?.value;\r\n    this.catchReport.dateFished = this.catchDate;\r\n    this.catchReport.hoursFished = this.gillnetForm.get('hoursFished')?.value;\r\n    this.catchReport.managementArea = this.gillnetForm.get('mgmtArea')?.value;\r\n    this.catchReport.subArea = this.gillnetForm.get('zoneArea')?.value;\r\n    this.catchReport.numSets = this.gillnetForm.get('numSets')?.value;\r\n    this.catchReport.nonFish = this.gillnetForm.get('nonFish')?.value;\r\n    this.catchReport.comments = this.gillnetForm.get('comments')?.value;\r\n    this.catchReport.speciesDataList = this.determineSpeciesData();\r\n    this.catchReport.submissionDate = new Date(); // get current date/time\r\n\r\n    // push the report to currTrip\r\n    this.currTrip.dailyCatchReports.push(this.catchReport);\r\n\r\n    // save currTrip to local storage\r\n    this.userDetails.currTrip = this.currTrip;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails); \r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container catch-container\">\r\n\r\n    <div class=\"container\"\r\n         style=\"padding-top: 20px;\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h6 *ngIf=\"currPage <= numPages\">\r\n          <small class=\"text-muted\">\r\n            Page {{currPage}} of {{numPages}}\r\n          </small>\r\n        </h6>\r\n        <h6 *ngIf=\"currPage > numPages\">\r\n          <small class=\"text-muted\">\r\n            Gill Net Catch\r\n          </small>\r\n        </h6>\r\n      </div>\r\n  \r\n      <div class=\"row\" align=\"center\">\r\n        <div class=\"col-5\"></div>\r\n        <div class=\"col-2\">\r\n  \r\n          <mat-spinner *ngIf=\"currPage <= numPages\"\r\n                       mode=\"determinate\"\r\n                       [diameter]=\"50\"\r\n                       [strokeWidth]=\"6\"\r\n                       [value]=\"spinnerProgress\">\r\n          </mat-spinner>\r\n  \r\n          <mat-icon *ngIf=\"currPage > numPages\"\r\n                    style=\"color:#3ebfb9\">\r\n            check_circle_outline\r\n          </mat-icon>\r\n        </div>\r\n        <div class=\"col-5\"></div>\r\n      </div>\r\n    </div>\r\n  \r\n    <form [formGroup]=\"gillnetForm\">\r\n  \r\n      <!-- Q1: Select or Add Net -->\r\n      <div *ngIf=\"currPage === 1\"\r\n           class=\"container\">\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Which net did you use to fish?\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n            <div class=\"col-2\"></div>\r\n            <div class=\"col-8\">\r\n              <mat-radio-group class=\"radio\"\r\n                               formControlName=\"net\">\r\n                <mat-radio-button *ngFor=\"let net of userNets\"\r\n                                  [value]=\"net\"\r\n                                  [checked]=\"net.isChecked\">\r\n                  <h6 style=\"font-weight:bold\">\r\n                    <small class=\"text-muted text-small\">\r\n                      {{net}}\r\n                    </small>\r\n                  </h6>\r\n                </mat-radio-button>\r\n              </mat-radio-group>\r\n            </div>\r\n            <div class=\"col-2\"></div>\r\n          </div>\r\n  \r\n        <div class=\"row add-item\"\r\n             align=\"center\">\r\n          <div class=\"col-2\"></div>\r\n          <div class=\"col-8\">\r\n            <div class=\"row\">\r\n              <button mat-raised-button\r\n                      class=\"fishing-button-red\"\r\n                      type=\"button\"\r\n                      (click)=\"addNetDialog()\">\r\n                <span>\r\n                  Add New Net\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-2\"></div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Q2 - Catch Date & Hours Fished -->\r\n      <div *ngIf=\"currPage === 2\"\r\n           class=\"container\">\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Please provide the catch date.\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <div class=\"col-2\"></div>\r\n          <div class=\"col-8\">\r\n            <mat-card class=\"demo-inline-calendar-card\"\r\n                      style=\"margin-top: 10%\">\r\n              <mat-calendar [(selected)]=\"catchDate\"></mat-calendar>\r\n            </mat-card>\r\n          </div>\r\n          <div class=\"col-2\"></div>\r\n        </div>\r\n\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            How many hours did you spend fishing?\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Hours (round to the nearest half hour)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Hours\r\n            </mat-label>\r\n            <input matInput\r\n                   inputmode=\"numeric\"\r\n                   formControlName=\"hoursFished\"\r\n                   (input)=\"validateHoursFished('hoursFished')\">\r\n          </mat-form-field>\r\n        </div>\r\n          \r\n      </div>\r\n  \r\n      <!-- Q3: Management Area, Subarea, Number of Sets -->\r\n      <div *ngIf=\"currPage === 3\" class=\"container\">\r\n\r\n         <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Where did you fish?\r\n          </h5>\r\n        </div>\r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Management Area(s) <br>\r\n            (Do not include subareas)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Management Area\r\n            </mat-label>\r\n            <input matInput\r\n                   required\r\n                   formControlName=\"mgmtArea\">\r\n            <mat-error *ngIf=\"gillnetForm.invalid\">\r\n              Required\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <!-- may need to modify the data in sub area, or change the input to allow for multiple -->\r\n\r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Subarea(s) Fished <br>\r\n            (Comma-separate if multiple)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Subarea(s)\r\n            </mat-label>\r\n            <input matInput\r\n                   formControlName=\"zoneArea\">\r\n          </mat-form-field>\r\n        </div>\r\n        \r\n        <div class=\"row\" align=\"center\">\r\n            <h5 class=\"blue-heading-title\">\r\n            How many sets did you make?\r\n            </h5>\r\n        </div>\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              Number of Sets \r\n            </h6>\r\n            <mat-form-field appearance=\"outline\"\r\n                            class=\"form-field\">\r\n              <mat-label>\r\n                Number of Sets\r\n              </mat-label>\r\n              <input matInput\r\n                     inputmode=\"numeric\"\r\n                     formControlName=\"numSets\"\r\n                     (input)=\"forbidNonNumeric('numSets')\">\r\n            </mat-form-field>\r\n          </div>\r\n\r\n      </div>\r\n  \r\n      <!-- Q4: Catch Table -->\r\n      <div *ngIf=\"currPage === 4\"\r\n           class=\"container\">\r\n\r\n        <div class=\"row\"\r\n                align=\"center\">\r\n            <h5 class=\"blue-heading-title\">\r\n            Add or Edit Catch\r\n            </h5>\r\n        </div>\r\n\r\n        <table mat-table\r\n                [dataSource]=\"fishListDetails\"\r\n                class=\"mat-elevation-z8 margin-table\">\r\n\r\n        <!-- Name Column -->\r\n        <ng-container matColumnDef=\"speciesName\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Name\r\n            </th>\r\n            <td mat-cell\r\n                *matCellDef=\"let element\">\r\n            {{element.speciesName}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n\r\n        <!-- Kept Column -->\r\n        <ng-container matColumnDef=\"kept\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Kept\r\n            </th>\r\n              <td mat-cell [ngClass]=\"determineCellStyling(element.kept, element.speciesName)\"\r\n                  *matCellDef=\"let element\">\r\n              {{element.kept}}\r\n              </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Released Column -->\r\n        <ng-container matColumnDef=\"released\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Released\r\n            </th>\r\n            <td mat-cell [ngClass]=\"determineCellStyling(element.released)\"\r\n                *matCellDef=\"let element\">\r\n            {{element.released}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Rows -->\r\n\r\n        <tr mat-header-row\r\n            *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row\r\n            *matRowDef=\"let row; columns: displayedColumns; let index=index;\"\r\n            (click)=\"addSpeciesDialog(index)\"></tr>\r\n    </table>\r\n\r\n    <!-- Fish Totals -->\r\n\r\n    <div class=\"row\" style=\"padding-top: 10px;\">\r\n\r\n            <h6 style=\"color: #003F61\">\r\n                <b>\r\n                    Total Fish Kept:\r\n                </b>\r\n                {{calculateTotalFish('kept')}}\r\n                </h6>\r\n            <h6 style=\"color: #003F61\">\r\n                <b>\r\n                    Total Fish Released:\r\n                </b>\r\n                {{calculateTotalFish('released')}}\r\n            </h6>\r\n    </div>\r\n\r\n    <div class=\"row add-item\"\r\n            align=\"center\">\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-8\">\r\n        <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"fishing-button-red\"\r\n                    type=\"button\"\r\n                    (click)=\"addSpeciesDialog()\">\r\n              <span>\r\n                Add New Species\r\n              </span>\r\n            </button>\r\n        </div>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n    </div>\r\n    \r\n    </div>\r\n  \r\n      <!-- Q5: Non-Fish & Comments -->\r\n      <div *ngIf=\"currPage === 5\"\r\n           class=\"container\">\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Did you catch any birds, marine mammals, or turtles?\r\n          </h5>\r\n          <mat-form-field appearance=\"outline\"\r\n                              class=\"form-field\"\r\n                              style=\"padding-top: 15px;\">\r\n                <mat-label>\r\n                  Select\r\n                </mat-label>\r\n                <mat-select formControlName=\"nonFish\">\r\n                  <mat-option *ngFor=\"let response of responseOptions\"\r\n                              [value]=\"response\">\r\n                    {{response}}\r\n                  </mat-option>\r\n                </mat-select>\r\n                <mat-error *ngIf=\"gillnetForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n        </mat-form-field>\r\n        </div>\r\n\r\n\r\n        <h6 *ngIf=\"gillnetForm.get('nonFish')?.value === 'Yes'\"\r\n            class=\"blue-heading\">\r\n          Please provide the time of capture and species details in the comments.\r\n        </h6>\r\n\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Would you like to add a comment?\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Comments \r\n          </h6>\r\n          <mat-form-field appearance=\"fill\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Comments...\r\n            </mat-label>\r\n            <textarea matInput\r\n                      formControlName=\"comments\"\r\n                      rows=\"9\"></textarea>\r\n            <mat-error *ngIf=\"gillnetForm.invalid\">\r\n             Required\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n  \r\n      </div>\r\n  \r\n  \r\n      <!-- Confirmation Page -->\r\n      <div *ngIf=\"currPage > numPages\"\r\n           class=\"container\">\r\n        <div class=\"row\" align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Is all information complete and ready to be submitted to DFO?\r\n          </h5>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <h6 class=\"blue-label\">\r\n            <b>Net Used:</b>\r\n            <small *ngIf=\"!netInvalid()\"\r\n                   class=\"blue-label\">\r\n              {{gillnetForm.get('net')?.value}}\r\n            </small>\r\n            <small *ngIf=\"netInvalid()\"\r\n                   class=\"red-label\">\r\n              [Required]\r\n            </small>\r\n          </h6>\r\n          </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-label\">\r\n              <b>Date Fished:</b> \r\n                {{ catchDate | date }}\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-label\">\r\n             <b>Hours Fished:</b>\r\n              <small class=\"blue-label\">\r\n                {{gillnetForm.get('hoursFished')?.value}}\r\n            </small>\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              <b>Management Area Fished:</b>\r\n              <small *ngIf=\"!managementAreaInvalid()\"\r\n                     class=\"blue-label\">\r\n                {{gillnetForm.get('mgmtArea')?.value}}\r\n              </small>\r\n              <small *ngIf=\"managementAreaInvalid()\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n            </h6>\r\n          </div>\r\n    \r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n                <b>Subarea(s) Fished:</b> \r\n              <small class=\"blue-label\">\r\n                {{gillnetForm.get('zoneArea')?.value}}\r\n              </small>\r\n            </h6>\r\n          </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Number of Sets:</b>\r\n            <small class=\"blue-label\">\r\n              {{gillnetForm.get('numSets')?.value}}\r\n            </small>\r\n          </h6>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Total Fish Kept:</b>\r\n            <small class=\"blue-label\">\r\n              {{calculateTotalFish('kept')}}\r\n            </small>\r\n          </h6>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n             <b>Total Fish Released:</b> \r\n              <small class=\"blue-label\">\r\n                {{calculateTotalFish('released')}}\r\n              </small>\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              <b>Non-fish caught?:</b>\r\n              <small *ngIf=\"!nonFishInvalid()\"\r\n                     class=\"blue-label\">\r\n                {{gillnetForm.get('nonFish')?.value}}\r\n              </small>\r\n              <small *ngIf=\"nonFishInvalid()\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n            </h6>\r\n          </div>\r\n\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Comments:</b>\r\n            <small class=\"blue-label\">\r\n              {{gillnetForm.get('comments')?.value}}\r\n            </small>\r\n            <small *ngIf=\"gillnetForm.get('comments')?.errors?.required\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n          </h6>\r\n        </div>\r\n  \r\n      </div>\r\n    </form>\r\n\r\n    <!-- Navigation Buttons -->\r\n  \r\n  \r\n    <div class=\"row\" style=\"margin-top: auto; padding-bottom: 3%; padding-top: 10px\">\r\n      <div class=\"col-1\"></div>\r\n      <div class=\"col-4\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  class=\"fishing-button-blue\"\r\n                  type=\"button\"\r\n                  (click)=\"toPreviousPage()\">\r\n            <span>\r\n              Back\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-2\"></div>\r\n      <div class=\"col-4\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  class=\"fishing-button-red\"\r\n                  type=\"submit\"\r\n                  (click)=\"toNextPage()\">\r\n            <span *ngIf=\"currPage <= numPages\">\r\n              Next\r\n            </span>\r\n            <span *ngIf=\"currPage > numPages\">\r\n              Send to DFO\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { SpeciesData } from '../../data-models/catch-table-models/species-data.model';\r\nimport { AddSpeciesDialogComponent } from '../../dialogs/add-species-dialog/add-species-dialog.component';\r\nimport { TableRules } from 'src/app/data-models/catch-table-models/table-rules.model';\r\nimport { DailyCatchReport } from 'src/app/data-models/report-models/daily-catch-report.model';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-seine-report',\r\n  templateUrl: './seine-report.component.html',\r\n  styleUrls: ['./seine-report.component.css']\r\n})\r\nexport class SeineReportComponent {\r\n\r\n   // for updating the table\r\n   @ViewChild(MatTable) table!: MatTable<SpeciesData>;\r\n\r\n   responseOptions: string[] = ['Yes', 'No']; //hardcoded values to be used in the form\r\n \r\n   fishListDetails: SpeciesData[] = []; // source for table data - all data currently in the table\r\n \r\n   // data preambles\r\n   catchReport: DailyCatchReport = new DailyCatchReport(); // catch report we will fill out\r\n   currTrip: Trip = new Trip();\r\n   userDetails: UserData = new UserData('', '');\r\n   unfilteredFishList: SpeciesData[] = []; // temporary array to store species contained in local storage\r\n   fishList: SpeciesData[] = []; // filtered list of species data, will comprise the user's look-up list\r\n   seineTable: TableRules = new TableRules(); // used to filter table data\r\n \r\n   // values associated with each page\r\n   seineForm: UntypedFormGroup = new UntypedFormGroup({\r\n \r\n     hoursFished: new FormControl<string>(''), //page 1\r\n \r\n     //page 2\r\n     mgmtArea: new FormControl<string>('', [Validators.required]),\r\n     zoneArea: new FormControl<string>(''),\r\n     numSets: new FormControl<string>(''),\r\n \r\n     //page 4\r\n     comments: new FormControl<string>(''), // conditional validation\r\n     nonFish: new FormControl<string>('', [Validators.required]) \r\n   });\r\n \r\n   catchDate: Date = new Date(); //page 1 \r\n   displayedColumns: string[] = []; // page 3\r\n \r\n \r\n   // section to section\r\n   numPages: number = 0;\r\n   currPage: number = 0;\r\n   spinnerProgress: number = 0;\r\n   spinnerIncrement: number = 0;\r\n \r\n   constructor(\r\n     private dialog: MatDialog,\r\n     private auth: AuthService,\r\n     private router: Router,\r\n     private onlineStatusService: OnlineStatusService,\r\n     private toastr: ToastrService,\r\n     private localStorageService: LocalStorageService\r\n   ) {\r\n \r\n     if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n       let currID: string = this.localStorageService.getCurrID();\r\n       this.userDetails = this.localStorageService.getUserByID(currID);\r\n       this.initialize();\r\n     }\r\n\r\n     else {\r\n       this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n         if (authd) {\r\n           this.auth.user$.subscribe((user: User | null | undefined) => {\r\n             if (user) {\r\n\r\n               // fill trip, net, license area, net and species lists\r\n               this.userDetails = this.localStorageService.getUser(user);\r\n               this.initialize();\r\n\r\n             }\r\n             else {\r\n               this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n               this.localStorageService.logout();\r\n               return;\r\n             }\r\n           });\r\n         }\r\n         else {\r\n           this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n           this.localStorageService.logout();\r\n           return;\r\n         }\r\n       });\r\n     }\r\n \r\n   }\r\n \r\n   ngOnInit(): void {\r\n \r\n     this.onNonFishChange();\r\n \r\n   }\r\n \r\n   onNonFishChange(): void {\r\n     this.seineForm.get('nonFish')?.valueChanges.subscribe((value: string) => {\r\n       const commentControl: AbstractControl<any, any> | null = this.seineForm.get('comments');\r\n \r\n       if(value === 'Yes'){\r\n         commentControl?.setValidators([Validators.required]);\r\n       }else{\r\n         commentControl?.clearValidators();\r\n       }\r\n       commentControl?.updateValueAndValidity();\r\n     })\r\n   }\r\n \r\n   // initialize the data\r\n   initialize(): void {\r\n \r\n     // get all required data\r\n     this.currTrip = this.userDetails.currTrip;\r\n     this.unfilteredFishList = this.localStorageService.getSpeciesList('fishList');\r\n     this.seineTable = this.localStorageService.getTableRules('Seine');\r\n \r\n     this.filterTableData(); // filters table data as well as species list accessible to the user\r\n     this.populateReport(); // populate report with data from previous daily catch report\r\n\r\n \r\n     // fill catch page details\r\n     let pages: number = 4; \r\n     this.numPages = pages;\r\n     this.spinnerIncrement = 100 / pages;\r\n \r\n \r\n     this.displayedColumns = ['speciesName', 'kept', 'released'];\r\n \r\n     // go to first screen\r\n     this.toNextPage();\r\n   }\r\n\r\n   populateReport(): void {\r\n\r\n    let numReports: number = this.currTrip.dailyCatchReports.length;\r\n    if (numReports > 0) {\r\n      let prevReport: DailyCatchReport = this.currTrip.dailyCatchReports[numReports-1]; // get last report\r\n      this.seineForm.patchValue({ // fill report input fields\r\n        hoursFished: prevReport.hoursFished,\r\n        mgmtArea: prevReport.managementArea,\r\n        zoneArea: prevReport.subArea,\r\n        numSets: prevReport.numSets,\r\n        nonFish: prevReport.nonFish,\r\n        comments: prevReport.comments\r\n      });\r\n    }\r\n\r\n  }\r\n \r\n   filterTableData(): void{ // filters table data as well as species list accessible to the user\r\n     for(let species of this.unfilteredFishList){\r\n       if(this.seineTable.containsSpecies.includes(species.speciesName)){\r\n         this.fishListDetails.push(species);\r\n       }\r\n       if(!this.seineTable.excludesSpecies.includes(species.speciesName)) {\r\n        this.fishList.push(species);\r\n      }\r\n     }\r\n   }\r\n\r\n  determineCellStyling(value: number): string {\r\n    if(value>0){\r\n      return 'bolded-cell';\r\n    }\r\n    return 'faded-cell';\r\n  }\r\n \r\n   // go to the next page\r\n   toNextPage(): void {\r\n \r\n     // page does not contain date\r\n    if (this.currPage <= this.numPages) {\r\n       this.incrementPage();\r\n     }\r\n \r\n     // page is final page\r\n     else {\r\n       this.sendToDFO();\r\n     }\r\n \r\n   }\r\n \r\n   // go forward a page, changing the current page number and the spinner progress\r\n   incrementPage(): void {\r\n     this.currPage++;\r\n     this.spinnerProgress += this.spinnerIncrement;\r\n   }\r\n \r\n   // go back to previous page\r\n   toPreviousPage(): void {\r\n \r\n     if (this.currPage === 1) {\r\n       this.toHome();\r\n     }\r\n     else {\r\n       this.currPage--;\r\n       this.spinnerProgress -= this.spinnerIncrement;\r\n     }\r\n \r\n   }\r\n \r\n \r\n   // update the specified species catch table\r\n   updateTable(): void {\r\n     this.table.renderRows();\r\n   }\r\n \r\n   calculateTotalFish(type: string): number {\r\n \r\n     let totalFish = 0;\r\n \r\n     if(type === 'kept'){\r\n       for(var i=0; i<this.fishListDetails.length; i++){\r\n         totalFish += this.fishListDetails[i].kept;\r\n       }\r\n     }else if(type === 'released'){\r\n       for(var i=0; i<this.fishListDetails.length; i++){\r\n         totalFish += this.fishListDetails[i].released;\r\n       }\r\n     }\r\n     return totalFish;\r\n   }\r\n \r\n   // get new species data from result\r\n   getNewSpecies(result: SpeciesData): SpeciesData {\r\n \r\n     let kept: number = result.kept ? +result.kept : 0;\r\n     let released: number = result.released ? +result.released : 0;\r\n     let newSpeciesData: SpeciesData = new SpeciesData(result.speciesName);\r\n     newSpeciesData.kept = kept;\r\n     newSpeciesData.released = released;\r\n \r\n     return newSpeciesData;\r\n \r\n   }\r\n \r\n   // add new species to the catch\r\n   addSpecies(fishListDetails: SpeciesData[]): void {\r\n \r\n     const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n       width: '500px',\r\n       height: '450px',\r\n       data: { identifier: 'add', species: new SpeciesData(''), currentFishList: fishListDetails, \r\n       filteredFishList: this.fishList, tableInfo: this.seineTable }\r\n     });\r\n \r\n     dialogRef.afterClosed().subscribe((result: any) => {\r\n       if (result) {\r\n \r\n         // adding a species to the catch\r\n         if (result !== 'delete') {\r\n           fishListDetails.push(this.getNewSpecies(result));\r\n         }\r\n \r\n         // update the table\r\n         this.updateTable();\r\n       }\r\n     });\r\n \r\n   }\r\n \r\n   // edit or delete a species from the catch\r\n   editSpecies(fishListDetails: SpeciesData[], index: number): void {\r\n \r\n     const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n       width: '500px',\r\n       height: '450px',\r\n       data: { identifier: 'edit', species: fishListDetails[index], currentFishList: fishListDetails, \r\n       filteredFishList: this.fishList, tableInfo: this.seineTable }\r\n     });\r\n \r\n     dialogRef.afterClosed().subscribe((result: any) => {\r\n       if (result) {\r\n \r\n         // editing a species in the catch\r\n         if (result !== 'delete') {\r\n           fishListDetails[index] = this.getNewSpecies(result);\r\n         }\r\n \r\n         // delete a species in the catch\r\n         else {\r\n           fishListDetails.splice(index, 1);\r\n         }\r\n \r\n         // update the table\r\n         this.updateTable();\r\n \r\n       }\r\n     });\r\n \r\n   }\r\n \r\n   // add to, edit or delete from species catch list\r\n   addSpeciesDialog(index: number = -1): void {\r\n \r\n     // editing or deleting a species\r\n     if (index > -1) {\r\n           this.editSpecies(this.fishListDetails, index);\r\n       }\r\n \r\n     // adding a species\r\n     else {\r\n           this.addSpecies(this.fishListDetails);\r\n       }\r\n \r\n  }\r\n\r\n  // check if management area is invalid\r\n  managementAreaInvalid(): boolean {\r\n    return this.seineForm.get('mgmtArea')?.errors?.required;\r\n  }\r\n\r\n  // check if non-fish selection value is invalid\r\n  nonFishInvalid(): boolean {\r\n    return this.seineForm.get('nonFish')?.errors?.required;\r\n  }\r\n \r\n   // send catch to DFO\r\n   sendToDFO(): void {\r\n     if (this.seineForm.valid) {\r\n      this.saveCatchReport();\r\n      this.router.navigate(['submitted-report'], { state: { name: 'Daily Catch Report' } });\r\n      return;\r\n     }\r\n     this.toastr.error(\"Not all required fields filled\", \"Invalid form\");\r\n   }\r\n \r\n   // back to home screen\r\n   toHome(): void {\r\n     this.router.navigate(['active-trip-home']);\r\n   }\r\n\r\n  // only allow one decimal place with 0 or 5 as the tenth digit\r\n  validateHoursFished(controlName: string): void {\r\n    let control: AbstractControl = this.seineForm.get(controlName)!;\r\n    const regex: RegExp = /^\\d+((\\.)|(\\.(0|5))?)$/; // matches inputs like: 23, 3, 4.5, 0.5, 9.0, 12., etc.\r\n    if (!regex.test(control.value)) { // if we don't find a match\r\n      control.setValue(control.value.replace(/.$/, '')); // replace the most recently entered character with ''\r\n    }\r\n  }\r\n \r\n  // forbid field from entering non-decimal values\r\n  forbidNonNumeric(controlName: string): void {\r\n    let control: AbstractControl = this.seineForm.get(controlName)!;\r\n    control.setValue(control.value.replace(/[^0-9]/g, ''));\r\n  }\r\n\r\n  // creates a list of all species in the table that have non-zero data associated with them\r\n  determineSpeciesData(): SpeciesData[] {\r\n\r\n    let tempFishArray: SpeciesData[] = [];\r\n\r\n    for(let fish of this.fishListDetails) {\r\n      if(fish.kept > 0 || fish.released > 0) {\r\n        tempFishArray.push(fish);\r\n      }\r\n    }\r\n    return tempFishArray;\r\n  }\r\n\r\n     // saves all Daily Catch Report information pertinent to Seine\r\n  saveCatchReport(): void {\r\n\r\n    // save relevant information gathered in the form\r\n    this.catchReport.dateFished = this.catchDate;\r\n    this.catchReport.hoursFished = this.seineForm.get('hoursFished')?.value;\r\n    this.catchReport.managementArea = this.seineForm.get('mgmtArea')?.value;\r\n    this.catchReport.subArea = this.seineForm.get('zoneArea')?.value;\r\n    this.catchReport.numSets = this.seineForm.get('numSets')?.value;\r\n    this.catchReport.nonFish = this.seineForm.get('nonFish')?.value;\r\n    this.catchReport.comments = this.seineForm.get('comments')?.value;\r\n    this.catchReport.speciesDataList = this.determineSpeciesData();\r\n    this.catchReport.submissionDate = new Date(); // get current date/time\r\n\r\n    // push the report to currTrip\r\n    this.currTrip.dailyCatchReports.push(this.catchReport); \r\n\r\n    // save currTrip to local storage\r\n    this.userDetails.currTrip = this.currTrip;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails); \r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container catch-container\">\r\n\r\n    <div class=\"container\"\r\n         style=\"padding-top: 20px;\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h6 *ngIf=\"currPage <= numPages\">\r\n          <small class=\"text-muted\">\r\n            Page {{currPage}} of {{numPages}}\r\n          </small>\r\n        </h6>\r\n        <h6 *ngIf=\"currPage > numPages\">\r\n          <small class=\"text-muted\">\r\n            Seine Catch\r\n          </small>\r\n        </h6>\r\n      </div>\r\n  \r\n      <div class=\"row\" align=\"center\">\r\n        <div class=\"col-5\"></div>\r\n        <div class=\"col-2\">\r\n  \r\n          <mat-spinner *ngIf=\"currPage <= numPages\"\r\n                       mode=\"determinate\"\r\n                       [diameter]=\"50\"\r\n                       [strokeWidth]=\"6\"\r\n                       [value]=\"spinnerProgress\">\r\n          </mat-spinner>\r\n  \r\n          <mat-icon *ngIf=\"currPage > numPages\"\r\n                    style=\"color:#3ebfb9\">\r\n            check_circle_outline\r\n          </mat-icon>\r\n        </div>\r\n        <div class=\"col-5\"></div>\r\n      </div>\r\n    </div>\r\n  \r\n    <form [formGroup]=\"seineForm\">\r\n  \r\n      <!-- Q1 - Catch Date & Hours Fished -->\r\n      <div *ngIf=\"currPage === 1\"\r\n           class=\"container\">\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Please provide the catch date.\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <div class=\"col-2\"></div>\r\n          <div class=\"col-8\">\r\n            <mat-card class=\"demo-inline-calendar-card\"\r\n                      style=\"margin-top: 10%\">\r\n              <mat-calendar [(selected)]=\"catchDate\"></mat-calendar>\r\n            </mat-card>\r\n          </div>\r\n          <div class=\"col-2\"></div>\r\n        </div>\r\n\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            How many hours did you spend fishing?\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Hours (round to the nearest half hour)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Hours\r\n            </mat-label>\r\n            <input matInput\r\n                   inputmode=\"numeric\"\r\n                   formControlName=\"hoursFished\"\r\n                   (input)=\"validateHoursFished('hoursFished')\">\r\n          </mat-form-field>\r\n        </div>\r\n          \r\n      </div>\r\n  \r\n      <!-- Q2: Management Area, Subarea, Number of Sets -->\r\n      <div *ngIf=\"currPage === 2\" class=\"container\">\r\n\r\n         <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Where did you fish?\r\n          </h5>\r\n        </div>\r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Management Area(s) <br>\r\n            (Do not include subareas)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Management Area\r\n            </mat-label>\r\n            <input matInput\r\n                   required\r\n                   formControlName=\"mgmtArea\">\r\n            <mat-error *ngIf=\"seineForm.invalid\">\r\n              Required\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Subarea(s) Fished <br>\r\n            (Comma-separate if multiple)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Subarea(s)\r\n            </mat-label>\r\n            <input matInput\r\n                   formControlName=\"zoneArea\">\r\n          </mat-form-field>\r\n        </div>\r\n        \r\n        <div class=\"row\" align=\"center\">\r\n            <h5 class=\"blue-heading-title\">\r\n            How many sets did you make?\r\n            </h5>\r\n        </div>\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              Number of Sets \r\n            </h6>\r\n            <mat-form-field appearance=\"outline\"\r\n                            class=\"form-field\">\r\n              <mat-label>\r\n                Number of Sets\r\n              </mat-label>\r\n              <input matInput\r\n                     inputmode=\"numeric\"\r\n                     formControlName=\"numSets\"\r\n                     (input)=\"forbidNonNumeric('numSets')\">\r\n            </mat-form-field>\r\n          </div>\r\n\r\n      </div>\r\n  \r\n      <!-- Q3: Catch Table -->\r\n      <div *ngIf=\"currPage === 3\"\r\n           class=\"container\">\r\n\r\n        <div class=\"row\"\r\n                align=\"center\">\r\n            <h5 class=\"blue-heading-title\">\r\n            Add or Edit Catch\r\n            </h5>\r\n        </div>\r\n\r\n        <table mat-table\r\n                [dataSource]=\"fishListDetails\"\r\n                class=\"mat-elevation-z8 margin-table\">\r\n\r\n        <!-- Name Column -->\r\n        <ng-container matColumnDef=\"speciesName\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Name\r\n            </th>\r\n            <td mat-cell\r\n                *matCellDef=\"let element\">\r\n            {{element.speciesName}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Kept Column -->\r\n        <ng-container matColumnDef=\"kept\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Kept\r\n            </th>\r\n            <td mat-cell [ngClass]=\"determineCellStyling(element.kept)\"\r\n                *matCellDef=\"let element\">\r\n            {{element.kept}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Released Column -->\r\n        <ng-container matColumnDef=\"released\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Released\r\n            </th>\r\n            <td mat-cell [ngClass]=\"determineCellStyling(element.released)\"\r\n                *matCellDef=\"let element\">\r\n            {{element.released}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Rows -->\r\n\r\n        <tr mat-header-row\r\n            *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row\r\n            *matRowDef=\"let row; columns: displayedColumns; let index=index;\"\r\n            (click)=\"addSpeciesDialog(index)\"></tr>\r\n    </table>\r\n\r\n    <!-- Fish Totals -->\r\n\r\n    <div class=\"row\" style=\"padding-top: 10px;\">\r\n\r\n            <h6 style=\"color: #003F61\">\r\n                <b>\r\n                    Total Fish Kept:\r\n                </b>\r\n                {{calculateTotalFish('kept')}}\r\n                </h6>\r\n            <h6 style=\"color: #003F61\">\r\n                <b>\r\n                    Total Fish Released:\r\n                </b>\r\n                {{calculateTotalFish('released')}}\r\n            </h6>\r\n    </div>\r\n\r\n    <div class=\"row add-item\"\r\n            align=\"center\">\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-8\">\r\n        <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"fishing-button-red\"\r\n                    type=\"button\"\r\n                    (click)=\"addSpeciesDialog()\">\r\n              <span>\r\n                Add New Species\r\n              </span>\r\n            </button>\r\n        </div>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n    </div>\r\n    \r\n    </div>\r\n  \r\n      <!-- Q4: Non-Fish & Comments -->\r\n      <div *ngIf=\"currPage === 4\"\r\n           class=\"container\">\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Did you catch any birds, marine mammals, or turtles?\r\n          </h5>\r\n          <mat-form-field appearance=\"outline\"\r\n                              class=\"form-field\"\r\n                              style=\"padding-top: 15px;\">\r\n                <mat-label>\r\n                  Select\r\n                </mat-label>\r\n                <mat-select formControlName=\"nonFish\">\r\n                  <mat-option *ngFor=\"let response of responseOptions\"\r\n                              [value]=\"response\">\r\n                    {{response}}\r\n                  </mat-option>\r\n                </mat-select>\r\n                <mat-error *ngIf=\"seineForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n        </mat-form-field>\r\n        </div>\r\n\r\n        <h6 *ngIf=\"seineForm.get('nonFish')?.value === 'Yes'\"\r\n            class=\"blue-heading\">\r\n          Please provide the time of capture and species details in the comments.\r\n        </h6>\r\n\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Would you like to add a comment?\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Comments \r\n          </h6>\r\n          <mat-form-field appearance=\"fill\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Comments...\r\n            </mat-label>\r\n            <textarea matInput\r\n                      formControlName=\"comments\"\r\n                      rows=\"9\"></textarea>\r\n            <mat-error *ngIf=\"seineForm.invalid\">\r\n             Required\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n  \r\n      </div>\r\n  \r\n  \r\n      <!-- Confirmation Page -->\r\n      <div *ngIf=\"currPage > numPages\"\r\n           class=\"container\">\r\n        <div class=\"row\" align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Is all information complete and ready to be submitted to DFO?\r\n          </h5>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-label\">\r\n              <b>Date Fished:</b> \r\n                {{ catchDate | date }}\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-label\">\r\n             <b>Hours Fished:</b>\r\n             <small class=\"blue-label\">\r\n               {{seineForm.get('hoursFished')?.value}}\r\n             </small>\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              <b>Management Area Fished:</b>\r\n              <small *ngIf=\"!managementAreaInvalid()\"\r\n                     class=\"blue-label\">\r\n                {{seineForm.get('mgmtArea')?.value}}\r\n              </small>\r\n              <small *ngIf=\"managementAreaInvalid()\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n            </h6>\r\n          </div>\r\n    \r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n                <b>Subarea(s) Fished:</b> \r\n                <small class=\"blue-label\">\r\n                  {{seineForm.get('zoneArea')?.value}}\r\n                </small>\r\n            </h6>\r\n          </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Number of Sets:</b>\r\n            <small class=\"blue-label\">\r\n              {{seineForm.get('numSets')?.value}}\r\n            </small>\r\n          </h6>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Total Fish Kept:</b>\r\n            <small class=\"blue-label\">\r\n              {{calculateTotalFish('kept')}}\r\n            </small>\r\n          </h6>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n             <b>Total Fish Released:</b> \r\n              <small class=\"blue-label\">\r\n                {{calculateTotalFish('released')}}\r\n              </small>\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              <b>Non-fish caught?:</b>\r\n              <small *ngIf=\"!nonFishInvalid()\"\r\n                     class=\"blue-label\">\r\n                {{seineForm.get('nonFish')?.value}}\r\n              </small>\r\n              <small *ngIf=\"nonFishInvalid()\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n            </h6>\r\n          </div>\r\n\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Comments:</b>\r\n            <small class=\"blue-label\">\r\n              {{seineForm.get('comments')?.value}}\r\n            </small>\r\n            <small *ngIf=\"seineForm.get('comments')?.errors?.required\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n          </h6>\r\n        </div>\r\n  \r\n      </div>\r\n    </form>\r\n\r\n    <!-- Navigation Buttons -->\r\n  \r\n  \r\n    <div class=\"row\" style=\"margin-top: auto; padding-bottom: 3%; padding-top: 10px\">\r\n      <div class=\"col-1\"></div>\r\n      <div class=\"col-4\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  class=\"fishing-button-blue\"\r\n                  type=\"button\"\r\n                  (click)=\"toPreviousPage()\">\r\n            <span>\r\n              Back\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-2\"></div>\r\n      <div class=\"col-4\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  class=\"fishing-button-red\"\r\n                  type=\"submit\"\r\n                  (click)=\"toNextPage()\">\r\n            <span *ngIf=\"currPage <= numPages\">\r\n              Next\r\n            </span>\r\n            <span *ngIf=\"currPage > numPages\">\r\n              Send to DFO\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { SpeciesData } from '../../data-models/catch-table-models/species-data.model';\r\nimport { AddSpeciesDialogComponent } from '../../dialogs/add-species-dialog/add-species-dialog.component';\r\nimport { TableRules } from 'src/app/data-models/catch-table-models/table-rules.model';\r\nimport { DailyCatchReport } from 'src/app/data-models/report-models/daily-catch-report.model';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\n\r\n@Component({\r\n  selector: 'app-troll-report',\r\n  templateUrl: './troll-report.component.html',\r\n  styleUrls: ['./troll-report.component.css']\r\n})\r\nexport class TrollReportComponent {\r\n\r\n     // for updating the table\r\n     @ViewChild(MatTable) table!: MatTable<SpeciesData>;\r\n\r\n     //hardcoded values to be used in the form\r\n     responseOptions: string[] = ['Yes', 'No']; \r\n     stateOptions: string[] = ['Frozen (F)', 'Iced (I)'];\r\n   \r\n     fishListDetails: SpeciesData[] = []; // source for table data - all data currently in the table\r\n     trollTable: TableRules = new TableRules(); // used to filter table data\r\n  \r\n     // data preambles\r\n     catchReport: DailyCatchReport = new DailyCatchReport(); // catch report we will fill out\r\n     currTrip: Trip = new Trip();\r\n     userDetails: UserData = new UserData('', '');\r\n     unfilteredFishList: SpeciesData[] = []; // temporary array to store species contained in local storage\r\n     fishList: SpeciesData[] = []; //filtered list of species data, will comprise the user's look-up list\r\n   \r\n     // values associated with each page\r\n     trollForm: UntypedFormGroup = new UntypedFormGroup({\r\n   \r\n       hoursFished: new FormControl<string>(''), //page 1\r\n   \r\n       //page 2\r\n       mgmtArea: new FormControl<string>('', [Validators.required]),\r\n       zoneArea: new FormControl<string>(''),\r\n       frozenOrIced: new FormControl<string>('', [Validators.required]),\r\n   \r\n       //page 4\r\n       comments: new FormControl<string>(''), // conditional validation\r\n       nonFish: new FormControl<string>('', [Validators.required]) \r\n     });\r\n   \r\n     catchDate: Date = new Date(); //page 1 \r\n     displayedColumns: string[] = []; // page 3\r\n   \r\n   \r\n     // section to section\r\n     numPages: number = 0;\r\n     currPage: number = 0;\r\n     spinnerProgress: number = 0;\r\n     spinnerIncrement: number = 0;\r\n   \r\n     constructor(\r\n       private dialog: MatDialog,\r\n       private auth: AuthService,\r\n       private router: Router,\r\n       private onlineStatusService: OnlineStatusService,\r\n       private toastr: ToastrService,\r\n       private localStorageService: LocalStorageService\r\n     ) {\r\n   \r\n       if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n         let currID: string = this.localStorageService.getCurrID();\r\n         this.userDetails = this.localStorageService.getUserByID(currID);\r\n         this.initialize();\r\n       }\r\n\r\n       else {\r\n         this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n           if (authd) {\r\n             this.auth.user$.subscribe((user: User | null | undefined) => {\r\n               if (user) {\r\n\r\n                 // fill trip, net, license area, net and species lists\r\n                 this.userDetails = this.localStorageService.getUser(user);\r\n                 this.initialize();\r\n\r\n               }\r\n               else {\r\n                 this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n                 this.localStorageService.logout();\r\n                 return;\r\n               }\r\n             });\r\n           }\r\n           else {\r\n             this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n             this.localStorageService.logout();\r\n             return;\r\n           }\r\n         });\r\n       }\r\n   \r\n     }\r\n   \r\n     ngOnInit(): void {\r\n   \r\n       this.onNonFishChange();\r\n   \r\n     }\r\n   \r\n     onNonFishChange(): void {\r\n       this.trollForm.get('nonFish')?.valueChanges.subscribe((value: string) =>{\r\n         const commentControl: AbstractControl<any, any> | null = this.trollForm.get('comments');\r\n   \r\n         if(value === 'Yes'){\r\n           commentControl?.setValidators([Validators.required]);\r\n         }else{\r\n           commentControl?.clearValidators();\r\n         }\r\n         commentControl?.updateValueAndValidity();\r\n       })\r\n     }\r\n   \r\n     // initialize the data\r\n     initialize(): void {\r\n   \r\n       // get all required data\r\n       this.currTrip = this.userDetails.currTrip;\r\n       this.unfilteredFishList = this.localStorageService.getSpeciesList('fishList');\r\n       this.trollTable = this.localStorageService.getTableRules('Troll');\r\n   \r\n       this.filterTableData(); //gets data to fill the table (subset of fishList)\r\n       this.populateReport(); // populate report with data from previous daily catch report\r\n\r\n   \r\n       // fill catch page details\r\n       let pages: number = 4; \r\n       this.numPages = pages;\r\n       this.spinnerIncrement = 100 / pages;\r\n   \r\n   \r\n       this.displayedColumns = ['speciesName', 'kept', 'released'];\r\n   \r\n       // go to first screen\r\n       this.toNextPage();\r\n     }\r\n\r\n     populateReport(): void {\r\n\r\n      let numReports: number = this.currTrip.dailyCatchReports.length;\r\n      if (numReports > 0) {\r\n        let prevReport: DailyCatchReport = this.currTrip.dailyCatchReports[numReports-1]; // get last report\r\n        this.trollForm.patchValue({ // fill report input fields\r\n          hoursFished: prevReport.hoursFished,\r\n          mgmtArea: prevReport.managementArea,\r\n          zoneArea: prevReport.subArea,\r\n          frozenOrIced: prevReport.frozenOrIced,\r\n          nonFish: prevReport.nonFish,\r\n          comments: prevReport.comments\r\n        });\r\n      }\r\n  \r\n    }\r\n   \r\n     filterTableData(): void { // filters table data as well as species list accessible to the user\r\n       for(let species of this.unfilteredFishList){\r\n         if(this.trollTable.containsSpecies.includes(species.speciesName)){\r\n           this.fishListDetails.push(species);\r\n         }\r\n         if(!this.trollTable.excludesSpecies.includes(species.speciesName)) {\r\n          this.fishList.push(species);\r\n        }\r\n       }\r\n     }\r\n\r\n     determineCellStyling(value: number, name: string = ''): string {\r\n\r\n      if(value>0){\r\n        return 'bolded-cell';\r\n      } else if (this.isReleaseOnly(name)) { \r\n        return 'release-only-cell';\r\n      }\r\n      return 'faded-cell';\r\n    }\r\n\r\n    isReleaseOnly(name: string): boolean {\r\n      if(this.trollTable.releaseOnlySpecies.includes(name)){\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n   \r\n     // go to the next page\r\n     toNextPage(): void {\r\n   \r\n       // page does not contain date\r\n      if (this.currPage <= this.numPages) {\r\n         this.incrementPage();\r\n       }\r\n   \r\n       // page is final page\r\n       else {\r\n         this.sendToDFO();\r\n       }\r\n   \r\n     }\r\n   \r\n     // go forward a page, changing the current page number and the spinner progress\r\n     incrementPage(): void {\r\n       this.currPage++;\r\n       this.spinnerProgress += this.spinnerIncrement;\r\n     }\r\n   \r\n     // go back to previous page\r\n     toPreviousPage(): void {\r\n   \r\n       if (this.currPage === 1) {\r\n         this.toHome();\r\n       }\r\n       else {\r\n         this.currPage--;\r\n         this.spinnerProgress -= this.spinnerIncrement;\r\n       }\r\n   \r\n     }\r\n   \r\n   \r\n     // update the specified species catch table\r\n     updateTable(): void {\r\n       this.table.renderRows();\r\n     }\r\n   \r\n     calculateTotalFish(type: string): number {\r\n   \r\n       let totalFish = 0;\r\n   \r\n       if(type === 'kept'){\r\n         for(var i=0; i<this.fishListDetails.length; i++){\r\n           totalFish += this.fishListDetails[i].kept;\r\n         }\r\n       }else if(type === 'released'){\r\n         for(var i=0; i<this.fishListDetails.length; i++){\r\n           totalFish += this.fishListDetails[i].released;\r\n         }\r\n       }\r\n       return totalFish;\r\n     }\r\n   \r\n     // get new species data from result\r\n     getNewSpecies(result: SpeciesData): SpeciesData {\r\n   \r\n       let kept: number = result.kept ? +result.kept : 0;\r\n       let released: number = result.released ? +result.released : 0;\r\n       let newSpeciesData: SpeciesData = new SpeciesData(result.speciesName);\r\n       newSpeciesData.kept = kept;\r\n       newSpeciesData.released = released;\r\n   \r\n       return newSpeciesData;\r\n   \r\n     }\r\n   \r\n     // add new species to the catch\r\n     addSpecies(fishListDetails: SpeciesData[]): void {\r\n   \r\n       const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n         width: '500px',\r\n         height: '450px',\r\n         data: { identifier: 'add', species: new SpeciesData(''), currentFishList: fishListDetails, \r\n         filteredFishList: this.fishList, tableInfo: this.trollTable }\r\n       });\r\n   \r\n       dialogRef.afterClosed().subscribe((result: any) => {\r\n         if (result) {\r\n   \r\n           // adding a species to the catch\r\n           if (result !== 'delete') {\r\n             fishListDetails.push(this.getNewSpecies(result));\r\n           }\r\n   \r\n           // update the table\r\n           this.updateTable();\r\n         }\r\n       });\r\n   \r\n     }\r\n   \r\n     // edit or delete a species from the catch\r\n     editSpecies(fishListDetails: SpeciesData[], index: number): void {\r\n   \r\n       const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n         width: '500px',\r\n         height: '450px',\r\n         data: { identifier: 'edit', species: fishListDetails[index], currentFishList: fishListDetails, \r\n         filteredFishList: this.fishList, tableInfo: this.trollTable }\r\n       });\r\n   \r\n       dialogRef.afterClosed().subscribe((result: any) => {\r\n         if (result) {\r\n   \r\n           // editing a species in the catch\r\n           if (result !== 'delete') {\r\n             fishListDetails[index] = this.getNewSpecies(result);\r\n           }\r\n   \r\n           // delete a species in the catch\r\n           else {\r\n             fishListDetails.splice(index, 1);\r\n           }\r\n   \r\n           // update the table\r\n           this.updateTable();\r\n   \r\n         }\r\n       });\r\n   \r\n     }\r\n   \r\n     // add to, edit or delete from species catch list\r\n     addSpeciesDialog(index: number = -1): void {\r\n   \r\n       // editing or deleting a species\r\n       if (index > -1) {\r\n             this.editSpecies(this.fishListDetails, index);\r\n         }\r\n   \r\n       // adding a species\r\n       else {\r\n             this.addSpecies(this.fishListDetails);\r\n         }\r\n   \r\n  }\r\n\r\n  // check if management area is invalid\r\n  managementAreaInvalid(): boolean {\r\n    return this.trollForm.get('mgmtArea')?.errors?.required;\r\n  }\r\n\r\n  // check if frozen or iced selection value is invalid\r\n  frozenOrIcedInvalid(): boolean {\r\n    return this.trollForm.get('frozenOrIced')?.errors?.required;\r\n  }\r\n\r\n  // check if non-fish selection value is invalid\r\n  nonFishInvalid(): boolean {\r\n    return this.trollForm.get('nonFish')?.errors?.required;\r\n  }\r\n   \r\n     // send catch to DFO\r\n     sendToDFO(): void {\r\n       if (this.trollForm.valid) {\r\n        this.saveCatchReport();\r\n        this.router.navigate(['submitted-report'], { state: { name: 'Daily Catch Report' } });\r\n        return;\r\n       }\r\n       this.toastr.error(\"Not all required fields filled\", \"Invalid form\");\r\n     }\r\n   \r\n     // back to home screen\r\n     toHome(): void {\r\n       this.router.navigate(['active-trip-home']);\r\n     }\r\n\r\n    // only allow one decimal place with 0 or 5 as the tenth digit\r\n    validateHoursFished(controlName: string): void {\r\n      let control: AbstractControl = this.trollForm.get(controlName)!;\r\n      const regex: RegExp = /^\\d+((\\.)|(\\.(0|5))?)$/; // matches inputs like: 23, 3, 4.5, 0.5, 9.0, 12., etc.\r\n      if(!regex.test(control.value)){ // if we don't find a match\r\n        control.setValue(control.value.replace(/.$/, '')); // replace the most recently entered character with ''\r\n      }\r\n    }\r\n   \r\n      // forbid field from entering non-decimal values\r\n      forbidNonNumeric(controlName: string): void {\r\n       let control: AbstractControl = this.trollForm.get(controlName)!;\r\n       control.setValue(control.value.replace(/[^0-9]/g, ''));\r\n     }\r\n\r\n    // creates a list of all species in the table that have non-zero data associated with them \r\n    determineSpeciesData(): SpeciesData[] {\r\n\r\n      let tempFishArray: SpeciesData[] = [];\r\n\r\n      for(let fish of this.fishListDetails) {\r\n        if(fish.kept > 0 || fish.released > 0) {\r\n          tempFishArray.push(fish);\r\n        }\r\n      }\r\n      return tempFishArray;\r\n    }\r\n\r\n      // saves all Daily Catch Report information pertinent to Troll\r\n    saveCatchReport(): void {\r\n\r\n      // save relevant information gathered in the form\r\n      this.catchReport.dateFished = this.catchDate;\r\n      this.catchReport.hoursFished = this.trollForm.get('hoursFished')?.value;\r\n      this.catchReport.managementArea = this.trollForm.get('mgmtArea')?.value;\r\n      this.catchReport.subArea = this.trollForm.get('zoneArea')?.value;\r\n      this.catchReport.frozenOrIced = this.trollForm.get('frozenOrIced')?.value;\r\n      this.catchReport.nonFish = this.trollForm.get('nonFish')?.value;\r\n      this.catchReport.comments = this.trollForm.get('comments')?.value;\r\n      this.catchReport.speciesDataList = this.determineSpeciesData();\r\n      this.catchReport.submissionDate = new Date(); // get current date/time\r\n\r\n      // push the report to currTrip\r\n      this.currTrip.dailyCatchReports.push(this.catchReport); \r\n\r\n      // save currTrip to local storage\r\n      this.userDetails.currTrip = this.currTrip;\r\n      this.localStorageService.saveData(this.userDetails.userID, this.userDetails); \r\n\r\n    }\r\n\r\n}\r\n","<div class=\"container catch-container\">\r\n\r\n    <div class=\"container\"\r\n         style=\"padding-top: 20px;\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h6 *ngIf=\"currPage <= numPages\">\r\n          <small class=\"text-muted\">\r\n            Page {{currPage}} of {{numPages}}\r\n          </small>\r\n        </h6>\r\n        <h6 *ngIf=\"currPage > numPages\">\r\n          <small class=\"text-muted\">\r\n            Troll Catch\r\n          </small>\r\n        </h6>\r\n      </div>\r\n  \r\n      <div class=\"row\" align=\"center\">\r\n        <div class=\"col-5\"></div>\r\n        <div class=\"col-2\">\r\n  \r\n          <mat-spinner *ngIf=\"currPage <= numPages\"\r\n                       mode=\"determinate\"\r\n                       [diameter]=\"50\"\r\n                       [strokeWidth]=\"6\"\r\n                       [value]=\"spinnerProgress\">\r\n          </mat-spinner>\r\n  \r\n          <mat-icon *ngIf=\"currPage > numPages\"\r\n                    style=\"color:#3ebfb9\">\r\n            check_circle_outline\r\n          </mat-icon>\r\n        </div>\r\n        <div class=\"col-5\"></div>\r\n      </div>\r\n    </div>\r\n  \r\n    <form [formGroup]=\"trollForm\">\r\n  \r\n      <!-- Q1 - Catch Date & Hours Fished -->\r\n      <div *ngIf=\"currPage === 1\"\r\n           class=\"container\">\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Please provide the catch date.\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <div class=\"col-2\"></div>\r\n          <div class=\"col-8\">\r\n            <mat-card class=\"demo-inline-calendar-card\"\r\n                      style=\"margin-top: 10%\">\r\n              <mat-calendar [(selected)]=\"catchDate\"></mat-calendar>\r\n            </mat-card>\r\n          </div>\r\n          <div class=\"col-2\"></div>\r\n        </div>\r\n\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            How many hours did you spend fishing?\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Hours (round to the nearest half hour)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Hours\r\n            </mat-label>\r\n            <input matInput\r\n                   inputmode=\"numeric\"\r\n                   formControlName=\"hoursFished\"\r\n                   (input)=\"validateHoursFished('hoursFished')\">\r\n          </mat-form-field>\r\n        </div>\r\n          \r\n      </div>\r\n  \r\n      <!-- Q2: Management Area, Subarea, Number of Sets -->\r\n      <div *ngIf=\"currPage === 2\" class=\"container\">\r\n\r\n         <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Where did you fish?\r\n          </h5>\r\n        </div>\r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Management Area(s) <br>\r\n            (Do not include subareas)\r\n          </h6>\r\n          <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Management Area\r\n            </mat-label>\r\n            <input matInput\r\n                   required\r\n                   formControlName=\"mgmtArea\">\r\n            <mat-error *ngIf=\"trollForm.invalid\">\r\n              Required\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Zone(s) or Subarea(s) Fished <br>\r\n            (Use zones for areas 121-127; comma-separate if multiple)\r\n          </h6>\r\n           <mat-form-field appearance=\"outline\"\r\n                          class=\"form-field\">\r\n             <mat-label>\r\n               Zone(s) or Subarea(s)\r\n             </mat-label>\r\n            <input matInput\r\n                   formControlName=\"zoneArea\">\r\n          </mat-form-field>\r\n        </div>\r\n        \r\n        <div class=\"row\" align=\"center\">\r\n            <h5 class=\"blue-heading-title\">\r\n            Frozen or Iced?\r\n            </h5>\r\n        </div>\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              Frozen or Iced \r\n            </h6>\r\n           <mat-form-field appearance=\"outline\"\r\n                              class=\"form-field\">\r\n                <mat-label>\r\n                  Select\r\n                </mat-label>\r\n                <mat-select formControlName=\"frozenOrIced\">\r\n                  <mat-option *ngFor=\"let state of stateOptions\"\r\n                              [value]=\"state\">\r\n                    {{state}}\r\n                  </mat-option>\r\n                </mat-select>\r\n                <mat-error *ngIf=\"trollForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n      </div>\r\n  \r\n      <!-- Q3: Catch Table -->\r\n      <div *ngIf=\"currPage === 3\"\r\n           class=\"container\">\r\n\r\n        <div class=\"row\"\r\n                align=\"center\">\r\n            <h5 class=\"blue-heading-title\">\r\n            Add or Edit Catch\r\n            </h5>\r\n        </div>\r\n\r\n        <table mat-table\r\n                [dataSource]=\"fishListDetails\"\r\n                class=\"mat-elevation-z8 margin-table\">\r\n\r\n        <!-- Name Column -->\r\n        <ng-container matColumnDef=\"speciesName\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Name\r\n            </th>\r\n            <td mat-cell\r\n                *matCellDef=\"let element\">\r\n            {{element.speciesName}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Kept Column -->\r\n        <ng-container matColumnDef=\"kept\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Kept\r\n            </th>\r\n            <td mat-cell [ngClass]=\"determineCellStyling(element.kept, element.speciesName)\"\r\n                *matCellDef=\"let element\">\r\n            {{element.kept}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Released Column -->\r\n        <ng-container matColumnDef=\"released\">\r\n        <tr>\r\n            <th mat-header-cell\r\n                *matHeaderCellDef\r\n                class=\"heading-cell\">\r\n            Released\r\n            </th>\r\n            <td mat-cell [ngClass]=\"determineCellStyling(element.released)\"\r\n                *matCellDef=\"let element\">\r\n            {{element.released}}\r\n            </td>\r\n        </tr>\r\n        </ng-container>\r\n\r\n        <!-- Rows -->\r\n\r\n        <tr mat-header-row\r\n            *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row\r\n            *matRowDef=\"let row; columns: displayedColumns; let index=index;\"\r\n            (click)=\"addSpeciesDialog(index)\"></tr>\r\n    </table>\r\n\r\n    <!-- Fish Totals -->\r\n\r\n    <div class=\"row\" style=\"padding-top: 10px;\">\r\n\r\n            <h6 style=\"color: #003F61\">\r\n                <b>\r\n                    Total Fish Kept:\r\n                </b>\r\n                {{calculateTotalFish('kept')}}\r\n              </h6>\r\n            <h6 style=\"color: #003F61\">\r\n                <b>\r\n                    Total Fish Released:\r\n                </b>\r\n                {{calculateTotalFish('released')}}\r\n            </h6>\r\n    </div>\r\n\r\n    <div class=\"row add-item\"\r\n            align=\"center\">\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-8\">\r\n        <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"fishing-button-red\"\r\n                    type=\"button\"\r\n                    (click)=\"addSpeciesDialog()\">\r\n              <span>\r\n                Add New Species\r\n              </span>\r\n            </button>\r\n        </div>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n    </div>\r\n    \r\n    </div>\r\n  \r\n      <!-- Q4: Non-Fish & Comments -->\r\n      <div *ngIf=\"currPage === 4\"\r\n           class=\"container\">\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Did you catch any birds, marine mammals, or turtles?\r\n          </h5>\r\n          <mat-form-field appearance=\"outline\"\r\n                                class=\"form-field\"\r\n                                style=\"padding-top: 15px;\">\r\n                  <mat-label>\r\n                    Select\r\n                  </mat-label>\r\n                  <mat-select formControlName=\"nonFish\">\r\n                    <mat-option *ngFor=\"let response of responseOptions\"\r\n                                [value]=\"response\">\r\n                      {{response}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"trollForm.invalid\">\r\n                    Required\r\n                  </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n\r\n        <h6 *ngIf=\"trollForm.get('nonFish')?.value === 'Yes'\"\r\n            class=\"blue-heading\">\r\n          Please provide the time of capture and species details in the comments.\r\n        </h6>\r\n\r\n        <div class=\"row\"\r\n             align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Would you like to add a comment?\r\n          </h5>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            Comments \r\n          </h6>\r\n          <mat-form-field appearance=\"fill\"\r\n                          class=\"form-field\">\r\n            <mat-label>\r\n              Comments...\r\n            </mat-label>\r\n            <textarea matInput\r\n                      formControlName=\"comments\"\r\n                      rows=\"9\"></textarea>\r\n            <mat-error *ngIf=\"trollForm.invalid\">\r\n             Required\r\n            </mat-error>\r\n          </mat-form-field>\r\n        </div>\r\n  \r\n      </div>\r\n  \r\n  \r\n      <!-- Confirmation Page -->\r\n      <div *ngIf=\"currPage > numPages\"\r\n           class=\"container\">\r\n        <div class=\"row\" align=\"center\">\r\n          <h5 class=\"blue-heading-title\">\r\n            Is all information complete and ready to be submitted to DFO?\r\n          </h5>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-label\">\r\n              <b>Date Fished:</b> \r\n                {{ catchDate | date }}\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-label\">\r\n             <b>Hours Fished:</b>\r\n              <small class=\"blue-label\">\r\n                {{trollForm.get('hoursFished')?.value}}\r\n            </small>\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              <b>Management Area Fished:</b>\r\n              <small *ngIf=\"!managementAreaInvalid()\"\r\n                     class=\"blue-label\">\r\n                {{trollForm.get('mgmtArea')?.value}}\r\n              </small>\r\n              <small *ngIf=\"managementAreaInvalid()\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n            </h6>\r\n          </div>\r\n    \r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n                <b>Zone(s) or Subarea(s) Fished:</b> \r\n              <small class=\"blue-label\">\r\n                {{trollForm.get('zoneArea')?.value}}\r\n              </small>\r\n            </h6>\r\n          </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Frozen or Iced?:</b>\r\n            <small *ngIf=\"!frozenOrIcedInvalid()\"\r\n                   class=\"blue-label\">\r\n              {{trollForm.get('frozenOrIced')?.value}}\r\n            </small>\r\n            <small *ngIf=\"frozenOrIcedInvalid()\"\r\n                   class=\"red-label\">\r\n              [Required]\r\n            </small>\r\n          </h6>\r\n        </div>\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Total Fish Kept:</b>\r\n            <small class=\"blue-label\">\r\n              {{calculateTotalFish('kept')}}\r\n            </small>\r\n          </h6>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n             <b>Total Fish Released:</b> \r\n              <small class=\"blue-label\">\r\n                {{calculateTotalFish('released')}}\r\n              </small>\r\n            </h6>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n              <b>Non-fish caught?:</b>\r\n              <small *ngIf=\"!nonFishInvalid()\"\r\n                     class=\"blue-label\">\r\n                {{trollForm.get('nonFish')?.value}}\r\n              </small>\r\n              <small *ngIf=\"nonFishInvalid()\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n            </h6>\r\n          </div>\r\n\r\n  \r\n        <div class=\"row\">\r\n          <h6 class=\"blue-heading\">\r\n            <b>Comments:</b>\r\n            <small class=\"blue-label\">\r\n              {{trollForm.get('comments')?.value}}\r\n            </small>\r\n            <small *ngIf=\"trollForm.get('comments')?.errors?.required\"\r\n                     class=\"red-label\">\r\n                [Required]\r\n              </small>\r\n          </h6>\r\n        </div>\r\n  \r\n      </div>\r\n    </form>\r\n\r\n    <!-- Navigation Buttons -->\r\n  \r\n  \r\n    <div class=\"row\" style=\"margin-top: auto; padding-bottom: 3%; padding-top: 10px\">\r\n      <div class=\"col-1\"></div>\r\n      <div class=\"col-4\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  class=\"fishing-button-blue\"\r\n                  type=\"button\"\r\n                  (click)=\"toPreviousPage()\">\r\n            <span>\r\n              Back\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-2\"></div>\r\n      <div class=\"col-4\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  class=\"fishing-button-red\"\r\n                  type=\"submit\"\r\n                  (click)=\"toNextPage()\">\r\n            <span *ngIf=\"currPage <= numPages\">\r\n              Next\r\n            </span>\r\n            <span *ngIf=\"currPage > numPages\">\r\n              Send to DFO\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-1\"></div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n","export class SpeciesData {\r\n\r\n  speciesName: string = '';\r\n\r\n  /* Fields for daily catch reports */\r\n\r\n  kept: number = 0;\r\n\r\n  released: number = 0;\r\n\r\n  /* Fields for offload catch reports */\r\n\r\n  offloadWeight: number = 0;\r\n\r\n  offloadPieces: number = 0; \r\n\r\n  constructor(speciesName: string) {\r\n    this.speciesName = speciesName;\r\n  }\r\n\r\n  public toString(): string {\r\n    return this.speciesName;\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return !!this.speciesName;\r\n  }\r\n\r\n}\r\n","export class TableRules {\r\n\r\n  tableType: string = '';\r\n\r\n  gearName: string = '';\r\n\r\n  containsSpecies: string[] = [];\r\n\r\n  excludesSpecies: string[] = [];\r\n\r\n  releaseOnlySpecies: string[] = [];\r\n\r\n  constructor(type: string = '', name: string = '') {\r\n      this.gearName = name;\r\n      this.tableType = type;\r\n  }\r\n\r\n  public isValid(): boolean {\r\n      return !!this.gearName && this.containsSpecies.length > 0;\r\n  }\r\n\r\n}\r\n","export class CancelReport {\r\n\r\n    confirmationNumber: string = ''; // not currently used, will be the End Fishing Report Confirmation Number\r\n\r\n    submissionDate: Date = new Date(); // not currently used, but app will eventually populate dynamically\r\n\r\n    /* Flags for programmatical use */\r\n\r\n    isComplete: boolean = false; // has this report been submitted? \r\n\r\n    isTransmitted: boolean = false; // flag that tells us if the report has been sent to DFO - not currently used\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public toString(): string {\r\n        return 'Cancel Date: ' + this.submissionDate + '; Confirmation Number: ' + this.confirmationNumber;\r\n    }\r\n}\r\n","import { Net } from \"../trip-models/gear-models/net.model\";\r\nimport { SpeciesData } from \"../catch-table-models/species-data.model\";\r\n\r\nexport class DailyCatchReport {\r\n\r\n    netUsed: Net = new Net('', '', '', '', '', '', '', '', ''); // unique to Gill Net\r\n\r\n    dateFished: Date = new Date();\r\n\r\n    hoursFished: string = '';\r\n\r\n    managementArea: string = '';\r\n\r\n    subArea: string = '';\r\n\r\n    numSets: string = ''; // unique to Gill Net & Seine\r\n\r\n    frozenOrIced: string = ''; // unique to Troll\r\n\r\n    speciesDataList: SpeciesData[] = []; // catch data\r\n\r\n    nonFish: string = '';\r\n\r\n    comments: string = '';\r\n\r\n    confirmationNumber: string = ''; // daily catch report confirmation number (not being used yet)\r\n\r\n    submissionDate: Date = new Date(); \r\n\r\n    /* Flags for programmatical use */\r\n\r\n    isTransmitted: boolean = false; // flag that tells us if the report has been sent to DFO - not currently used\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public toString(): string {\r\n        return 'Date: ' + this.dateFished + '; Daily Catch Report Confirmation Number: ' + this.confirmationNumber;\r\n      }\r\n  \r\n\r\n}\r\n","export class EndReport {\r\n\r\n    // if arrival details are required, this date will also contain an arrival time\r\n    endDate: Date = new Date(); // will be the same as in the trip model\r\n\r\n    managementArea: string = ''; \r\n\r\n    comments: string = ''; \r\n\r\n    confirmationNumber: string = ''; // not currently used, will be the End Fishing Report Confirmation Number\r\n\r\n    submissionDate: Date = new Date(); // not currently used, but app will eventually populate dynamically\r\n\r\n    /* Arrival Details - only needed for certain trips */\r\n\r\n    arrivalSite: string = ''; \r\n\r\n    /* Flags for programmatical use */\r\n\r\n    isComplete: boolean = false; // has this report been submitted?\r\n\r\n    isTransmitted: boolean = false; // flag that tells us if the report has been sent to DFO - not currently used\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public toString(): string {\r\n        return 'End Date: ' + this.endDate + '; Confirmation Number: ' + this.confirmationNumber;\r\n    }\r\n\r\n}\r\n","import { SpeciesData } from \"../catch-table-models/species-data.model\";\r\n\r\nexport class OffloadReport {\r\n\r\n    offloadDate: Date = new Date(); // date and time provided by the user\r\n\r\n    fishSlip: string = ''; // yes/no answer\r\n\r\n    fishSlipNumber: string = ''; // may not always be provided\r\n\r\n    catchWeightUnits: string = ''; // only needed for Seine\r\n\r\n    speciesDataList: SpeciesData[] = []; // offload data - list of species and their associated weight/pieces\r\n\r\n    confirmationNumber: string = ''; // not currently used, will be the End Fishing Report Confirmation Number\r\n\r\n    submissionDate: Date = new Date(); // not currently used, but app will eventually populate dynamically\r\n\r\n    /* Flags for programmatical use */\r\n\r\n    isTransmitted: boolean = false; // flag that tells us if the report has been sent to DFO - not currently used\r\n\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public toString(): string {\r\n        return 'Offload Date: ' + this.offloadDate + '; Confirmation Number: ' + this.confirmationNumber;\r\n    }\r\n\r\n}\r\n","export class PauseReport {\r\n\r\n    pauseDate: Date = new Date(); \r\n\r\n    managementArea: string = ''; \r\n\r\n    comments: string = ''; \r\n\r\n    confirmationNumber: string = ''; // not currently used, will be the End Fishing Report Confirmation Number\r\n\r\n    submissionDate: Date = new Date(); // not currently used, but app will eventually populate dynamically\r\n\r\n    /* Flags for programmatical use */\r\n\r\n    isTransmitted: boolean = false; // flag that tells us if the report has been sent to DFO - not currently used\r\n\r\n    constructor() {\r\n    }\r\n\r\n    public toString(): string {\r\n        return 'Pause Date: ' + this.pauseDate + '; Confirmation Number: ' + this.confirmationNumber;\r\n    }\r\n\r\n}\r\n","export class StartReport {\r\n\r\n    startDate: Date = new Date(); // same as start date in trip model\r\n\r\n    managementArea: string = ''; \r\n\r\n    comments: string = ''; \r\n\r\n    confirmationNumber: string = ''; // not currently used, will be the same as the trip ID\r\n\r\n    submissionDate: Date = new Date(); // not currently used, but app will eventually populate dynamically\r\n\r\n    /* Flags for programmatical use */\r\n\r\n    isComplete: boolean = false; \r\n\r\n    isInProgress: boolean = false; \r\n\r\n    isTransmitted: boolean = false; // flag that tells us if the report has been sent to DFO - not currently used\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    public isValid(): boolean {\r\n        return this.isComplete && this.managementArea != '';\r\n    }\r\n\r\n    public toString(): string {\r\n        return 'Start Date: ' + this.startDate + '; Confirmation Number: ' + this.confirmationNumber;\r\n    }\r\n\r\n\r\n}\r\n","export class Gear {\r\n\r\n  name: string = '';\r\n\r\n  logbookID: string = '';\r\n\r\n  isChecked: boolean = false;\r\n\r\n  constructor(name: string = '', id: string = '', checked: boolean = false) {\r\n    this.name = name;\r\n    this.logbookID = id;\r\n    this.isChecked = checked;\r\n  }\r\n\r\n  public toString(): string {\r\n    return this.name + ' (Logbook #' + this.logbookID + ')';\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return !!this.name && !!this.logbookID;\r\n  }\r\n\r\n  public isEqual(inputGear: Gear): boolean {\r\n     return inputGear.logbookID === this.logbookID;\r\n  }\r\n\r\n}\r\n","export class Net {\r\n\r\n  netType: string = ''; // will be either Alaska Twist, Multi Strand, or Comibination\r\n\r\n  netName: string = ''; // will only be for the skipper's reference\r\n\r\n  length: string = '';\r\n\r\n  weedlineDepth: string = '';\r\n\r\n  weedlineDepthUnits: string = '';\r\n\r\n  hangRatio: string = '';\r\n\r\n  meshSize: string = '';\r\n\r\n  meshSizeUnits: string = '';\r\n\r\n  numMeshes: string = '';\r\n\r\n  numStrands: string = ''; //only needed for Alaska Twist\r\n\r\n  isChecked: boolean = false; \r\n\r\n  constructor(type: string, name: string, length: string,\r\n      depth: string, depthUnits: string, ratio: string, mesh: string, \r\n      meshUnits: string, numMeshes: string, strands: string = '', checked: boolean = false){\r\n\r\n      this.netType = type;\r\n      this.netName = name;\r\n      this.length = length;\r\n      this.weedlineDepth = depth;\r\n      this.weedlineDepthUnits = depthUnits;\r\n      this.hangRatio = ratio;\r\n      this.meshSize = mesh;\r\n      this.meshSizeUnits = meshUnits;\r\n      this.numMeshes = numMeshes;\r\n      this.numStrands = strands;\r\n      this.isChecked = checked;\r\n  }\r\n\r\n  public toString(): string {\r\n      return this.netName + ' (' + this.netType + ')';\r\n  }\r\n\r\n  public isValid(): boolean {\r\n\r\n    let baseValid: boolean = !(!this.netName || !this.length || !this.weedlineDepth || !this.weedlineDepthUnits ||\r\n      !this.hangRatio || !this.meshSize || !this.meshSizeUnits || !this.numMeshes);\r\n\r\n    if (this.netType === \"Alaska Twist\") { // requires numStrands to be set\r\n        return baseValid && !!this.numStrands;\r\n    }\r\n    else if (this.netType) { // does not require a value for numStrands\r\n        return baseValid;\r\n    }\r\n\r\n    return false; \r\n\r\n  }\r\n    \r\n}\r\n","export class LicenseArea {\r\n\r\n  licenseID: string = '';\r\n\r\n  licenseName: string = '';\r\n\r\n  licenseLocation: string = '';\r\n\r\n  isChecked: boolean = false;\r\n\r\n  constructor(licenseName: string = '', licenseLocation: string = '', isChecked: boolean = false) {\r\n    this.licenseName = licenseName;\r\n    this.licenseLocation = licenseLocation;\r\n    this.isChecked = isChecked;\r\n  }\r\n\r\n  public toString(): string {\r\n    return this.licenseName + ' (' + this.licenseLocation + ')';\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return !!this.licenseName && !!this.licenseLocation;\r\n  }\r\n\r\n  public isEqual(inputArea: LicenseArea): boolean {\r\n    return inputArea.licenseName === this.licenseName;\r\n  }\r\n\r\n}\r\n","import { Gear } from './gear-models/gear.model';\r\nimport { VesselData } from '../user-models/vessel-data.model';\r\nimport { LicenseArea } from './license-area.model';\r\nimport { Tel } from '../../tel-input/tel-input.component';\r\nimport { DailyCatchReport } from '../report-models/daily-catch-report.model';\r\nimport { StartReport } from '../report-models/start-report.model';\r\nimport { EndReport } from '../report-models/end-report.model';\r\nimport { PauseReport } from '../report-models/pause-report.model';\r\nimport { CancelReport } from '../report-models/cancel-report.model';\r\nimport { OffloadReport } from '../report-models/offload-report.model';\r\n\r\nexport class Trip {\r\n\r\n  /* General Trip Data */\r\n\r\n  gear: Gear = new Gear('', '');\r\n\r\n  vessel: VesselData = new VesselData('', '');\r\n\r\n  licenseArea: LicenseArea = new LicenseArea('', '');\r\n\r\n  master: string = '';\r\n\r\n  fin: string = '';\r\n\r\n  contactName: string = ''; // contact name\r\n\r\n  phoneNum: Tel = new Tel('', '', ''); // contact phone number\r\n\r\n  tripID: string = '123456'; // hardcoded for now, will eventually generate unique ones\r\n\r\n  /* Flags for programmatical use */\r\n\r\n  offloadNeeded: boolean = false; // used to determine if the current trip may require an offload report\r\n\r\n  isSaved: boolean = false; // used to determine whether the report has been saved to the user's prevTrips array\r\n\r\n  /* Fishing Report Data */\r\n\r\n  startFishingReport: StartReport = new StartReport();\r\n\r\n  endFishingReport: EndReport = new EndReport();\r\n\r\n  cancelFishingReport: CancelReport = new CancelReport();\r\n\r\n  pauseFishingReports: PauseReport[] = []; // array of all pause reports submitted for the trip\r\n\r\n  dailyCatchReports: DailyCatchReport[] = []; // array of all daily catch reports submitted for the trip\r\n\r\n  offloadReports: OffloadReport[] = [];  // array of all offload reports submitted for the trip\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public toString(): string {\r\n    return 'Gear: ' + this.gear + '; Vessel: ' + this.vessel + '; License Area: ' + this.licenseArea;\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return this.gear.isValid() && this.vessel.isValid() && this.licenseArea.isValid();\r\n  }\r\n\r\n}\r\n","import { VesselData } from './vessel-data.model';\r\nimport { Trip } from '../trip-models/trip.model';\r\nimport { Net } from '../trip-models/gear-models/net.model';\r\nimport { Gear } from '../trip-models/gear-models/gear.model';\r\nimport { Tel } from '../../tel-input/tel-input.component';\r\n\r\nexport class UserData {\r\n\r\n  // Auth0 ID\r\n  userID: string = '';\r\n\r\n  // Email for signup\r\n  userEmail: string = '';\r\n\r\n  firstName: string = '';\r\n\r\n  lastName: string = '';\r\n\r\n  contactEmail: string = '';\r\n\r\n  address: string = '';\r\n\r\n  city: string = '';\r\n\r\n  postalCode: string = '';\r\n\r\n  phoneNum: Tel = new Tel('', '', '');\r\n\r\n  // current homepage\r\n  currHomepage: string = '';\r\n\r\n  // saved user trips\r\n  prevTrips: Trip[] = [];\r\n\r\n  // saved user vessels\r\n  vessels: VesselData[] = [];\r\n\r\n  // current trip \r\n  currTrip: Trip = new Trip();\r\n\r\n  // saved nets\r\n  nets: Net[] = [];\r\n\r\n  // purchased gear logbooks\r\n  gears: Gear[] = [];\r\n\r\n  constructor(id: string, email: string) {\r\n    this.userID = id;\r\n    this.userEmail = email;\r\n  }\r\n\r\n  public toString(): string {\r\n    return this.userEmail + ', ' + this.userID;\r\n  }\r\n\r\n  public isValid(): boolean {\r\n    return !!this.userID && !!this.userEmail;\r\n  }\r\n\r\n}\r\n","export class VesselData {\r\n\r\n    // Unique identifier for this vessel\r\n    vesselID: string = '';\r\n\r\n  // Name for this vessel\r\n    vesselName: string = '';\r\n\r\n  // Vessel coast number for this vessel (not sure if vesselCoastNumber is the best name for CFV/VRN - may change later)\r\n    vesselCoastNumber: string = '';\r\n\r\n  // Whether or not the vessel is recognized\r\n  isRecognized: boolean = false;\r\n\r\n  // Whether or not the vessel is checked in a list\r\n  isChecked: boolean = false;\r\n\r\n  constructor(vname: string = '', vcoastNum: string = '', checked: boolean = false) {\r\n    this.vesselName = vname;\r\n    this.vesselCoastNumber = vcoastNum;\r\n    this.isChecked = checked;\r\n  }\r\n\r\n  public toString(): string {\r\n      return this.vesselName + ' (VRN: ' + this.vesselCoastNumber + ')';\r\n  }\r\n\r\n  public isValid(): boolean {\r\n      return !!this.vesselName && !!this.vesselCoastNumber;\r\n  }\r\n\r\n}\r\n","import { AbstractControl, ValidatorFn, ValidationErrors } from '@angular/forms';\r\n\r\nexport class Validator {\r\n\r\n}\r\n\r\n// validator for general values\r\nexport function generalValidator(): ValidatorFn {\r\n  return (control: AbstractControl): ValidationErrors | null => {\r\n    return !!control.value && control.valid ? null : { invalid: true };\r\n  }\r\n}\r\n\r\n// choosing a species from a species list\r\nexport function speciesValidator(speciesList: string[]): ValidatorFn {\r\n  return (control: AbstractControl): ValidationErrors | null => {\r\n    for (let species of speciesList) {\r\n      if (control.value.toLowerCase() === species.toLowerCase()) {\r\n        return null;\r\n      }\r\n    }\r\n    return { value: { error: 'Invalid species' } };\r\n  }\r\n}\r\n","import { Component, Inject } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { Net } from 'src/app/data-models/trip-models/gear-models/net.model';\r\n\r\n@Component({\r\n  selector: 'app-add-net-dialog',\r\n  templateUrl: './add-net-dialog.component.html',\r\n  styleUrls: ['./add-net-dialog.component.css']\r\n})\r\nexport class AddNetDialogComponent {\r\n\r\n  //data preambles\r\n  netTypes: string[] = []; // holds values from local storage\r\n  unitTypes: string[] = ['cm', 'in', 'mm']; //hardcoded values to be used in the form\r\n\r\n  dialogReturn: Net = new Net('', '', '', '', '', '', '', '', '');\r\n\r\n  netForm: UntypedFormGroup = new UntypedFormGroup({\r\n    netType: new FormControl<string>('', [Validators.required]),\r\n    numStrands: new FormControl<string>(''), // conditional validation\r\n    netName: new FormControl<string>('', [Validators.required]), \r\n    netLength: new FormControl<string>('', [Validators.required]), \r\n    netDepth: new FormControl<string>('', [Validators.required]), \r\n    netUnits: new FormControl<string>('', [Validators.required]), \r\n    hangRatio: new FormControl<string>('', [Validators.required]), \r\n    meshSize: new FormControl<string>('', [Validators.required]), \r\n    meshUnits: new FormControl<string>('', [Validators.required]), \r\n    numMeshes: new FormControl<string>('', [Validators.required]) \r\n  })\r\n  \r\n  constructor(public dialogRef: MatDialogRef<AddNetDialogComponent>,\r\n    private localStorageService: LocalStorageService,\r\n    @Inject(MAT_DIALOG_DATA) public data: Net) { // don't need injection right now, but leave in for the future possibility of editing the net\r\n\r\n       this.netTypes = this.localStorageService.getStringList('netTypes'); // retrieve net types from local storage\r\n\r\n  }\r\n\r\n  netTypeVal(): string { // returns the net type the user has selected\r\n    return this.netForm.get('netType')?.value;\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.onNetTypeChange();\r\n  }\r\n\r\n  onNetTypeChange(): void {\r\n    this.netForm.get('netType')?.valueChanges.subscribe((value: string) => {\r\n      const strandControl: AbstractControl<any, any> | null = this.netForm.get('numStrands');\r\n\r\n      if(value === 'Alaska Twist'){\r\n        strandControl?.setValidators([Validators.required]);\r\n      }else{\r\n        strandControl?.clearValidators();\r\n      }\r\n      strandControl?.updateValueAndValidity();\r\n    })\r\n  }\r\n\r\n  addNet() { \r\n    if (this.netForm.valid) {\r\n      this.clearInputs();\r\n      this.dialogRef.close(this.netForm.value); // return the filled-in values of the form field\r\n    } else {\r\n      this.netForm.markAllAsTouched();\r\n    }    \r\n  }\r\n\r\n\r\n  deleteNet(): void { \r\n    this.dialogRef.close('delete');\r\n  }\r\n\r\n  // reset any dead form inputs\r\n  clearInputs(): void {\r\n    if(this.netTypeVal() != 'Alaska Twist'){ // if other gear type, clear any possible input in numStrands\r\n      this.netForm.controls['numStrands'].reset();\r\n    }\r\n  }\r\n\r\n  // forbid field from entering non-decimal values\r\n  forbidNonNumeric(controlName: string): void {\r\n    let control: AbstractControl = this.netForm.get(controlName)!;\r\n    control.setValue(control.value.replace(/[^0-9]/g, ''));\r\n  }\r\n\r\n}\r\n","<div class=\"container\" style=\"display: flex; flex-direction:column; justify-content: space-between; height:90%\">\r\n\r\n    <h3 class=\"display-6\" align=\"center\" style=\"padding-top: 10px; color: #005d87; font-weight: bold;\">Add Net</h3>\r\n\r\n    <!-- FORM QUESTIONS -->\r\n\r\n    <form [formGroup]=\"netForm\">\r\n\r\n        <div class=\"row\" style=\"padding-top: 15px;\">\r\n\r\n            <h6 class=\"net-small-header\">\r\n              Net Name (for your reference only)\r\n            </h6>\r\n            <mat-form-field appearance=\"fill\">\r\n              <mat-label>Net Name</mat-label>\r\n              <input matInput formControlName=\"netName\" required>\r\n              <mat-error *ngIf=\"netForm.invalid\">\r\n                Required\r\n              </mat-error>\r\n            </mat-form-field>\r\n    \r\n          </div>\r\n\r\n          <div class=\"row\" style=\"padding-top: 15px;\">\r\n\r\n            <h6 class=\"net-small-header\">\r\n              Net Type\r\n            </h6>\r\n             <mat-form-field appearance=\"fill\"\r\n                              class=\"form-field\">\r\n                <mat-label>\r\n                  Select\r\n                </mat-label>\r\n                <mat-select formControlName=\"netType\">\r\n                  <mat-option *ngFor=\"let net of netTypes\"\r\n                              [value]=\"net\">\r\n                    {{net}}\r\n                  </mat-option>\r\n                </mat-select>\r\n                <mat-error *ngIf=\"netForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n              </mat-form-field>\r\n          </div>\r\n    \r\n          <div class=\"row\">\r\n\r\n    \r\n            <div *ngIf=\"netTypeVal() === 'Alaska Twist'\"\r\n                class=\"container\">\r\n                <h6 class=\"net-small-header\">\r\n                    Number of Strands \r\n                    </h6>\r\n                <mat-form-field appearance=\"fill\"\r\n                                class=\"form-field\">\r\n                    <mat-label>\r\n                    Number of Strands\r\n                    </mat-label>\r\n                    <input matInput\r\n                        inputmode=\"numeric\"\r\n                        formControlName=\"numStrands\"\r\n                        (input)=\"forbidNonNumeric('numStrands')\">\r\n                    <mat-error *ngIf=\"netForm.invalid\">\r\n                      Required\r\n                    </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"row\" style=\"padding-top: 15px;\">\r\n\r\n            <h6 class=\"net-small-header\">\r\n              Length (in fathoms)\r\n            </h6>\r\n             <mat-form-field appearance=\"fill\"\r\n                              class=\"form-field\">\r\n                <mat-label>\r\n                  Length\r\n                </mat-label>\r\n                <input matInput\r\n                        inputmode=\"numeric\"\r\n                        formControlName=\"netLength\"\r\n                        (input)=\"forbidNonNumeric('netLength')\">\r\n                <mat-error *ngIf=\"netForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n              </mat-form-field>\r\n          </div>\r\n\r\n          <div class=\"row\" style=\"padding-top: 15px;\">\r\n\r\n            <div class=\"col\">\r\n                <h6 class=\"net-small-header\">\r\n                Weedline Depth\r\n                </h6>\r\n                <mat-form-field appearance=\"fill\"\r\n                                class=\"form-field\">\r\n                    <mat-label>\r\n                    Depth\r\n                    </mat-label>\r\n                    <input matInput\r\n                            inputmode=\"numeric\"\r\n                            formControlName=\"netDepth\"\r\n                            (input)=\"forbidNonNumeric('netDepth')\">\r\n                    <mat-error *ngIf=\"netForm.invalid\">\r\n                    Required\r\n                    </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"col\">\r\n                <h6 class=\"net-small-header\">\r\n                    Weedline Depth Units\r\n                  </h6>\r\n                <mat-form-field appearance=\"fill\"\r\n                                class=\"form-field\">\r\n                  <mat-label>\r\n                    Select\r\n                  </mat-label>\r\n                  <mat-select formControlName=\"netUnits\">\r\n                    <mat-option *ngFor=\"let unit of unitTypes\"\r\n                                [value]=\"unit\">\r\n                      {{unit}}\r\n                    </mat-option>\r\n                  </mat-select>\r\n                  <mat-error *ngIf=\"netForm.invalid\">\r\n                    Required\r\n                  </mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n          </div>\r\n\r\n          <div class=\"row\" style=\"padding-top: 15px;\">\r\n\r\n            <h6 class=\"net-small-header\">\r\n              Hang Ratio ( :1)\r\n            </h6>\r\n             <mat-form-field appearance=\"fill\"\r\n                              class=\"form-field\">\r\n                <mat-label>\r\n                  Hang Ratio\r\n                </mat-label>\r\n                <input matInput\r\n                        inputmode=\"numeric\"\r\n                        formControlName=\"hangRatio\"\r\n                        (input)=\"forbidNonNumeric('hangRatio')\">\r\n                <mat-error *ngIf=\"netForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n              </mat-form-field>\r\n          </div>\r\n\r\n          <div class=\"row\" style=\"padding-top: 15px;\">\r\n\r\n            <div class=\"col\">\r\n                <h6 class=\"net-small-header\">\r\n                Mesh Size\r\n                </h6>\r\n                <mat-form-field appearance=\"fill\"\r\n                                class=\"form-field\">\r\n                    <mat-label>\r\n                    Mesh Size\r\n                    </mat-label>\r\n                    <input matInput\r\n                            inputmode=\"numeric\"\r\n                            formControlName=\"meshSize\"\r\n                            (input)=\"forbidNonNumeric('meshSize')\">\r\n                    <mat-error *ngIf=\"netForm.invalid\">\r\n                    Required\r\n                    </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n    \r\n            <div class=\"col\">\r\n                <h6 class=\"net-small-header\">\r\n                    Mesh Size Units\r\n                  </h6>\r\n                <mat-form-field appearance=\"fill\"\r\n                              class=\"form-field\">\r\n                <mat-label>\r\n                  Select\r\n                </mat-label>\r\n                <mat-select formControlName=\"meshUnits\">\r\n                  <mat-option *ngFor=\"let unit of unitTypes\"\r\n                              [value]=\"unit\">\r\n                    {{unit}}\r\n                  </mat-option>\r\n                </mat-select>\r\n                <mat-error *ngIf=\"netForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n              </mat-form-field>\r\n            </div>\r\n    \r\n          </div>\r\n\r\n          <div class=\"row\" style=\"padding-top: 15px;\">\r\n\r\n            <h6 class=\"net-small-header\">\r\n              Number of Meshes\r\n            </h6>\r\n             <mat-form-field appearance=\"fill\"\r\n                              class=\"form-field\">\r\n                <mat-label>\r\n                  Number of Meshes\r\n                </mat-label>\r\n                <input matInput\r\n                        inputmode=\"numeric\"\r\n                        formControlName=\"numMeshes\"\r\n                        (input)=\"forbidNonNumeric('numMeshes')\">\r\n                <mat-error *ngIf=\"netForm.invalid\">\r\n                  Required\r\n                </mat-error>\r\n              </mat-form-field>\r\n          </div>\r\n\r\n    </form>\r\n\r\n\r\n    <!-- BACK & ADD BUTTONS -->\r\n    \r\n    <div class=\"row\">\r\n\r\n      <div class=\"outer\">\r\n\r\n          <div class=\"inner\" style=\"margin-right: 40%\">\r\n              <button mat-stroked-button\r\n                      type=\"button\"\r\n                      aria-label=\"Back\"\r\n                      style=\"background-color: #005d87; color: white; font-weight: bold;\"\r\n                      (click)=\"deleteNet()\">\r\n                  Back\r\n              </button>    \r\n          </div>\r\n\r\n\r\n          <div class=\"inner\">\r\n              <button mat-stroked-button\r\n                      type=\"submit\"\r\n                      aria-label=\"Add Net\"\r\n                      style=\"background-color: #ff6f61; color: white; font-weight: bold;\"\r\n                      (click)=\"addNet()\">\r\n                  Add\r\n              </button>                \r\n          </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    \r\n</div>\r\n\r\n","import { Component, Inject } from '@angular/core';\r\nimport { AbstractControl, FormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { speciesValidator } from '../../data-models/validator.model';\r\nimport { SpeciesData } from '../../data-models/catch-table-models/species-data.model';\r\nimport { TableRules } from 'src/app/data-models/catch-table-models/table-rules.model';\r\n\r\n@Component({\r\n  selector: 'app-add-species-dialog',\r\n  templateUrl: './add-species-dialog.component.html',\r\n  styleUrls: ['./add-species-dialog.component.css']\r\n})\r\n\r\nexport class AddSpeciesDialogComponent {\r\n\r\n  // used to determine if the species name can be edited\r\n  speciesIsReadOnly: boolean = false;\r\n\r\n  // species lists\r\n  stringList: string[] = []; // subset of \"list\" - has all species names (used only for validation)\r\n  speciesList: string[] = []; \r\n  filteredSpecies: string[] = []; //what's already in table\r\n  currentSpeciesList: string[] = [];\r\n\r\n  // dialog title\r\n  displayedTitle: string = '';\r\n\r\n  // extracting data from data inject\r\n  identifier: string = '';\r\n  currentFishList: SpeciesData[] = [];\r\n  filteredFishList: SpeciesData[] = [];\r\n  tableInfo: TableRules = new TableRules('', '');\r\n\r\n  // species details\r\n  speciesForm: UntypedFormGroup = new UntypedFormGroup({\r\n    speciesName: new FormControl<string>('', [Validators.required, speciesValidator(this.stringList)]),\r\n    kept: new FormControl<string>(''),\r\n    released: new FormControl<string>(''),\r\n    offloadWeight: new FormControl<string>(''),\r\n    offloadPieces: new FormControl<string>('')\r\n  })\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<AddSpeciesDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: { identifier: string, species: SpeciesData, currentFishList: SpeciesData[], \r\n      filteredFishList: SpeciesData[], tableInfo: TableRules }\r\n  ) {\r\n\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n\r\n    // if editing a species, autofill form with species details\r\n    if (this.data != null) {\r\n\r\n      this.identifier = this.data.identifier;\r\n      this.currentFishList = this.data.currentFishList;\r\n      this.filteredFishList = this.data.filteredFishList;\r\n      this.tableInfo = this.data.tableInfo;\r\n\r\n      if (this.data.species != null) {\r\n        let speciesData: SpeciesData = this.data.species;\r\n        this.speciesForm.patchValue({\r\n          speciesName: speciesData.speciesName,\r\n          kept: speciesData.kept,\r\n          released: speciesData.released,\r\n          offloadWeight: speciesData.offloadWeight,\r\n          offloadPieces: speciesData.offloadPieces\r\n        });\r\n      }\r\n    }\r\n\r\n    // fill the species list available to the user\r\n    this.fillSpecies();\r\n\r\n    // set the dialog configuration\r\n    this.setDialogConfig();\r\n\r\n    // change the filtered species list whenever the input field changes\r\n    this.speciesForm.get('speciesName')!.valueChanges.subscribe((speciesChange: string) => {\r\n      this.filteredSpecies = [];\r\n      for (let species of this.speciesList) {\r\n        if (species.toLowerCase().includes(speciesChange.toLowerCase())) {\r\n          this.filteredSpecies.push(species);\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // set the title of the dialog and read/write permissions of inputs\r\n  setDialogConfig(): void {\r\n     // set config based on whether the species is being added or edited\r\n     switch (this.identifier) {\r\n      case 'edit':\r\n        this.displayedTitle = \"Edit Species\";\r\n        this.speciesIsReadOnly = true;\r\n        break;\r\n      case 'add':\r\n         this.displayedTitle = \"Add Species\";\r\n         break;\r\n    }\r\n  }\r\n\r\n  // fill up the species list based on what is not already in the table\r\n  fillSpecies(): void { //fishList from local storage is what gets passed in here\r\n    for(let species of this.currentFishList) { // get all species names that are already in the table\r\n      this.currentSpeciesList.push(species.speciesName);\r\n    } \r\n    for (let species of this.filteredFishList) {\r\n      //only add the name to the list if it is not already in the table \r\n      if(!this.currentSpeciesList.includes(species.speciesName)) {\r\n        this.speciesList.push(species.speciesName); \r\n      }\r\n      this.stringList.push(species.speciesName); // fill the string list regardless\r\n    }\r\n    // fill the filtered list\r\n    this.filteredSpecies = this.speciesList;\r\n  }\r\n\r\n  // check if entered species is a valid species\r\n  checkSpecies(name: string): boolean {\r\n    for (let species of this.filteredFishList) {\r\n      if (species.speciesName.toLowerCase().includes(name.toLowerCase())) {\r\n        this.speciesForm.patchValue({\r\n          speciesName: species.speciesName,\r\n        });\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  isReleaseOnly(name: string): boolean {\r\n    if(this.tableInfo.releaseOnlySpecies.includes(name)){\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  getCurrentFormSpecies(): string {\r\n    return this.speciesForm.get('speciesName')?.value;\r\n  }\r\n\r\n  // add new species details\r\n  addSpecies(): void {\r\n    if (this.speciesForm.valid && this.checkSpecies(this.speciesForm.get('speciesName')!.value)) {\r\n      this.clearInputs(); \r\n      this.dialogRef.close(this.speciesForm.value);\r\n    } else {\r\n      this.speciesForm.markAllAsTouched();\r\n    }\r\n  }\r\n\r\n  // clear any possible dead form inputs\r\n  clearInputs(): void {\r\n    if(this.isReleaseOnly(this.getCurrentFormSpecies())){ // if species is release-only, clear any possible previous 'kept' input\r\n      this.speciesForm.controls['kept'].reset(); // reset form value\r\n    }\r\n  }\r\n\r\n  // delete current species details\r\n  deleteSpecies(): void {\r\n    this.dialogRef.close('delete');\r\n  }\r\n\r\n  // forbid field from entering non-decimal values\r\n  forbidNonNumeric(controlName: string): void {\r\n    let control: AbstractControl = this.speciesForm.get(controlName)!;\r\n    control.setValue(control.value.replace(/[^0-9]/g, ''));\r\n  }\r\n\r\n}\r\n","<div class=\"container species-container\">\r\n\r\n  <h3 class=\"display-6 species-header\"\r\n      align=\"center\">\r\n    {{displayedTitle}}\r\n  </h3>\r\n\r\n  <form [formGroup]=\"speciesForm\">\r\n\r\n    <!-- Select species name -->\r\n    <div class=\"row\">\r\n\r\n      <h6 class=\"species-small-header\">\r\n        Species Name\r\n      </h6>\r\n      <mat-form-field appearance=\"fill\">\r\n        <mat-label>\r\n          Species\r\n        </mat-label>\r\n        <input matInput\r\n               required\r\n               formControlName=\"speciesName\"\r\n               [matAutocomplete]=\"auto\"\r\n               [readonly]=\"speciesIsReadOnly\">\r\n        <mat-autocomplete #auto=\"matAutocomplete\">\r\n          <mat-option *ngFor=\"let fSpecies of filteredSpecies\"\r\n                      [value]=\"fSpecies\">\r\n            {{fSpecies}}\r\n          </mat-option>\r\n        </mat-autocomplete>\r\n        <mat-error *ngIf=\"speciesForm.invalid\">\r\n          Select an item\r\n        </mat-error>\r\n      </mat-form-field>\r\n\r\n    </div>\r\n\r\n    <!-- Daily Catch Report Fields -->\r\n\r\n    <div *ngIf=\"tableInfo.tableType === 'daily-catch'\">\r\n\r\n      <!-- Kept Catch -->\r\n      <div *ngIf=\"!isReleaseOnly(getCurrentFormSpecies())\"\r\n           class=\"row\">\r\n\r\n        <h6 class=\"species-small-header\">\r\n          Kept\r\n        </h6>\r\n        <mat-form-field appearance=\"fill\">\r\n          <mat-label>\r\n            Kept\r\n          </mat-label>\r\n          <input matInput\r\n                inputmode=\"numeric\"\r\n                formControlName=\"kept\"\r\n                (input)=\"forbidNonNumeric('kept')\">\r\n        </mat-form-field>\r\n\r\n      </div>\r\n\r\n      <!-- Released Catch -->\r\n      <div class=\"row\">\r\n\r\n        <h6 class=\"species-small-header\">\r\n          Released\r\n        </h6>\r\n        <mat-form-field appearance=\"fill\">\r\n          <mat-label>\r\n            Released\r\n          </mat-label>\r\n          <input matInput\r\n                inputmode=\"numeric\"\r\n                formControlName=\"released\"\r\n                (input)=\"forbidNonNumeric('released')\">\r\n        </mat-form-field>\r\n\r\n      </div>\r\n\r\n  </div>\r\n\r\n  <!-- Offload Catch Report Fields -->\r\n\r\n  <div *ngIf=\"tableInfo.tableType === 'offload-catch'\">\r\n\r\n    <!-- Weight (Seine only) -->\r\n\r\n    <div *ngIf=\"tableInfo.gearName === 'Seine'\"\r\n         class=\"row\">\r\n\r\n      <h6 class=\"species-small-header\">\r\n        Weight\r\n      </h6>\r\n      <mat-form-field appearance=\"fill\">\r\n        <mat-label>\r\n          Weight\r\n        </mat-label>\r\n        <input matInput\r\n              inputmode=\"numeric\"\r\n              formControlName=\"offloadWeight\"\r\n              (input)=\"forbidNonNumeric('offloadWeight')\">\r\n      </mat-form-field>\r\n\r\n    </div>\r\n\r\n    <!-- Pieces -->\r\n\r\n    <div class=\"row\">\r\n\r\n      <h6 class=\"species-small-header\">\r\n        Pieces\r\n      </h6>\r\n      <mat-form-field appearance=\"fill\">\r\n        <mat-label>\r\n          Pieces\r\n        </mat-label>\r\n        <input matInput\r\n              inputmode=\"numeric\"\r\n              formControlName=\"offloadPieces\"\r\n              (input)=\"forbidNonNumeric('offloadPieces')\">\r\n      </mat-form-field>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n  </form>\r\n\r\n  <!-- Release-only species descriptive text -->\r\n\r\n  <div *ngIf=\"isReleaseOnly(getCurrentFormSpecies())\" class=\"row\">\r\n\r\n    <h6 class=\"species-small-header\">\r\n      This species is non-retainable.\r\n    </h6>\r\n\r\n  </div>\r\n\r\n  <!-- Add & Delete Buttons -->\r\n\r\n  <div class=\"row\">\r\n\r\n    <div class=\"outer\">\r\n\r\n      <div class=\"inner\" style=\"margin-right: 40%\">\r\n        <button mat-stroked-button\r\n                class=\"button-delete\"\r\n                type=\"button\"\r\n                aria-label=\"Delete\"\r\n                (click)=\"deleteSpecies()\">\r\n          Delete\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"inner\">\r\n        <button mat-stroked-button\r\n                class=\"button-add\"\r\n                type=\"submit\"\r\n                align=\"end\"\r\n                aria-label=\"Add Species\"\r\n                (click)=\"addSpecies()\">\r\n          Confirm\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { VesselData } from '../../data-models/user-models/vessel-data.model';\r\n\r\n@Component({\r\n  selector: 'app-add-vessel-dialog',\r\n  templateUrl: './add-vessel-dialog.component.html',\r\n  styleUrls: ['./add-vessel-dialog.component.css']\r\n})\r\nexport class AddVesselDialogComponent implements OnInit {\r\n\r\n  dialogReturn: VesselData = new VesselData('', '');\r\n\r\n  vesselForm: UntypedFormGroup = new UntypedFormGroup({\r\n    vesselName: new FormControl<string>('', [Validators.required, Validators.pattern('^[A-z0-9 ]+$')]),\r\n    vesselNumber: new FormControl<string>('', [Validators.required, Validators.pattern('^([0-9]{6}|[A-z0-9]{7,8})$')])\r\n  })\r\n  \r\n  constructor(public dialogRef: MatDialogRef<AddVesselDialogComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: VesselData) { // at the moment we don't need to inject data (leave in for the possibility of editing vessels later)\r\n\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    if (this.data) {\r\n      this.vesselForm.patchValue({ // this doesn't do anything at the moment - but may need later for editing vessels\r\n        vesselName: this.data.vesselName,\r\n        vesselNumber: this.data.vesselCoastNumber\r\n      });\r\n    }\r\n  }\r\n\r\n  addVessel() {\r\n    if (this.vesselForm.valid) {\r\n      this.dialogRef.close(this.vesselForm.value);\r\n    } else {\r\n      this.vesselForm.markAllAsTouched();\r\n    }    \r\n  }\r\n\r\n  deleteVessel() {\r\n    this.dialogRef.close('delete');\r\n  }\r\n\r\n}\r\n","<div class=\"container\" style=\"display: flex; flex-direction:column; justify-content: space-between; height:90%\">\r\n\r\n    <h3 class=\"display-6\"\r\n        align=\"center\"\r\n        style=\"padding-top: 10px; color: #005d87; font-weight: bold;\">\r\n      Add Vessel\r\n  </h3>\r\n\r\n    <form [formGroup]=\"vesselForm\">\r\n      <div class=\"row\">\r\n\r\n        <h6 class=\"vessel-small-header\">\r\n          Vessel Name\r\n        </h6>\r\n        <mat-form-field appearance=\"fill\">\r\n          <mat-label>\r\n            Vessel Name\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"vesselName\">\r\n          <mat-error *ngIf=\"vesselForm.get('vesselName')?.errors?.required\">\r\n            Required\r\n          </mat-error>\r\n          <mat-error *ngIf=\"vesselForm.get('vesselName')?.errors?.pattern\">\r\n            Invalid character\r\n          </mat-error>\r\n        </mat-form-field>\r\n\r\n      </div>\r\n    \r\n      <div class=\"row\" style=\"padding-top: 15px;\">\r\n        <h6 class=\"vessel-small-header\">\r\n          VRN (CFV#)\r\n        </h6>\r\n        <mat-form-field appearance=\"fill\">\r\n          <mat-label>\r\n            VRN\r\n          </mat-label>\r\n          <input matInput\r\n                 required\r\n                 formControlName=\"vesselNumber\">\r\n          <mat-error *ngIf=\"vesselForm.invalid\">\r\n            Invalid - 6 digit numeric or 7-8 digit alphanumeric required\r\n          </mat-error>\r\n        </mat-form-field>\r\n\r\n      </div>\r\n    </form>\r\n\r\n  <!-- Back and Add buttons -->\r\n    <div class=\"row bottom-buttons\">\r\n\r\n      <div class=\"outer\">\r\n\r\n        <div class=\"inner\" style=\"margin-right: 50%\">\r\n            <button mat-stroked-button\r\n                    type=\"button\"\r\n                    aria-label=\"Back\"\r\n                    style=\"background-color: #005d87; color: white; font-weight: bold;\"\r\n                    (click)=\"deleteVessel()\">\r\n                Back\r\n            </button>    \r\n        </div>\r\n\r\n        <div class=\"inner\">\r\n            <button mat-stroked-button\r\n                    type=\"submit\"\r\n                    aria-label=\"Add Vessel\"\r\n                    style=\"background-color: #ff6f61; color: white; font-weight: bold;\"\r\n                    align=\"end\"\r\n                    (click)=\"addVessel()\">\r\n                Add\r\n            </button>                \r\n        </div>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n    \r\n</div>\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { FormControl, UntypedFormGroup, Validators, ValidationErrors, AbstractControl } from '@angular/forms';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Tel, TelInputComponent } from '../../tel-input/tel-input.component';\r\nimport { generalValidator } from '../../data-models/validator.model';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-contact-info-dialog',\r\n  templateUrl: './contact-info-dialog.component.html',\r\n  styleUrls: ['./contact-info-dialog.component.css']\r\n})\r\n\r\nexport class ContactInfoDialogComponent {\r\n\r\n  @ViewChild('telInput') telInput!: TelInputComponent; // telephone input\r\n\r\n  // get the current user details\r\n  userDetails: UserData = new UserData('', '');\r\n\r\n  // show error message when field is invalid\r\n  emailError: string = 'Required';\r\n  postalError: string = 'Required';\r\n\r\n  // regular expression for Canadian postal code validation\r\n  // from https://stackoverflow.com/questions/15774555/efficient-regex-for-canadian-postal-code-function\r\n  postalRegex: RegExp = /^[ABCEGHJ-NPRSTVXY]\\d[ABCEGHJ-NPRSTV-Z][ -]?\\d[ABCEGHJ-NPRSTV-Z]\\d$/i;\r\n\r\n  profileForm: UntypedFormGroup = new UntypedFormGroup({\r\n    contactEmail: new FormControl<string>('', [Validators.required, Validators.email]),\r\n    address: new FormControl<string>('', [Validators.required]),\r\n    city: new FormControl<string>('', [Validators.required]),\r\n    postalCode: new FormControl<string>('', [Validators.required, Validators.pattern(this.postalRegex)]),\r\n    phoneNum: new FormControl<Tel>(new Tel('', '', ''), [Validators.required, generalValidator()]),\r\n  });\r\n\r\n  constructor(public dialogRef: MatDialogRef<ContactInfoDialogComponent>,\r\n    private localStorageService: LocalStorageService,\r\n    private auth: AuthService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private toastr: ToastrService) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n  \r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n  \r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n  \r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }  \r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    let contactEmail: AbstractControl<any, any> | null = this.profileForm.get('contactEmail');\r\n    let postalCode: AbstractControl<any, any> | null = this.profileForm.get('postalCode');\r\n\r\n    // contact email validation\r\n    contactEmail?.valueChanges.subscribe(() => {\r\n      let contactEmailErrors: ValidationErrors | null | undefined = contactEmail?.errors;\r\n      if (contactEmailErrors?.required) {\r\n        this.emailError = 'Required';\r\n      }\r\n      else if (contactEmailErrors?.email) {\r\n        this.emailError = 'Invalid format';\r\n      }\r\n      else {\r\n        this.emailError = '';\r\n      }\r\n    });\r\n\r\n    // postal code validation\r\n    postalCode?.valueChanges.subscribe(() => {\r\n      let postalCodeErrors: ValidationErrors | null | undefined = postalCode?.errors;\r\n      if (postalCodeErrors?.required) {\r\n        this.postalError = 'Required';\r\n      }\r\n      else if (postalCodeErrors?.pattern) {\r\n        this.postalError = 'Invalid format';\r\n      }\r\n      else {\r\n        this.postalError = '';\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  initialize() {\r\n\r\n    this.profileForm.patchValue({\r\n      contactEmail: this.userDetails.contactEmail,\r\n      address: this.userDetails.address,\r\n      city: this.userDetails.city,\r\n      postalCode: this.userDetails.postalCode,\r\n      phoneNum: this.userDetails.phoneNum\r\n    });\r\n\r\n  }\r\n\r\n  phoneNumValid(): boolean {\r\n    let phoneNum: Tel = this.profileForm.get('phoneNum')?.value;\r\n    let area: string = phoneNum.area;\r\n    let exchange: string = phoneNum.exchange;\r\n    let subscriber: string = phoneNum.subscriber;\r\n    return !!area && !!exchange && !!subscriber;\r\n  }\r\n\r\n  updateContactInfo(update: boolean): void {\r\n    if (update) {\r\n      this.attemptUpdate();\r\n      return;\r\n    }\r\n    this.dialogRef.close('false');     \r\n  }\r\n\r\n  attemptUpdate(): void {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      this.toastr.error(\"Cannot update while offline\", \"Profile update failed\");\r\n      this.dialogRef.close('false');\r\n    }\r\n\r\n    // verify phone number\r\n    this.telInput.touched = true;\r\n    this.telInput.stateChanges.next();\r\n    this.profileForm.get('phoneNum')?.updateValueAndValidity();\r\n\r\n    // check profile field entry validity\r\n    if (this.profileForm.valid && this.phoneNumValid()) {\r\n\r\n      // navigate to the home screen\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.userDetails.contactEmail = this.profileForm.get('contactEmail')?.value;\r\n              this.userDetails.address = this.profileForm.get('address')?.value;\r\n              this.userDetails.city = this.profileForm.get('city')?.value;\r\n              this.userDetails.postalCode = this.profileForm.get('postalCode')?.value;\r\n              this.userDetails.phoneNum = this.profileForm.get('phoneNum')?.value;\r\n              this.saveUserDetails();\r\n              this.dialogRef.close('true');\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      this.toastr.error(\"Missing information\", \"Profile update failed\");\r\n    }\r\n  }\r\n\r\n  // update local storage\r\n  saveUserDetails(): void {\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n}\r\n","<div class=\"container dialog-container\">    \r\n\r\n    <h3 class=\"display-6\" align=\"center\" style=\"padding-top: 10px; color: #005d87; font-weight: bold;\">\r\n        Edit Contact Information\r\n    </h3>\r\n    \r\n    <form [formGroup]=\"profileForm\">\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n            Contact Email\r\n            </h6>\r\n            <mat-form-field appearance=\"fill\">\r\n            <mat-label>\r\n                Contact Email\r\n            </mat-label>\r\n            <input matInput\r\n                    required\r\n                    formControlName=\"contactEmail\">\r\n            <mat-error>\r\n                {{emailError}}\r\n            </mat-error>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n            Address\r\n            </h6>\r\n            <mat-form-field appearance=\"fill\">\r\n            <mat-label>\r\n                Address\r\n            </mat-label>\r\n            <input matInput\r\n                    required\r\n                    formControlName=\"address\">\r\n            <mat-error *ngIf=\"profileForm.invalid\">\r\n                Required\r\n            </mat-error>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n            City\r\n            </h6>\r\n            <mat-form-field appearance=\"fill\">\r\n            <mat-label>\r\n                City\r\n            </mat-label>\r\n            <input matInput\r\n                    required\r\n                    formControlName=\"city\">\r\n            <mat-error *ngIf=\"profileForm.invalid\">\r\n                Required\r\n            </mat-error>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n            Postal Code\r\n            </h6>\r\n            <mat-form-field appearance=\"fill\">\r\n            <mat-label>\r\n                Postal Code\r\n            </mat-label>\r\n            <input matInput\r\n                    required\r\n                    formControlName=\"postalCode\">\r\n            <mat-error>\r\n                {{postalError}}\r\n            </mat-error>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h6 class=\"blue-heading\">\r\n            Phone Number\r\n            </h6>\r\n            <mat-form-field #telField\r\n                            appearance=\"fill\">\r\n            <mat-label>\r\n                Phone Number\r\n            </mat-label>\r\n            <app-tel-input #telInput\r\n                            formControlName=\"phoneNum\">\r\n\r\n            </app-tel-input>\r\n            <mat-icon matSuffix>\r\n                phone\r\n            </mat-icon>\r\n            <mat-error *ngIf=\"profileForm.invalid || !phoneNumValid()\">\r\n                Required\r\n            </mat-error>\r\n            </mat-form-field>\r\n        </div>\r\n\r\n        </form> \r\n\r\n        <div class=\"row bottom-buttons\">\r\n\r\n            <div class=\"outer\">\r\n      \r\n              <div class=\"inner\" style=\"margin-right: 40%\">\r\n                  <button mat-stroked-button\r\n                          type=\"submit\"\r\n                          style=\"background-color: #005d87; color: white; font-weight: bold;\"\r\n                          (click)=\"updateContactInfo(false)\">\r\n                      Back\r\n                  </button>    \r\n              </div>\r\n      \r\n              <div class=\"inner\">\r\n                  <button mat-stroked-button\r\n                          type=\"submit\"\r\n                          style=\"background-color: #ff6f61; color: white; font-weight: bold;\"\r\n                          align=\"end\"\r\n                          (click)=\"updateContactInfo(true)\">\r\n                      Update\r\n                  </button>                \r\n              </div>\r\n      \r\n            </div>\r\n      \r\n          </div>\r\n\r\n    </div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { Trip } from 'src/app/data-models/trip-models/trip.model';\r\n\r\n@Component({\r\n  selector: 'app-active-trip-home',\r\n  templateUrl: './active-trip-home.component.html',\r\n  styleUrls: ['./active-trip-home.component.css']\r\n})\r\nexport class ActiveTripHomeComponent {\r\n\r\n  //data preambles\r\n  userDetails: UserData = new UserData('', '');\r\n  currTrip: Trip = new Trip();\r\n\r\n  constructor( // same constructor as original homepage\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    // set general access storage lists\r\n    this.localStorageService.setLists();\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  initialize(): void {\r\n    // get current fishing report information\r\n    this.currTrip = this.localStorageService.validateCurrTrip(this.userDetails.currTrip);\r\n  }\r\n\r\n  getGearName(): string {\r\n    return this.currTrip.gear.name;\r\n  }\r\n\r\n  getDate(date: Date): Date {\r\n    return new Date(date);\r\n  }\r\n\r\n  toCatchReport(gearType: string): void {\r\n    switch(gearType){\r\n      case 'Gill Net':\r\n        this.router.navigate(['gill-net-report']);\r\n        break;\r\n      case 'Seine':\r\n        this.router.navigate(['seine-report']);\r\n        break;\r\n      case 'Troll':\r\n        this.router.navigate(['troll-report']);\r\n        break;\r\n    }\r\n  }\r\n\r\n  // go to end a fishing report\r\n  toEndReport(): void {\r\n    this.router.navigate(['end-report']);\r\n  }\r\n\r\n  // go to pause a fishing report  \r\n  toPauseReport(): void {\r\n    this.router.navigate(['pause-report']);\r\n  }\r\n\r\n  // go to cancel the current trip\r\n  toCancelReport(): void {\r\n    this.router.navigate(['cancel-report']);\r\n  }\r\n\r\n  // go to an offload report\r\n  toOffloadReport(): void {\r\n    this.router.navigate(['offload-report']);\r\n  }\r\n\r\n}\r\n","<div class=\"container active-trip-home-container\">\r\n\r\n  <!-- Header -->\r\n  <div class=\"row\">\r\n\r\n    <div class=\"col\" align=\"left\">\r\n      <h1 class=\"blue-trip-heading\">\r\n        My Trip\r\n      </h1>\r\n      <h2 style=\"color: #003F61\">\r\n        #1234\r\n      </h2>\r\n    </div>\r\n\r\n\r\n    <div class=\"col\" align=\"right\">\r\n      <app-menu> </app-menu>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <!-- Trip Information -->\r\n\r\n  <div class=\"row\" align=\"left\">\r\n    <h6 class=\"descriptive-text\">\r\n      Start Date:\r\n      <span style=\"display:inline; font-weight:500; color:#005d87;\">\r\n        {{getDate(currTrip.startFishingReport.startDate) | date}}\r\n      </span>\r\n    </h6>\r\n  </div>\r\n\r\n  <div class=\"row\" align=\"left\">\r\n    <h6 class=\"descriptive-text\">\r\n      Gear Type:\r\n      <span style=\"display:inline; font-weight:500; color:#005d87;\">\r\n        {{currTrip.gear}}\r\n      </span>\r\n    </h6>\r\n  </div>\r\n\r\n  <div class=\"row\" align=\"left\">\r\n    <h6 class=\"descriptive-text\">\r\n      Vessel Master:\r\n      <span style=\"display:inline; font-weight:500; color:#005d87;\">\r\n        {{currTrip.master}} (FIN: {{currTrip.fin}})\r\n      </span>\r\n    </h6>\r\n  </div>\r\n\r\n  <div class=\"row\" align=\"left\">\r\n    <h6 class=\"descriptive-text\">\r\n      Vessel:\r\n      <span style=\"display:inline; font-weight:500; color:#005d87;\">\r\n        {{currTrip.vessel}}\r\n      </span>\r\n    </h6>\r\n  </div>\r\n\r\n  <div class=\"row\" align=\"left\">\r\n    <h6 class=\"descriptive-text\">\r\n      License Area:\r\n      <span style=\"display:inline; font-weight:500; color:#005d87;\">\r\n        {{currTrip.licenseArea}}\r\n      </span>\r\n    </h6>\r\n  </div>\r\n\r\n  <!-- Catch Reports -->\r\n\r\n  <div class=\"button-row\">\r\n    <button mat-raised-button\r\n            class=\"red-button\"\r\n            align=\"center\"\r\n            type=\"button\"\r\n            (click)=\"toCatchReport(currTrip.gear.name)\">\r\n      <span>\r\n        Record Catch\r\n      </span>\r\n    </button>\r\n  </div>\r\n\r\n  <!-- Fishing Report Buttons -->\r\n\r\n  <div class=\"row\" align=\"left\">\r\n    <h3 class=\"blue-subheading\">\r\n      Submit an Activity Report\r\n    </h3>\r\n  </div>\r\n\r\n  <div class=\"report-buttons\">\r\n\r\n    <div class=\"row justify-content-center\">\r\n\r\n      <div class=\"col-3\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  class=\"blue-button\"\r\n                  type=\"button\"\r\n                  (click)=\"toPauseReport()\">\r\n            <span>\r\n              Pause\r\n            </span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-1\"></div>\r\n\r\n      <div class=\"col-3\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                  *ngIf=\"currTrip.dailyCatchReports.length > 0\"\r\n                  class=\"blue-button\"\r\n                  type=\"button\"\r\n                  (click)=\"toEndReport()\">\r\n            <span>\r\n              End\r\n            </span>\r\n          </button>\r\n          <button mat-raised-button\r\n                  *ngIf=\"!currTrip.dailyCatchReports.length\"\r\n                  class=\"blue-button\"\r\n                  type=\"button\"\r\n                  (click)=\"toCancelReport()\">\r\n            <span>\r\n              Cancel\r\n            </span>\r\n          </button> \r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-1\"></div>\r\n\r\n      <div class=\"col-3\">\r\n        <div class=\"row\">\r\n          <button mat-raised-button\r\n                 *ngIf=\"currTrip.offloadNeeded && currTrip.dailyCatchReports.length > 0\"\r\n                  class=\"blue-button\"\r\n                  type=\"button\"\r\n                  (click)=\"toOffloadReport()\">\r\n            <span>\r\n              Offload\r\n            </span>\r\n          </button>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Trip } from 'src/app/data-models/trip-models/trip.model';\r\nimport { UserData } from 'src/app/data-models/user-models/user-data.model';\r\nimport { DailyCatchReport } from 'src/app/data-models/report-models/daily-catch-report.model';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-no-trip-home',\r\n  templateUrl: './no-trip-home.component.html',\r\n  styleUrls: ['./no-trip-home.component.css']\r\n})\r\nexport class NoTripHomeComponent {\r\n\r\n  //data preambles\r\n  userDetails: UserData = new UserData('', '');\r\n  currTrip: Trip = new Trip();\r\n  prevTrips: Trip[] = [];\r\n\r\n  constructor( // same constructor as original homepage\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    // set general access storage lists\r\n    this.localStorageService.setLists();\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n              return;\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  saveDailyCatchReports(tempTrip: Trip): void {\r\n\r\n    for(let report of this.currTrip.dailyCatchReports){\r\n      let tempReport: DailyCatchReport = new DailyCatchReport();\r\n      tempReport = report;\r\n      tempTrip.dailyCatchReports.push(tempReport);\r\n    }\r\n\r\n  }\r\n\r\n  saveOldReport(): void { \r\n    if(this.currTrip.isValid() && !this.currTrip.isSaved && this.currTrip.startFishingReport.isComplete) { // check if there is a trip to save\r\n      console.log(\"Saving a new trip...\");\r\n      let tempTrip: Trip = new Trip();\r\n      this.currTrip.isSaved = true;\r\n      tempTrip.isSaved = this.currTrip.isSaved;\r\n      tempTrip.gear = this.currTrip.gear;\r\n      tempTrip.vessel = this.currTrip.vessel;\r\n      tempTrip.licenseArea = this.currTrip.licenseArea;\r\n      tempTrip.master = this.currTrip.master;\r\n      tempTrip.fin = this.currTrip.fin;\r\n      tempTrip.contactName = this.currTrip.contactName;\r\n      tempTrip.phoneNum = this.currTrip.phoneNum;\r\n      tempTrip.offloadNeeded = this.currTrip.offloadNeeded;\r\n      tempTrip.startFishingReport = this.currTrip.startFishingReport;\r\n      tempTrip.endFishingReport = this.currTrip.endFishingReport;\r\n      tempTrip.cancelFishingReport = this.currTrip.cancelFishingReport;\r\n      tempTrip.pauseFishingReports = this.currTrip.pauseFishingReports;\r\n      this.saveDailyCatchReports(tempTrip);\r\n      tempTrip.offloadReports = this.currTrip.offloadReports;\r\n      this.prevTrips = this.localStorageService.validatePrevTrips(this.userDetails.prevTrips);\r\n      this.prevTrips.push(tempTrip);\r\n      this.userDetails.currTrip = this.currTrip;\r\n      this.userDetails.prevTrips = this.prevTrips;\r\n      this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n      console.log(\"Trip saved!\");\r\n    }\r\n  }\r\n\r\n  initialize(): void {\r\n    // get current fishing report information\r\n    this.currTrip = this.userDetails.currTrip;\r\n    this.saveOldReport();\r\n  }\r\n\r\n  // go to start a fishing report\r\n  toStartReport(): void {\r\n    this.router.navigate(['start-report']);\r\n  }\r\n\r\n}\r\n","<div class=\"container no-trip-home-container\">\r\n\r\n  <div class=\"row\">\r\n\r\n    <div class=\"col\" align=\"left\">\r\n      <h1 class=\"blue-trip-heading\">\r\n        My Trip\r\n      </h1>\r\n    </div>\r\n\r\n    <div class=\"col\" align=\"right\">\r\n      <app-menu> </app-menu>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <h3 class=\"blue-subheading\">\r\n      You have no active trip.\r\n    </h3>\r\n  </div>\r\n\r\n  <div class=\"row\" align=\"left\">\r\n    <h6 class=\"descriptive-text\">\r\n      Select the button below to complete a Start Fishing\r\n      Report and activate a new trip.\r\n    </h6>\r\n  </div>\r\n\r\n  <div class=\"button-row\">\r\n    <button mat-raised-button\r\n            class=\"red-button\"\r\n            align=\"center\"\r\n            type=\"button\"\r\n            (click)=\"toStartReport()\">\r\n      <span>\r\n        Start Trip\r\n      </span>\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-offload-home',\r\n  templateUrl: './offload-home.component.html',\r\n  styleUrls: ['./offload-home.component.css']\r\n})\r\nexport class OffloadHomeComponent {\r\n\r\n  // data preambles\r\n  requestToStartNewTrip: boolean = false; // flag that tells us if we should display the confirmation page\r\n  userDetails: UserData = new UserData('', '');\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    // set general access storage lists\r\n    this.localStorageService.setLists();\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  setNewTripFlag(): void {\r\n    this.requestToStartNewTrip = true;\r\n  }\r\n\r\n  clearNewTripFlag(): void {\r\n    this.requestToStartNewTrip = false;\r\n  }\r\n\r\n  // go to an offload report\r\n  toOffloadReport(): void {\r\n    this.router.navigate(['offload-report']);\r\n  }\r\n\r\n  // go to the new trip homepage\r\n  toNoTripHome(): void {\r\n    this.updateHomepage();\r\n    this.router.navigate(['no-trip-home']);\r\n  }\r\n\r\n  // user wants to start a new trip without submitting an offload report\r\n  updateHomepage(): void {\r\n    this.userDetails.currHomepage = 'no-trip-home';\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n}\r\n","<!-- Offload Report Homepage -->\r\n<div class=\"container offload-home-container\">\r\n\r\n    <div *ngIf=\"!requestToStartNewTrip\">\r\n\r\n        <div class=\"row\">\r\n\r\n            <div class=\"col\" align=\"left\">\r\n                <h1 class=\"blue-trip-heading\">\r\n                    My Trip\r\n                </h1>\r\n            </div>\r\n\r\n\r\n            <div class=\"col\" align=\"right\">\r\n            <app-menu> </app-menu>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <h3 class=\"blue-subheading\">\r\n                Do you need to submit an offload report?\r\n            </h3>\r\n        </div>\r\n\r\n        <div class=\"row\" align=\"left\">\r\n            <h6 class=\"descriptive-text\">\r\n            Offload Reports completed for this trip: \r\n            <b> {{userDetails.currTrip.offloadReports.length}} </b>\r\n            </h6>\r\n        </div>\r\n\r\n        <div class=\"row\" align=\"left\">\r\n                <h6 class=\"descriptive-text\">\r\n                This is your final chance to complete an offload report before starting a new trip.\r\n                </h6>\r\n        </div>\r\n\r\n        <div class=\"button-row\">\r\n            <button mat-raised-button\r\n                    class=\"red-button\"\r\n                    align=\"center\"\r\n                    type=\"button\"\r\n                    (click)=\"toOffloadReport()\">\r\n            <span>\r\n            Offload Report\r\n            </span>\r\n            </button> \r\n        </div>\r\n\r\n        <div class=\"button-row\">\r\n            <button mat-raised-button\r\n                    class=\"red-button\"\r\n                    align=\"center\"\r\n                    type=\"button\"\r\n                    (click)=\"setNewTripFlag()\">\r\n            <span>\r\n            Start Another Trip\r\n            </span>\r\n            </button> \r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div *ngIf=\"requestToStartNewTrip\">\r\n        \r\n    <div class=\"row\"\r\n        align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n        Are you sure you want to start a new trip?\r\n        </h5>\r\n    </div>\r\n\r\n    <div class=\"row\"\r\n        align=\"center\">\r\n        <p>\r\n            If you select yes, you will not be able to complete an offload report for this trip \r\n            at <b>any</b> point in the future.\r\n        </p>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n\r\n            <div class=\"col-1\"></div>\r\n            <div class=\"col-4\">\r\n                <div class=\"row\">\r\n                <button mat-raised-button\r\n                        class=\"fishing-button-red\"\r\n                        type=\"submit\"\r\n                        (click)=\"clearNewTripFlag()\">\r\n                    <span>\r\n                      No\r\n                    </span>\r\n                </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-2\"></div>\r\n            <div class=\"col-4\">\r\n                <div class=\"row\">\r\n                <button mat-raised-button\r\n                        class=\"fishing-button-red\"\r\n                        type=\"submit\"\r\n                        (click)=\"toNoTripHome()\">\r\n                  <span>\r\n                    Yes\r\n                  </span>\r\n                </button>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-1\"></div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { A11yModule } from '@angular/cdk/a11y';\r\nimport { ClipboardModule } from '@angular/cdk/clipboard';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { PortalModule } from '@angular/cdk/portal';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { CdkTableModule } from '@angular/cdk/table';\r\nimport { CdkTreeModule } from '@angular/cdk/tree';\r\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatStepperModule } from '@angular/material/stepper';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatNativeDateModule, MatRippleModule } from '@angular/material/core';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\n\r\n@NgModule({\r\n  imports: [\r\n    MatButtonModule,\r\n    MatSliderModule,\r\n    MatInputModule,\r\n    MatRippleModule,\r\n  ],\r\n  exports: [\r\n    A11yModule,\r\n    ClipboardModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    OverlayModule,\r\n    PortalModule,\r\n    ScrollingModule,\r\n  ]\r\n})\r\nexport class MaterialModule { }","import { Component } from '@angular/core';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { Gear } from '../../data-models/trip-models/gear-models/gear.model';\r\nimport { VesselData } from '../../data-models/user-models/vessel-data.model';\r\nimport { AddVesselDialogComponent } from '../../dialogs/add-vessel-dialog/add-vessel-dialog.component';\r\nimport { Net } from '../../data-models/trip-models/gear-models/net.model';\r\nimport { AddNetDialogComponent } from '../../dialogs/add-net-dialog/add-net-dialog.component';\r\nimport { ContactInfoDialogComponent } from 'src/app/dialogs/contact-info-dialog/contact-info-dialog.component';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.css']\r\n})\r\nexport class ProfileComponent {\r\n\r\n  // get the current user details\r\n  userDetails: UserData = new UserData('', '');\r\n\r\n  // read-only fields\r\n  firstName: string = '';\r\n  lastName: string = '';\r\n  username: string = '';\r\n  logbooks: Gear[] = [];\r\n\r\n  // vessel and net data\r\n  vessels: VesselData[] = [];\r\n  containsGillNet: boolean = false;\r\n  nets: Net[] = [];\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private auth: AuthService,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  // set page values\r\n  initialize(): void {\r\n\r\n    this.firstName = this.userDetails.firstName;\r\n    this.lastName = this.userDetails.lastName;\r\n    this.username = this.userDetails.userEmail;\r\n    this.logbooks = this.userDetails.gears;\r\n\r\n    this.vessels = this.userDetails.vessels;\r\n\r\n    for (let logbook of this.logbooks) {\r\n      if (logbook.name === 'Gill Net') {\r\n        this.containsGillNet = true;\r\n        this.nets = this.userDetails.nets;\r\n        break;\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  // update local storage\r\n  saveUserDetails(): void {\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n\r\n  // edit contact info\r\n  contactInfoDialog(): void {\r\n\r\n    const dialogRef: MatDialogRef<ContactInfoDialogComponent, any> = this.dialog.open(ContactInfoDialogComponent, {\r\n      width: '500px',\r\n      height: '550px'\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // update selected vessel as new vessel added then go to next screen\r\n        if (result !== 'false') {\r\n          this.userDetails = this.localStorageService.getUserByID(this.userDetails.userID);\r\n          this.toastr.success(\"Profile Information Updated!\", \"Success\");\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  // add new vessel to user profile\r\n  addVesselDialog(): void {\r\n\r\n    const dialogRef: MatDialogRef<AddVesselDialogComponent, any> = this.dialog.open(AddVesselDialogComponent, {\r\n      width: '500px',\r\n      height: '400px'\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // update selected vessel as new vessel added then go to next screen\r\n        if (result !== 'delete') {\r\n          let newVessel: VesselData = new VesselData(result.vesselName, result.vesselNumber, true);\r\n          this.userDetails.vessels.push(newVessel);\r\n          this.saveUserDetails();\r\n          this.toastr.success(\"New vessel added!\", \"Success\");\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // add new net to user profile\r\n  addNetDialog(): void {\r\n\r\n    const dialogRef: MatDialogRef<AddNetDialogComponent, any> = this.dialog.open(AddNetDialogComponent, {\r\n      width: '500px',\r\n      height: '550px'\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // update selected net as new net added then go to next screen\r\n        if (result !== 'delete') {\r\n          let newNet: Net = new Net(result.netType, result.netName, result.netLength, result.netDepth, result.netUnits,\r\n            result.hangRatio, result.meshSize, result.meshUnits, result.numMeshes, result.numStrands, true);\r\n          this.userDetails.nets.push(newNet);\r\n          this.saveUserDetails();\r\n          this.toastr.success(\"New net added!\", \"Success\");\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container profile-container\">\r\n\r\n  <!-- Heading -->\r\n  <div class=\"row\">\r\n\r\n    <div class=\"col\" align=\"left\">\r\n      <h1 class=\"blue-profile-heading\">\r\n        Profile\r\n      </h1>\r\n    </div>\r\n\r\n    <div class=\"col\" align=\"right\">\r\n      <app-menu> </app-menu>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"row justify-content-center\">\r\n\r\n    <!-- Account Details -->\r\n    \r\n      <h6 class=\"descriptive-text\" style=\"margin-top: 10px;\">\r\n        <b>\r\n          First Name:\r\n        </b>\r\n        <span class=\"field-data\">\r\n          {{firstName}}\r\n        </span>\r\n      </h6>\r\n\r\n      <h6 class=\"descriptive-text\">\r\n        <b>\r\n          Last Name:\r\n        </b>\r\n        <span class=\"field-data\">\r\n          {{lastName}}\r\n        </span>\r\n      </h6>\r\n\r\n      <h6 class=\"descriptive-text\">\r\n        <b>\r\n          Username:\r\n        </b>\r\n        <span class=\"field-data\">\r\n          {{username}}\r\n        </span>\r\n      </h6>\r\n\r\n      <h6 class=\"descriptive-text\">\r\n        <b>\r\n          Available logbooks:\r\n        </b>\r\n        <span *ngIf=\"!logbooks.length\">\r\n          No available logbooks.\r\n        </span>\r\n      </h6>\r\n      <ul *ngIf=\"logbooks.length > 0\"\r\n          class=\"logbook-list\">\r\n        <li *ngFor=\"let logbook of logbooks\">\r\n          {{logbook}}\r\n        </li>\r\n      </ul>\r\n\r\n      <div class=\"row info-section\" style=\"margin-top: 5px;\"></div>\r\n\r\n\r\n    <!-- Contact Information -->\r\n\r\n      <h3 class=\"blue-profile-subheading\" style=\"padding-top: 10px;\">\r\n        Contact Information\r\n      </h3>\r\n\r\n      <div class=\"row\">\r\n\r\n        <h6 class=\"descriptive-text\">\r\n          <b>\r\n            Email:\r\n          </b>\r\n          <span class=\"field-data\">\r\n            {{userDetails.contactEmail}}\r\n          </span>\r\n        </h6>\r\n\r\n        <h6 class=\"descriptive-text\">\r\n          <b>\r\n            Address:\r\n          </b>\r\n          <span class=\"field-data\">\r\n            {{userDetails.address}}\r\n          </span>\r\n        </h6>\r\n\r\n        <h6 class=\"descriptive-text\">\r\n          <b>\r\n            City:\r\n          </b>\r\n          <span class=\"field-data\">\r\n            {{userDetails.city}}\r\n          </span>\r\n        </h6>\r\n\r\n        <h6 class=\"descriptive-text\">\r\n          <b>\r\n            Postal Code:\r\n          </b>\r\n          <span class=\"field-data\">\r\n            {{userDetails.postalCode}}\r\n          </span>\r\n        </h6>\r\n\r\n        <h6 class=\"descriptive-text\">\r\n          <b>\r\n            Phone Number:\r\n          </b>\r\n          <span class=\"field-data\">\r\n            {{userDetails.phoneNum}}\r\n          </span>\r\n        </h6>\r\n\r\n        <div class=\"button-row\">\r\n          <button mat-raised-button\r\n                  class=\"red-button\"\r\n                  type=\"button\"\r\n                  (click)=\"contactInfoDialog()\">\r\n            <span>\r\n              Edit Contact Information\r\n            </span>\r\n          </button>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row info-section\"></div>\r\n\r\n\r\n    <!-- My Vessels -->\r\n\r\n    <h3 class=\"blue-profile-subheading\" style=\"padding-top: 10px;\">\r\n      My Vessels\r\n    </h3>\r\n\r\n    <div class=\"row\">\r\n\r\n      <span *ngIf=\"!vessels.length\" class=\"descriptive-text\">\r\n        No available vessels.\r\n      </span>\r\n\r\n      <ul *ngIf=\"vessels.length > 0\"\r\n        class=\"descriptive-text\"\r\n        style=\"padding-left: 30px;\">\r\n        <li *ngFor=\"let vessel of vessels\">\r\n            <b>\r\n            {{vessel.vesselName}} \r\n            </b>\r\n          <span class=\"field-data\">\r\n            (VRN: {{vessel.vesselCoastNumber}})\r\n          </span>\r\n        </li> \r\n      </ul>\r\n\r\n        <!-- Add new vessel -->\r\n        <div class=\"button-row\">\r\n              <button mat-raised-button\r\n                      class=\"red-button\"\r\n                      type=\"button\"\r\n                      (click)=\"addVesselDialog()\">\r\n                <span>\r\n                  Add Vessel\r\n                </span>\r\n              </button>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row info-section\"></div>\r\n\r\n\r\n    <!-- My Nets -->\r\n\r\n    <div *ngIf=\"containsGillNet\">\r\n\r\n      <div class=\"col\" align=\"left\">      \r\n        <h3 class=\"blue-profile-subheading\" style=\"padding-top: 10px;\">\r\n          My Nets\r\n        </h3>\r\n      </div>\r\n\r\n      <div class=\"row\" style=\"padding-left: 10px;\">\r\n        <span *ngIf=\"!nets.length\" class=\"descriptive-text\">\r\n          No available nets.\r\n        </span>\r\n     </div>\r\n\r\n      <mat-expansion-panel *ngFor=\"let net of nets\">\r\n        <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n                <span class=\"descriptive-text\">\r\n                  <b>\r\n                    {{net.netName }} \r\n                  </b>\r\n                    <span class=\"field-data\">\r\n                      ({{net.netType}})\r\n                    </span>\r\n                </span>\r\n            </mat-panel-title>\r\n        </mat-expansion-panel-header>\r\n            <h6 class=\"field-data\" style=\"font-size: 14px;\">\r\n                <b>Length (in fathoms): </b>\r\n                {{net.length}}\r\n            </h6>\r\n            <h6 class=\"field-data\" style=\"font-size: 14px;\">\r\n              <b>Weedline Depth: </b>\r\n              {{net.weedlineDepth}} {{net.weedlineDepthUnits}}\r\n            </h6>\r\n            <h6 class=\"field-data\" style=\"font-size: 14px;\">\r\n                <b>Hang Ratio ( :1): </b>\r\n              {{net.hangRatio}} \r\n            </h6>\r\n            <h6 class=\"field-data\" style=\"font-size: 14px;\">\r\n              <b>Mesh Size: </b>\r\n              {{net.meshSize}} {{net.meshSizeUnits}} \r\n            </h6>\r\n            <h6 class=\"field-data\" style=\"font-size: 14px;\">\r\n              <b>Number of Meshes: </b>\r\n              {{net.numMeshes}}\r\n          </h6>\r\n            <h6 class=\"field-data\" \r\n                style=\"font-size: 14px;\"\r\n                *ngIf=\"net.netType === 'Alaska Twist'\">\r\n              <b>Number of Strands: </b>\r\n              {{net.numStrands}}\r\n          </h6>\r\n    </mat-expansion-panel>\r\n\r\n      <!-- Add new net -->\r\n      <div class=\"row\" style=\"padding-left: 10px;\">\r\n        <div class=\"button-row\">\r\n            <button mat-raised-button\r\n                    class=\"red-button\"\r\n                    type=\"button\"\r\n                    (click)=\"addNetDialog()\">\r\n              <span>\r\n                Add Net\r\n              </span>\r\n            </button>\r\n          </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div *ngIf=\"containsGillNet\"\r\n    class=\"row info-section\"\r\n    style=\"margin-bottom: 20px;\"></div>\r\n\r\n  </div>\r\n\r\n</div>\r\n","import { Component, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { UserData } from 'src/app/data-models/user-models/user-data.model';\r\nimport { Trip } from 'src/app/data-models/trip-models/trip.model';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Gear } from 'src/app/data-models/trip-models/gear-models/gear.model';\r\nimport { LicenseArea } from 'src/app/data-models/trip-models/license-area.model';\r\nimport { VesselData } from 'src/app/data-models/user-models/vessel-data.model';\r\n\r\n@Component({\r\n  selector: 'app-records-page',\r\n  templateUrl: './records-page.component.html',\r\n  styleUrls: ['./records-page.component.css']\r\n})\r\nexport class RecordsPageComponent {\r\n\r\n   //data preambles\r\n   userDetails: UserData = new UserData('', '');\r\n   currTrip: Trip = new Trip();\r\n\r\n   //filter menu\r\n   gears: Gear[] = [];\r\n   licenseAreas: LicenseArea[] = [];\r\n   vessels: VesselData[] = [];\r\n   selectedGearCount: number = 0;\r\n   selectedLicenseAreaCount: number = 0;\r\n   selectedVesselCount: number = 0;\r\n\r\n  constructor( // same constructor as original homepage\r\n    public auth: AuthService,\r\n    private router: Router,\r\n    private datePipe: DatePipe,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService,\r\n    private toastr: ToastrService,\r\n    @Inject(DOCUMENT) public document: Document\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  formatDate(date: Date): string {\r\n    let formattedDate = this.datePipe.transform(date, 'shortDate');\r\n    if (formattedDate){\r\n      return formattedDate;\r\n    }\r\n    this.toastr.error(\"Could not format date\", \"Date format error\");\r\n    return '';\r\n  }\r\n\r\n  initialize(): void {\r\n\r\n    // get current fishing report information\r\n    this.currTrip = this.localStorageService.validateCurrTrip(this.userDetails.currTrip);\r\n\r\n    // get data for filter list\r\n    this.makeGearList(this.userDetails.gears);\r\n    this.makeLicenseAreaList(this.localStorageService.getLicenseAreas());\r\n    this.makeVesselList(this.userDetails.vessels);\r\n\r\n  }\r\n\r\n  makeVesselList(vesselList: VesselData[]) {\r\n    for(let vessel of vesselList) {\r\n      let currVessel: VesselData = new VesselData();\r\n      currVessel.vesselName = vessel.vesselName;\r\n      currVessel.vesselCoastNumber = vessel.vesselCoastNumber;\r\n      this.vessels.push(currVessel);\r\n    }\r\n  }\r\n\r\n  makeGearList(gearList: Gear[]): void {\r\n    for(let gear of gearList) {\r\n     let currGear: Gear = new Gear();\r\n     currGear.name = gear.name;\r\n     currGear.logbookID = gear.logbookID;\r\n     this.gears.push(currGear);\r\n    }\r\n  }\r\n\r\n  makeLicenseAreaList(areas: LicenseArea[]): void {\r\n    for(let area of areas) {\r\n      let currArea: LicenseArea = new LicenseArea();\r\n      currArea.licenseName = area.licenseName;\r\n      currArea.licenseLocation = area.licenseLocation;\r\n      this.licenseAreas.push(currArea);\r\n     }\r\n  }\r\n\r\n\r\n  getDate(date: Date): Date {\r\n    return new Date(date);\r\n  }\r\n\r\n  determineButtonStyling(): string {\r\n\r\n    if (this.filtersApplied()) { // filter is being used\r\n      return \"filter-tool-selected\";\r\n    }\r\n    return \"filter-tool\" // filter is not being used\r\n  }\r\n\r\n  filtersApplied(): boolean {\r\n    return this.selectedGearCount > 0 || this.selectedLicenseAreaCount > 0 || this.selectedVesselCount > 0;\r\n  }\r\n\r\n\r\n  /* Credit to: \r\n  https://stackblitz.com/edit/multi-select-mat-menu?file=src%2Fapp%2Fmenu-multiselect-example.html,src%2Fapp%2Fmenu-multiselect-example.ts\r\n  for selectItem and updateSelectedItems */\r\n \r\n selectItem($event: any, item: any): void {\r\n    // prevent menu from closing\r\n    $event.stopPropagation();\r\n    $event.preventDefault();\r\n    // toggle selected state on clicked item\r\n    item.isChecked = !item.isChecked;\r\n    this.updateSelectedItems();\r\n }\r\n\r\n updateSelectedItems(): void {\r\n    this.selectedGearCount = this.gears.filter((g: Gear) => g.isChecked).length;\r\n    this.selectedLicenseAreaCount = this.licenseAreas.filter((l: LicenseArea) => l.isChecked).length;\r\n    this.selectedVesselCount = this.vessels.filter((v: VesselData) => v.isChecked).length;\r\n }\r\n\r\n determineTripVisibility(trip: Trip): boolean {\r\n\r\n  let checkedGears: Gear[] = this.gears.filter((g: Gear) => g.isChecked);\r\n  let checkedAreas: LicenseArea[] = this.licenseAreas.filter((l: LicenseArea) => l.isChecked);\r\n  let checkedVessels: VesselData[] = this.vessels.filter((v: VesselData) => v.isChecked);\r\n\r\n  let gearFlag: boolean = false;\r\n  let licenseAreaFlag: boolean = false;\r\n  let vesselFlag: boolean = false;\r\n\r\n  if (!checkedGears.length) {\r\n    checkedGears = this.gears;\r\n  }\r\n  if (!checkedAreas.length) {\r\n    checkedAreas = this.licenseAreas;\r\n  }\r\n  if (!checkedVessels.length) {\r\n    checkedVessels = this.vessels;\r\n  }\r\n\r\n  for(let gear of checkedGears) {\r\n    if((trip.gear.logbookID === gear.logbookID)) {\r\n      gearFlag = true;\r\n      }\r\n  } \r\n  if(!gearFlag) {\r\n    return false;\r\n  }\r\n\r\n  for(let area of checkedAreas) {\r\n    if((trip.licenseArea.licenseName === area.licenseName)) {\r\n      licenseAreaFlag = true;\r\n      }\r\n  }\r\n  if(!licenseAreaFlag) {\r\n    return false;\r\n  }\r\n\r\n  for(let vessel of checkedVessels) {\r\n    if((trip.vessel.vesselCoastNumber === vessel.vesselCoastNumber)) {\r\n      vesselFlag = true;\r\n      }\r\n  }\r\n  if(!vesselFlag) {\r\n    return false;\r\n  }\r\n\r\n  return true; // match\r\n  \r\n }\r\n\r\n clearGearFilter() : void {\r\n   this.selectedGearCount = 0;\r\n   let checkedGears: Gear[] = this.gears.filter((g: Gear) => g.isChecked);\r\n   for(let gear of checkedGears) {\r\n     gear.isChecked = false;\r\n   }\r\n }\r\n\r\n clearAreaFilter() : void {\r\n  this.selectedLicenseAreaCount = 0;\r\n  let checkedAreas: LicenseArea[] = this.licenseAreas.filter((l: LicenseArea) => l.isChecked);\r\n  for(let area of checkedAreas) {\r\n    area.isChecked = false;\r\n  }\r\n}\r\n\r\nclearVesselFilter() : void {\r\n  this.selectedVesselCount = 0;\r\n  let checkedVessels: VesselData[] = this.vessels.filter((v: VesselData) => v.isChecked);\r\n  for(let vessel of checkedVessels) {\r\n    vessel.isChecked = false;\r\n  }\r\n}\r\n\r\n\r\n}\r\n","<div class=\"container records-page-container\">\r\n\r\n    <div class=\"row\">\r\n  \r\n      <div class=\"col\" align=\"left\">\r\n        <h1 class=\"blue-trip-heading\">\r\n         Records\r\n        </h1>\r\n      </div>\r\n  \r\n      <div class=\"col\" align=\"right\">\r\n        <app-menu> </app-menu>\r\n      </div>\r\n  \r\n    </div>\r\n\r\n    <div class=\"row\"\r\n                *ngIf=\"userDetails.currHomepage === 'no-trip-home' && userDetails.prevTrips.length <= 0\">\r\n        <h3 class=\"blue-subheading\">\r\n          You have no trip records.\r\n        </h3>\r\n      </div>\r\n\r\n    <!-- Current Trip Records -->\r\n\r\n    <div *ngIf=\"userDetails.currHomepage !== 'no-trip-home'\">\r\n  \r\n        <div class=\"row\">\r\n        <h3 class=\"blue-subheading\">\r\n            Current Trip\r\n            <span style=\"display: inline\">\r\n                 #{{currTrip.tripID}}\r\n            </span>\r\n        </h3>\r\n        </div>\r\n\r\n        <!-- Start Report -->\r\n\r\n        <mat-expansion-panel>\r\n            <mat-expansion-panel-header>\r\n            <mat-panel-title class=\"panel-title\">\r\n                Start Report &nbsp;\r\n                <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                    {{getDate(currTrip.startFishingReport.startDate) | date: 'dd/MM/yyyy'}}\r\n                </span>\r\n            </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n                <h6 class=\"field-label\">\r\n                    <span style=\"display: inline; font-weight: 700;\"> \r\n                        Date Submitted: \r\n                    </span>\r\n                    <span style=\"display:inline\">\r\n                        {{getDate(currTrip.startFishingReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                    </span>\r\n                </h6>\r\n                <h6 class=\"field-label\">\r\n                    <span style=\"display:inline; font-weight:700;\"> \r\n                        Confirmation Number: \r\n                    </span>\r\n                    <span style=\"display:inline\">\r\n                        {{currTrip.startFishingReport.confirmationNumber}}\r\n                    </span>\r\n                </h6>\r\n                <h6 class=\"field-label\">\r\n                    <span style=\"display:inline; font-weight:700;\"> \r\n                        Transmission Status: \r\n                    </span>\r\n                    <span style=\"display:inline\"\r\n                        *ngIf=\"currTrip.startFishingReport.isTransmitted\">\r\n                        Sent To DFO\r\n                    </span>\r\n                    <span style=\"display:inline\"\r\n                        *ngIf=\"!currTrip.startFishingReport.isTransmitted\"\r\n                        class=\"not-transmitted\">\r\n                        Not Sent To DFO\r\n                    </span>\r\n                </h6>\r\n        </mat-expansion-panel>\r\n\r\n        <!-- Pause Fishing Reports -->\r\n\r\n        <mat-expansion-panel *ngIf=\"currTrip.pauseFishingReports.length>0\">\r\n            <mat-expansion-panel-header>\r\n            <mat-panel-title class=\"panel-title\">\r\n               Pause Reports &nbsp;\r\n               <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                (count: {{currTrip.pauseFishingReports.length}})\r\n              </span>\r\n            </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n                \r\n                <mat-expansion-panel *ngFor=\"let pauseReport of currTrip.pauseFishingReports.reverse()\">\r\n                    <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            <span class=\"panel-date\">\r\n                                {{getDate(pauseReport.pauseDate) | date: 'dd/MM/yyyy'}}\r\n                            </span>\r\n                        </mat-panel-title>\r\n                    </mat-expansion-panel-header>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Date Submitted: \r\n                            </span>\r\n                            <span style=\"display:inline\">\r\n                                {{getDate(pauseReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                            </span>\r\n                        </h6>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Confirmation Number: \r\n                            </span>\r\n                            <span style=\"display:inline\">\r\n                                {{pauseReport.confirmationNumber}}\r\n                            </span>\r\n                        </h6>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Transmission Status: \r\n                            </span>\r\n                            <span style=\"display:inline\"\r\n                                *ngIf=\"pauseReport.isTransmitted\">\r\n                                Sent To DFO\r\n                            </span>\r\n                            <span style=\"display:inline\"\r\n                                *ngIf=\"!pauseReport.isTransmitted\"\r\n                                class=\"not-transmitted\">\r\n                                Not Sent To DFO\r\n                            </span>\r\n                        </h6>\r\n                </mat-expansion-panel>\r\n\r\n        </mat-expansion-panel>\r\n\r\n        <!-- Daily Catch Reports -->\r\n\r\n        <mat-expansion-panel *ngIf=\"currTrip.dailyCatchReports.length>0\">\r\n            <mat-expansion-panel-header>\r\n            <mat-panel-title class=\"panel-title\">\r\n                 Catch Reports &nbsp;\r\n                 <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                    (count: {{currTrip.dailyCatchReports.length}})\r\n                 </span>\r\n            </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n                \r\n                <mat-expansion-panel *ngFor=\"let catchReport of currTrip.dailyCatchReports.reverse()\">\r\n                    <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            <span class=\"panel-date\">\r\n                                {{formatDate(catchReport.dateFished)}}\r\n                            </span>\r\n                        </mat-panel-title>\r\n                    </mat-expansion-panel-header>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Date Submitted: \r\n                            </span>\r\n                            <span style=\"display:inline\">\r\n                                {{getDate(catchReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                            </span>\r\n                        </h6>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Confirmation Number: \r\n                            </span>\r\n                            <span style=\"display:inline\">\r\n                                {{catchReport.confirmationNumber}}\r\n                            </span>\r\n                        </h6>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Transmission Status: \r\n                            </span> \r\n                            <span style=\"display:inline\"\r\n                                *ngIf=\"catchReport.isTransmitted\">\r\n                                Sent To DFO\r\n                            </span>\r\n                            <span style=\"display:inline\"\r\n                                *ngIf=\"!catchReport.isTransmitted\"\r\n                                class=\"not-transmitted\">\r\n                                Not Sent To DFO\r\n                            </span>\r\n                        </h6>\r\n                </mat-expansion-panel>\r\n\r\n        </mat-expansion-panel>\r\n\r\n         <!-- Offload Catch Reports --> \r\n\r\n         <mat-expansion-panel *ngIf=\"currTrip.offloadReports.length>0\">\r\n            <mat-expansion-panel-header>\r\n            <mat-panel-title class=\"panel-title\">\r\n                Offload Reports &nbsp;\r\n                <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                    (count: {{currTrip.offloadReports.length}})\r\n                 </span>\r\n            </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n                \r\n                <mat-expansion-panel *ngFor=\"let offloadReport of currTrip.offloadReports.reverse()\">\r\n                    <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            <span class=\"panel-date\">\r\n                                {{formatDate(offloadReport.offloadDate)}}\r\n                            </span>\r\n                        </mat-panel-title>\r\n                    </mat-expansion-panel-header>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Date Submitted: \r\n                            </span>\r\n                            <span style=\"display:inline\">\r\n                                {{getDate(offloadReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                            </span>\r\n                        </h6>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Confirmation Number: \r\n                            </span>\r\n                            <span style=\"display:inline\">\r\n                                {{offloadReport.confirmationNumber}}\r\n                            </span>\r\n                        </h6>\r\n                        <h6 class=\"field-label\">\r\n                            <span style=\"display:inline; font-weight:700;\"> \r\n                                Transmission Status: \r\n                            </span>\r\n                            <span style=\"display:inline\"\r\n                                *ngIf=\"offloadReport.isTransmitted\">\r\n                                Sent To DFO\r\n                            </span>\r\n                            <span style=\"display:inline\"\r\n                                *ngIf=\"!offloadReport.isTransmitted\"\r\n                                class=\"not-transmitted\">\r\n                                Not Sent To DFO\r\n                            </span>\r\n                        </h6>\r\n                </mat-expansion-panel>\r\n\r\n        </mat-expansion-panel>\r\n\r\n    </div>\r\n\r\n    <!-- Past Trip Records -->\r\n\r\n      <div class=\"row\"\r\n            *ngIf=\"userDetails.prevTrips.length > 0\">\r\n\r\n        <div class=\"col\" align=\"left\">\r\n            <h3 class=\"blue-subheading\">\r\n                Past Trips\r\n            </h3>\r\n        </div>\r\n\r\n        <!-- Filter Tool -->\r\n\r\n        <div class=\"col\" align=\"right\">\r\n                <button mat-button\r\n                        type=\"button\"\r\n                        class=\"filter-tool\"\r\n                        [matMenuTriggerFor]=\"filterMenu\">\r\n                    <span class=\"panel-date\" style=\"margin-top: 10px;\">\r\n                        Filter Trips\r\n                    </span>\r\n                    <mat-icon class=\"filter-button\">\r\n                        filter_list\r\n                    </mat-icon>\r\n                </button>\r\n          </div>   \r\n          \r\n          <mat-menu #filterMenu=\"matMenu\" class=\"filter-menu\">\r\n            <button mat-menu-item [matMenuTriggerFor]=\"gearMenu\">\r\n                <span class=\"filter-menu-item\"> Gears ({{selectedGearCount}}) </span>\r\n            </button>\r\n            <button mat-menu-item [matMenuTriggerFor]=\"licenseAreaMenu\">\r\n                <span class=\"filter-menu-item\"> License Areas ({{selectedLicenseAreaCount}}) </span>\r\n            </button>\r\n            <button mat-menu-item [matMenuTriggerFor]=\"vesselMenu\">\r\n                <span class=\"filter-menu-item\"> Vessels ({{selectedVesselCount}}) </span> \r\n            </button>\r\n          </mat-menu>\r\n\r\n          <mat-menu #gearMenu=\"matMenu\" class=\"filter-menu\">\r\n            <button mat-menu-item *ngFor=\"let gear of gears\" (click)=\"selectItem($event, gear)\">\r\n                <mat-icon color=\"{{gear.isChecked ? 'primary' : ''}}\"\r\n                          class=\"checkbox-icon\">\r\n                    {{gear.isChecked ? 'check_box' : 'check_box_outline_blank'}}\r\n                </mat-icon>\r\n                <span class=\"filter-menu-item\"> \r\n                    {{gear.name}} \r\n                </span>\r\n              </button>\r\n          </mat-menu>\r\n\r\n          <mat-menu #licenseAreaMenu=\"matMenu\" class=\"filter-menu\">\r\n            <button mat-menu-item *ngFor=\"let area of licenseAreas\" (click)=\"selectItem($event, area)\">\r\n                <mat-icon color=\"{{area.isChecked ? 'primary' : ''}}\"\r\n                          class=\"checkbox-icon\">\r\n                    {{area.isChecked?'check_box':'check_box_outline_blank'}}\r\n                </mat-icon>\r\n                <span class=\"filter-menu-item\">\r\n                     {{area.licenseName}} ({{area.licenseLocation}}) \r\n                    </span>\r\n              </button>\r\n          </mat-menu>\r\n\r\n          <mat-menu #vesselMenu=\"matMenu\" class=\"filter-menu\">\r\n            <button mat-menu-item *ngFor=\"let vessel of vessels\" (click)=\"selectItem($event, vessel)\">\r\n                <mat-icon color=\"{{vessel.isChecked?'primary':''}}\"\r\n                          class=\"checkbox-icon\">\r\n                    {{vessel.isChecked?'check_box':'check_box_outline_blank'}}\r\n                </mat-icon>\r\n                <span class=\"filter-menu-item\"> \r\n                    {{vessel.vesselName}} (VRN: {{vessel.vesselCoastNumber}}) \r\n                </span>\r\n              </button>\r\n          </mat-menu>\r\n\r\n      </div>\r\n\r\n      <div class=\"row\" *ngIf=\"filtersApplied()\"> \r\n\r\n        <div class=\"outer\">\r\n\r\n            <div class=\"inner\">\r\n                <button mat-flat-button\r\n                        *ngIf=\"selectedGearCount>0\"\r\n                        class=\"filter-item-button\"\r\n                        (click)=\"clearGearFilter()\">\r\n                    Gears: {{selectedGearCount}}\r\n                    <mat-icon>close</mat-icon>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"inner\">\r\n                <button mat-flat-button\r\n                        *ngIf=\"selectedLicenseAreaCount>0\"\r\n                        class=\"filter-item-button\"\r\n                        (click)=\"clearAreaFilter()\">\r\n                     License Areas: {{selectedLicenseAreaCount}}\r\n                    <mat-icon>close</mat-icon>\r\n                </button>\r\n            </div>\r\n\r\n            <div class=\"inner\">\r\n                <button mat-flat-button\r\n                        *ngIf=\"selectedVesselCount>0\"\r\n                        class=\"filter-item-button\"\r\n                        (click)=\"clearVesselFilter()\">\r\n                    Vessels: {{selectedVesselCount}}\r\n                    <mat-icon>close</mat-icon>\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div *ngFor=\"let trip of userDetails.prevTrips.reverse()\">\r\n\r\n        <mat-expansion-panel *ngIf=\"determineTripVisibility(trip)\"\r\n                              class=\"past-trips\">\r\n\r\n            <!-- Trip Panel -->\r\n\r\n            <mat-expansion-panel-header>\r\n            <mat-panel-title class=\"panel-title\"\r\n                             style=\"font-size:18px\">\r\n                Trip #{{trip.tripID}}&nbsp;&nbsp;&nbsp;\r\n                <span class=\"panel-date\"\r\n                    style=\"font-size: 16px; font-weight: 500;\">\r\n                    {{getDate(trip.startFishingReport.startDate) | date: 'dd/MM/yyyy'}}&nbsp; \r\n                </span>\r\n                <span span style=\"display: inline;\r\n                                  font-size: 16px;\r\n                                  font-weight: 500;\"\r\n                    class=\"panel-date\"\r\n                    *ngIf=\"trip.endFishingReport.isComplete && !trip.cancelFishingReport.isComplete\">\r\n                    - {{getDate(trip.endFishingReport.endDate) | date: 'dd/MM/yyyy'}}\r\n                </span>\r\n                <span span style=\"display: inline; \r\n                                  font-size: 16px;\r\n                                  font-weight: 500;\"\r\n                    class=\"panel-date\"\r\n                    *ngIf=\"trip.cancelFishingReport.isComplete && !trip.endFishingReport.isComplete\">\r\n                    - {{getDate(trip.startFishingReport.startDate)| date: 'dd/MM/yyyy'}}\r\n                </span>\r\n            </mat-panel-title>\r\n            </mat-expansion-panel-header>\r\n\r\n                <!-- General Trip Information -->\r\n\r\n                <div class=\"trip-info\" align=\"center\">\r\n                    <h6 class=\"descriptive-text\">\r\n                    Gear Type:\r\n                    <span style=\"display: inline; font-weight: 400; color: #005d87;\">\r\n                        {{trip.gear.name}} (Logbook #{{trip.gear.logbookID}})\r\n                    </span>\r\n                    </h6>\r\n                </div>\r\n                \r\n                <div class=\"trip-info\" align=\"center\">\r\n                    <h6 class=\"descriptive-text\">\r\n                    Vessel Master:\r\n                    <span style=\"display: inline; font-weight: 400; color: #005d87;\">\r\n                        {{trip.master}} (FIN: {{trip.fin}})\r\n                    </span>\r\n                    </h6>\r\n                </div>\r\n                \r\n                <div class=\"trip-info\" align=\"center\">\r\n                    <h6 class=\"descriptive-text\">\r\n                    Vessel:\r\n                    <span style=\"display:inline; font-weight:400; color:#005d87;\">\r\n                        {{trip.vessel.vesselName}} (VRN: {{trip.vessel.vesselCoastNumber}})\r\n                    </span>\r\n                    </h6>\r\n                </div>\r\n                \r\n                <div class=\"trip-info\" align=\"center\">\r\n                    <h6 class=\"descriptive-text\">\r\n                    License Area:\r\n                    <span style=\"display:inline; font-weight:400; color:#005d87;\">\r\n                        {{trip.licenseArea.licenseName}} ({{trip.licenseArea.licenseLocation}})\r\n                    </span>\r\n                    </h6>\r\n                </div>\r\n\r\n\r\n                <!-- Start Report -->\r\n\r\n                <div class=\"sub-trips\">\r\n\r\n                    <mat-expansion-panel>\r\n                        <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            Start Report &nbsp; \r\n                            <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                                {{formatDate(trip.startFishingReport.startDate)}}\r\n                            </span>\r\n                        </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                            <h6 class=\"field-label\"> \r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Date Submitted: \r\n                                </span>\r\n                                <span style=\"display:inline\">\r\n                                    {{getDate(trip.startFishingReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                                </span>\r\n                            </h6>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Confirmation Number: \r\n                                </span>\r\n                                <span style=\"display:inline\">\r\n                                    {{trip.startFishingReport.confirmationNumber}}\r\n                                </span>\r\n                            </h6>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Transmission Status: \r\n                                </span>\r\n                                <span style=\"display:inline\"\r\n                                    *ngIf=\"trip.startFishingReport.isTransmitted\">\r\n                                    Sent To DFO\r\n                                </span>\r\n                                <span style=\"display:inline\"\r\n                                    *ngIf=\"!trip.startFishingReport.isTransmitted\"\r\n                                    class=\"not-transmitted\">\r\n                                    Not Sent To DFO\r\n                                </span>\r\n                            </h6>\r\n                    </mat-expansion-panel>\r\n\r\n                </div>\r\n\r\n                <!-- End Report -->\r\n\r\n                <div class=\"sub-trips\">\r\n\r\n                    <mat-expansion-panel *ngIf=\"trip.endFishingReport.isComplete\">\r\n                        <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            End Report &nbsp;\r\n                            <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                                {{formatDate(trip.endFishingReport.endDate)}}\r\n                            </span>\r\n                        </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Date Submitted: \r\n                                </span>\r\n                                <span style=\"display:inline\">\r\n                                    {{getDate(trip.endFishingReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                                </span>\r\n                            </h6>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Confirmation Number: \r\n                                </span>\r\n                                <span style=\"display:inline\">\r\n                                    {{trip.endFishingReport.confirmationNumber}}\r\n                                </span>\r\n                            </h6>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Transmission Status: \r\n                                </span> \r\n                                <span style=\"display:inline\"\r\n                                    *ngIf=\"trip.endFishingReport.isTransmitted\">\r\n                                    Sent To DFO\r\n                                </span>\r\n                                <span style=\"display:inline\"\r\n                                    *ngIf=\"!trip.endFishingReport.isTransmitted\"\r\n                                    class=\"not-transmitted\">\r\n                                    Not Sent To DFO\r\n                                </span>\r\n                            </h6>\r\n                    </mat-expansion-panel>\r\n\r\n                </div>\r\n\r\n                <!-- Cancel Report -->\r\n\r\n                <div class=\"sub-trips\">\r\n\r\n                    <mat-expansion-panel *ngIf=\"trip.cancelFishingReport.isComplete\">\r\n                        <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            Cancel Report &nbsp;\r\n                            <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                                {{formatDate(trip.startFishingReport.startDate)}}\r\n                            </span>\r\n                        </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Date Submitted: \r\n                                </span>\r\n                                <span style=\"display:inline\">\r\n                                    {{getDate(trip.cancelFishingReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                                </span>\r\n                            </h6>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Confirmation Number: \r\n                                </span>  \r\n                                <span style=\"display:inline\">\r\n                                    {{trip.cancelFishingReport.confirmationNumber}}\r\n                                </span>\r\n                            </h6>\r\n                            <h6 class=\"field-label\">\r\n                                <span style=\"display:inline; font-weight:700;\"> \r\n                                    Transmission Status: \r\n                                </span>\r\n                                <span style=\"display:inline\"\r\n                                    *ngIf=\"trip.cancelFishingReport.isTransmitted\">\r\n                                    Sent To DFO\r\n                                </span>\r\n                                <span style=\"display:inline\"\r\n                                    *ngIf=\"!trip.cancelFishingReport.isTransmitted\"\r\n                                    class=\"not-transmitted\">\r\n                                    Not Sent To DFO\r\n                                </span>\r\n                            </h6>\r\n                    </mat-expansion-panel>\r\n\r\n                </div>\r\n\r\n                <!-- Pause Fishing Reports -->\r\n\r\n                <div class=\"sub-trips\">\r\n\r\n                    <mat-expansion-panel *ngIf=\"trip.pauseFishingReports.length>0\">\r\n                        <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            Pause Reports &nbsp;\r\n                            <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                                (count: {{trip.pauseFishingReports.length}})\r\n                             </span>\r\n                        </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n\r\n                            <div class=\"sub-trips\"\r\n                            *ngFor=\"let pauseReport of trip.pauseFishingReports.reverse()\">\r\n                            \r\n                                <mat-expansion-panel>\r\n                                    <mat-expansion-panel-header>\r\n                                        <mat-panel-title class=\"panel-title\">\r\n                                            <span class=\"panel-date\">\r\n                                                {{formatDate(pauseReport.pauseDate)}}\r\n                                            </span>\r\n                                        </mat-panel-title>\r\n                                    </mat-expansion-panel-header>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Date Submitted: \r\n                                            </span>\r\n                                            <span style=\"display:inline\">\r\n                                                {{getDate(pauseReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                                            </span>\r\n                                        </h6>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Confirmation Number: \r\n                                            </span>\r\n                                            <span style=\"display:inline\">\r\n                                                {{pauseReport.confirmationNumber}}\r\n                                            </span>\r\n                                        </h6>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Transmission Status: \r\n                                            </span>\r\n                                            <span style=\"display:inline\"\r\n                                                *ngIf=\"pauseReport.isTransmitted\">\r\n                                                Sent To DFO\r\n                                            </span>\r\n                                            <span style=\"display:inline\"\r\n                                                *ngIf=\"!pauseReport.isTransmitted\"\r\n                                                class=\"not-transmitted\">\r\n                                                Not Sent To DFO\r\n                                            </span>\r\n                                        </h6>\r\n                                </mat-expansion-panel>\r\n\r\n                           </div>\r\n\r\n                    </mat-expansion-panel>\r\n\r\n                </div>\r\n\r\n                <!-- Daily Catch Reports -->\r\n\r\n                <div class=\"sub-trips\">\r\n\r\n                    <mat-expansion-panel *ngIf=\"trip.dailyCatchReports.length>0\">\r\n                        <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            Catch Reports &nbsp;\r\n                            <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                                (count: {{trip.dailyCatchReports.length}})\r\n                             </span>\r\n                        </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n\r\n                            <div class=\"sub-trips\" \r\n                                *ngFor=\"let catchReport of trip.dailyCatchReports.reverse()\">\r\n                            \r\n                                <mat-expansion-panel>\r\n                                    <mat-expansion-panel-header>\r\n                                        <mat-panel-title class=\"panel-title\">\r\n                                            <span class=\"panel-date\">\r\n                                                {{formatDate(catchReport.dateFished)}}\r\n                                            </span>\r\n                                        </mat-panel-title>\r\n                                    </mat-expansion-panel-header>\r\n                                        <h6 class=\"field-label\"> \r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Date Submitted: \r\n                                            </span>\r\n                                            <span style=\"display:inline\">\r\n                                                {{getDate(catchReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                                            </span>\r\n                                        </h6>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Confirmation Number: \r\n                                            </span>\r\n                                            <span style=\"display:inline\">\r\n                                                {{catchReport.confirmationNumber}}\r\n                                            </span>\r\n                                        </h6>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Transmission Status: \r\n                                            </span>\r\n                                            <span style=\"display:inline\"\r\n                                                *ngIf=\"catchReport.isTransmitted\">\r\n                                                Sent To DFO\r\n                                            </span>\r\n                                            <span style=\"display:inline\"\r\n                                                *ngIf=\"!catchReport.isTransmitted\"\r\n                                                class=\"not-transmitted\">\r\n                                                Not Sent To DFO\r\n                                            </span>\r\n                                        </h6>\r\n                                </mat-expansion-panel>\r\n\r\n                             </div>\r\n\r\n                    </mat-expansion-panel>\r\n\r\n                </div>\r\n\r\n                <!-- Offload Catch Reports -->\r\n\r\n                <div class=\"sub-trips\">\r\n\r\n                    <mat-expansion-panel *ngIf=\"trip.offloadReports.length>0\">\r\n                        <mat-expansion-panel-header>\r\n                        <mat-panel-title class=\"panel-title\">\r\n                            Offload Reports &nbsp;\r\n                            <span class=\"panel-date\" style=\"font-weight: 500\">\r\n                                (count: {{trip.offloadReports.length}})\r\n                             </span>\r\n                        </mat-panel-title>\r\n                        </mat-expansion-panel-header>\r\n\r\n                            <div class=\"sub-trips\"\r\n                                 *ngFor=\"let offloadReport of trip.offloadReports.reverse()\">\r\n                            \r\n                                <mat-expansion-panel>\r\n                                    <mat-expansion-panel-header>\r\n                                        <mat-panel-title class=\"panel-title\">\r\n                                            <span class=\"panel-date\">\r\n                                                {{formatDate(offloadReport.offloadDate)}}\r\n                                            </span> \r\n                                        </mat-panel-title>\r\n                                    </mat-expansion-panel-header>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Date Submitted: \r\n                                            </span>\r\n                                            <span style=\"display:inline\">\r\n                                                {{getDate(offloadReport.submissionDate) | date: 'dd/MM/yyyy hh:mm:ss'}}\r\n                                            </span>\r\n                                        </h6>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Confirmation Number: \r\n                                            </span>\r\n                                            <span style=\"display:inline\">\r\n                                                {{offloadReport.confirmationNumber}}\r\n                                            </span>\r\n                                        </h6>\r\n                                        <h6 class=\"field-label\">\r\n                                            <span style=\"display:inline; font-weight:700;\"> \r\n                                                Transmission Status: \r\n                                            </span>\r\n                                            <span style=\"display:inline\"\r\n                                                *ngIf=\"offloadReport.isTransmitted\">\r\n                                                Sent To DFO\r\n                                            </span>\r\n                                            <span style=\"display:inline\"\r\n                                                *ngIf=\"!offloadReport.isTransmitted\"\r\n                                                class=\"not-transmitted\">\r\n                                                Not Sent To DFO\r\n                                            </span>\r\n                                        </h6>\r\n                                </mat-expansion-panel>\r\n\r\n                            </div>\r\n\r\n                    </mat-expansion-panel>\r\n\r\n                </div>\r\n\r\n        </mat-expansion-panel>\r\n\r\n      </div>\r\n\r\n      <div class=\"row\" style=\"padding-top: 20px;\"></div>\r\n  \r\n  </div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStorageService } from '../services/local-storage.service';\r\nimport { UserData } from '../data-models/user-models/user-data.model';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.css']\r\n})\r\nexport class MenuComponent {\r\n\r\n  // data preambles\r\n  userDetails: UserData = new UserData('', '');\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private localStorageService: LocalStorageService\r\n    ) {\r\n\r\n  }\r\n\r\n // navigate back to the current trip homepage  \r\n toCurrentHome(): void {\r\n  let currID: string = this.localStorageService.getCurrID();\r\n  this.userDetails = this.localStorageService.getUserByID(currID);\r\n  this.router.navigate([this.userDetails.currHomepage]);\r\n}\r\n\r\n  // navigate to the profile page\r\n  toProfile(): void {\r\n    this.router.navigate(['profile']);\r\n  }\r\n\r\n  // navigate to the records page\r\n  toRecords(): void {\r\n    this.router.navigate(['records-page']);\r\n  }\r\n\r\n  // navigate to the resources page (not yet implemented)\r\n  toResources(): void {\r\n    //To-Do\r\n  }\r\n\r\n  // navigate to the fishery notices page (not yet implemented)\r\n  toFisheryNotices(): void {\r\n    //To-Do\r\n  }\r\n\r\n  // log out of account and go back to login screen\r\n  logout(): void {\r\n    this.localStorageService.logout();\r\n  }\r\n\r\n}\r\n","<button mat-button [matMenuTriggerFor]=\"menu\">\r\n    <mat-icon class=\"menu-button\">menu</mat-icon>\r\n</button>\r\n<mat-menu #menu=\"matMenu\" class=\"menu\">\r\n    <button mat-menu-item\r\n            (click)=\"toCurrentHome()\">\r\n        <mat-icon class=\"item-icon\">home</mat-icon>\r\n        <h6 class=\"menu-item\">Home/My Trip</h6>\r\n    </button>\r\n    <button mat-menu-item\r\n            (click)=\"toProfile()\">\r\n        <mat-icon class=\"item-icon\">person</mat-icon>\r\n        <h6 class=\"menu-item\">Profile</h6>\r\n    </button>\r\n    <button mat-menu-item\r\n            (click)=\"toRecords()\">\r\n        <mat-icon class=\"item-icon\">folder</mat-icon>\r\n        <h6 class=\"menu-item\">Records</h6>\r\n    </button>\r\n    <button mat-menu-item\r\n            (click)=\"toResources()\">\r\n        <mat-icon class=\"item-icon\">description</mat-icon>\r\n        <h6 class=\"menu-item\">Resources</h6>\r\n    </button>\r\n    <button mat-menu-item\r\n            (click)=\"toFisheryNotices()\">\r\n        <mat-icon class=\"item-icon\">notifications</mat-icon>\r\n        <h6 class=\"menu-item\">Fishery Notices</h6>\r\n    </button>\r\n    <button mat-menu-item\r\n            (click)=\"logout()\">\r\n        <mat-icon class=\"item-icon\">logout</mat-icon>\r\n        <h6 class=\"menu-item\">Logout</h6>\r\n    </button>\r\n</mat-menu>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\nimport { CancelReport } from 'src/app/data-models/report-models/cancel-report.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-cancel-report',\r\n  templateUrl: './cancel-report.component.html',\r\n  styleUrls: ['./cancel-report.component.css']\r\n})\r\nexport class CancelReportComponent {\r\n\r\n  // data preambles\r\n  userDetails: UserData = new UserData('', '');\r\n  currTrip: Trip = new Trip();\r\n  cancelReport: CancelReport = new CancelReport();\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService,\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.ONLINE) {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n              return;\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    } else { // user is offline\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n\r\n    }\r\n\r\n  }\r\n\r\n  initialize(): void {\r\n    this.currTrip = this.localStorageService.validateCurrTrip(this.userDetails.currTrip);\r\n  }\r\n\r\n  // go back to the active trip home screen\r\n  toHome(): void {\r\n    this.router.navigate(['active-trip-home']);\r\n  }\r\n\r\n  // send cancel report to DFO\r\n  sendToDFO(): void {\r\n    this.saveReportData(); // save data to local storage\r\n    this.updateHomepage();\r\n    this.router.navigate(['submitted-report'], { state: { name: 'Cancel Fishing Report' } });\r\n  }\r\n\r\n  saveReportData(): void {\r\n\r\n    this.cancelReport.submissionDate = new Date(); // get current date/time\r\n    this.cancelReport.isComplete = true; // set submission flag\r\n    this.currTrip.cancelFishingReport = this.cancelReport; // copy over the report\r\n\r\n    console.log(this.currTrip.cancelFishingReport);\r\n    // save currTrip to local storage\r\n    this.userDetails.currTrip = this.currTrip;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails); \r\n\r\n  }\r\n\r\n  updateHomepage(): void {\r\n    this.userDetails.currHomepage = 'no-trip-home';\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n}\r\n","<div class=\"container report-container\">\r\n\r\n  <div class=\"row\"\r\n       align=\"center\">\r\n    <h5 class=\"blue-heading-title\">\r\n      Are you sure you want to cancel this trip?\r\n    </h5>\r\n  </div>\r\n\r\n  <div class=\"row\"\r\n       align=\"center\">\r\n    <p>\r\n      Doing so will send a Cancel Fishing Report to DFO. Please refer to the\r\n      <b>\r\n        Resources\r\n      </b>\r\n      page for more information on cancelled trips.\r\n    </p>\r\n  </div>\r\n\r\n  <div class=\"row bottom-buttons\">\r\n\r\n    <div class=\"col-1\"></div>\r\n\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-red\"\r\n                type=\"button\"\r\n                (click)=\"toHome()\">\r\n          <span>\r\n            No\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-2\"></div>\r\n\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-red\"\r\n                type=\"submit\"\r\n                (click)=\"sendToDFO()\">\r\n          <span>\r\n            Yes \r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-1\"></div>\r\n\r\n  </div>\r\n\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\nimport { EndReport } from 'src/app/data-models/report-models/end-report.model';\r\n\r\n@Component({\r\n  selector: 'app-end-report',\r\n  templateUrl: './end-report.component.html',\r\n  styleUrls: ['./end-report.component.css']\r\n})\r\nexport class EndReportComponent {\r\n\r\n  // data preambles\r\n  userDetails: UserData = new UserData('', '');\r\n  currTrip: Trip = new Trip();\r\n  endFishingReport: EndReport = new EndReport();\r\n\r\n  // report data\r\n  endForm: UntypedFormGroup = new UntypedFormGroup({\r\n    managementArea: new FormControl<string>('', [Validators.required]), // page 1\r\n    comments: new FormControl<string>('') // page 2\r\n  });\r\n  endDate: Date = new Date(); // page 1\r\n\r\n  // arrival form for \r\n  arrivalForm: UntypedFormGroup = new UntypedFormGroup({\r\n    site: new FormControl<string>('', [Validators.required]) // arrival page (page 4)\r\n  });\r\n  arrivalTime: { hour: number, minute: number } = { hour: 0, minute: 0 };\r\n\r\n  // page to page\r\n  numPages: number = 0;\r\n  currPage: number = 0;\r\n  spinnerProgress: number = 0;\r\n  spinnerIncrement: number = 0;\r\n\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  // initialize values\r\n  initialize(): void {\r\n\r\n    // get current fishing report\r\n    this.currTrip = this.localStorageService.validateCurrTrip(this.userDetails.currTrip);\r\n\r\n    // set time to current time\r\n    this.arrivalTime = {\r\n      hour: this.endDate.getHours(),\r\n      minute: this.endDate.getMinutes()\r\n    };\r\n\r\n    this.numPages = 2;\r\n    this.spinnerIncrement = 100 / this.numPages;\r\n    this.toNextPage();\r\n\r\n  }\r\n\r\n  // check current page before going to the next one\r\n  toNextPage(): void {\r\n\r\n    if (this.currPage <= this.numPages) {\r\n      this.incrementPage();\r\n    }\r\n    else {\r\n      this.sendToDFO();\r\n    }\r\n\r\n  }\r\n\r\n  // forward one page\r\n  incrementPage(): void {\r\n    this.currPage++;\r\n    this.spinnerProgress += this.spinnerIncrement;\r\n  }\r\n\r\n  // back one page\r\n  toPreviousPage(): void {\r\n\r\n    if (this.currPage === 1) {\r\n      this.toHome();\r\n      return;\r\n    }\r\n\r\n    this.currPage--;\r\n    this.spinnerProgress -= this.spinnerIncrement;\r\n\r\n  }\r\n\r\n  // check if management area is invalid\r\n  managementAreaInvalid(): boolean {\r\n    return this.endForm.get('managementArea')?.errors?.required;\r\n  }\r\n\r\n  // save End Fishing Report and Trip Data\r\n  saveReportData(): void {\r\n\r\n    if(this.currTrip.gear.name === 'Troll' && this.currTrip.licenseArea.licenseName === 'G'){\r\n      this.setDateTime(); // add arrival time to the date\r\n      this.endFishingReport.arrivalSite = this.arrivalForm.get('site')?.value;\r\n    }\r\n    this.endFishingReport.endDate = this.endDate; // save end date to report\r\n    this.endFishingReport.isComplete = true; // set submission flag\r\n    this.endFishingReport.managementArea = this.endForm.get('managementArea')?.value;\r\n    this.endFishingReport.comments = this.endForm.get('comments')?.value;\r\n    this.endFishingReport.submissionDate = new Date(); // get current date/time\r\n    this.currTrip.endFishingReport = this.endFishingReport;\r\n    this.userDetails.currTrip = this.currTrip;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  // send start fishing report to DFO\r\n  sendToDFO(): void {\r\n\r\n    // not on arrival page\r\n    if (this.currPage < 4) {\r\n\r\n      if (this.endForm.valid) {\r\n\r\n        // arrival details for troll gear and license area G\r\n        if (this.currTrip.startFishingReport.isComplete && this.currTrip.gear.name === 'Troll' && this.currTrip.licenseArea.licenseName === 'G') {\r\n\r\n          // set arrival time to current time\r\n          let newDate: Date = new Date();\r\n          this.arrivalTime = {\r\n            hour: newDate.getHours(),\r\n            minute: newDate.getMinutes()\r\n          };\r\n\r\n          // go to arrival page\r\n          this.currPage++;\r\n          return;\r\n\r\n        }\r\n        this.saveReportData();\r\n        this.toSubmittedReport();\r\n        return;\r\n\r\n      }\r\n\r\n    }\r\n\r\n    // arrival page\r\n    else {\r\n\r\n      if (this.arrivalForm.valid) {\r\n        this.saveReportData();\r\n        this.toSubmittedReport();\r\n        return;\r\n      }\r\n\r\n    }\r\n\r\n    this.toastr.error(\"Not all required fields filled\", \"Invalid form\");\r\n\r\n  }\r\n\r\n  updateHomepage(homeName: string): void {\r\n    this.userDetails.currHomepage = homeName;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  // update the start date hour and minute, only needed on 'Next'\r\n  setDateTime(): void {\r\n\r\n    let arrivalHours: number = this.arrivalTime.hour;\r\n    let arrivalMinutes: number = this.arrivalTime.minute;\r\n\r\n    this.endDate.setHours(arrivalHours ? arrivalHours : this.endDate.getHours());\r\n    this.endDate.setMinutes(arrivalMinutes ? arrivalMinutes : this.endDate.getMinutes());\r\n    this.endDate.setSeconds(0);\r\n    this.endDate.setMilliseconds(0);\r\n\r\n  }\r\n\r\n  toSubmittedReport(): void {\r\n    if (this.currTrip.offloadNeeded) {\r\n      this.updateHomepage('offload-home');\r\n    } else {\r\n      this.updateHomepage('no-trip-home');\r\n    }\r\n    this.router.navigate(['submitted-report'], { state: { name: 'End Fishing Report' } });\r\n  }\r\n\r\n  // go back to the active trip home screen\r\n  toHome(): void {\r\n    this.router.navigate(['active-trip-home']);\r\n  }\r\n\r\n}\r\n","<div class=\"container report-container\">\r\n\r\n  <div class=\"container\"\r\n       style=\"padding-top: 20px;\">\r\n    <div class=\"row\"\r\n         align=\"center\">\r\n      <h6 *ngIf=\"currPage <= numPages\">\r\n        <small class=\"text-muted\">\r\n          Question {{currPage}} of {{numPages}}\r\n        </small>\r\n      </h6>\r\n      <h6 *ngIf=\"currPage > numPages\">\r\n        <small class=\"text-muted\">\r\n          End Fishing Report\r\n        </small>\r\n      </h6>\r\n    </div>\r\n\r\n    <div class=\"row\"\r\n         align=\"center\">\r\n      <div class=\"col-5\"></div>\r\n      <div class=\"col-2\">\r\n        <mat-spinner *ngIf=\"currPage <= numPages\"\r\n                     mode=\"determinate\"\r\n                     [diameter]=\"50\"\r\n                     [strokeWidth]=\"6\"\r\n                     [value]=\"spinnerProgress\">\r\n        </mat-spinner>\r\n\r\n        <mat-icon *ngIf=\"currPage === 3\"\r\n                  class=\"top-icon\">\r\n          check_circle_outline\r\n        </mat-icon>\r\n        <mat-icon *ngIf=\"currPage === 4\"\r\n                  class=\"top-icon\">\r\n          priority_high\r\n        </mat-icon>\r\n      </div>\r\n      <div class=\"col-5\"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <form [formGroup]=\"endForm\">\r\n\r\n    <!-- Choose date and enter area to start fishing -->\r\n    <div *ngIf=\"currPage === 1\"\r\n         class=\"container details\">\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          When will you end fishing?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-8\">\r\n          <mat-card class=\"demo-inline-calendar-card\"\r\n                    style=\"margin-top: 10%\">\r\n            <mat-calendar [(selected)]=\"endDate\"></mat-calendar>\r\n          </mat-card>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Where did you last fish?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Management Area(s) <br>\r\n          (Do not include sub-area)\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\">\r\n          <input matInput\r\n                 placeholder=\"e.g. Area1, Area2\"\r\n                 formControlName=\"managementArea\">\r\n          <mat-error *ngIf=\"endForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n    <!-- Add optional comment -->\r\n    <div *ngIf=\"currPage === 2\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Would you like to add a comment?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Comments (optional)\r\n        </h6>\r\n        <mat-form-field appearance=\"fill\">\r\n          <mat-label>\r\n            Comments...\r\n          </mat-label>\r\n          <textarea matInput\r\n                    rows=\"9\"\r\n                    formControlName=\"comments\"></textarea>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Summary page -->\r\n    <div *ngIf=\"currPage === 3\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Is all information complete and ready to be submitted to DFO?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            End Date:\r\n          </b>\r\n          {{ endDate | date }}\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Management Area:\r\n          </b>\r\n          <span *ngIf=\"managementAreaInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!managementAreaInvalid()\">\r\n            {{endForm.get('managementArea')?.value}}\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Comments:\r\n          </b>\r\n          {{endForm.get('comments')?.value}}\r\n        </h6>\r\n      </div>\r\n\r\n    </div>\r\n  </form>\r\n\r\n\r\n  <!-- Troll and G -->\r\n  <form [formGroup]=\"arrivalForm\">\r\n\r\n    <div *ngIf=\"currPage === 4\">\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Your license area and gear type require you to provide additional information.\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Please Provide Arrival Details\r\n          </b>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Designated Landing Site\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\">\r\n          <mat-label>\r\n            Site Name\r\n          </mat-label>\r\n          <input matInput\r\n                 formControlName=\"site\">\r\n          <mat-error *ngIf=\"arrivalForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Estimated Arrival Time (24hr)\r\n        </h6>\r\n      \r\n        <ngb-timepicker class=\"time-picker\"\r\n                        [spinners]=\"false\"\r\n                        [ngModelOptions]=\"{ standalone: true }\"\r\n                        [(ngModel)]=\"arrivalTime\">\r\n       </ngb-timepicker>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n  </form>\r\n\r\n\r\n  <!-- Buttons to navigate between pages -->\r\n  <div class=\"row bottom-buttons\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-blue\"\r\n                type=\"button\"\r\n                (click)=\"toPreviousPage()\">\r\n          <span>\r\n            Back\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-red\"\r\n                type=\"submit\"\r\n                (click)=\"toNextPage()\">\r\n          <span *ngIf=\"currPage <= numPages\">\r\n            Next\r\n          </span>\r\n          <span *ngIf=\"currPage > numPages\">\r\n            Send to DFO\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-1\"></div>\r\n  </div>\r\n</div>\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators, AbstractControl } from '@angular/forms';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\nimport { SpeciesData } from '../../data-models/catch-table-models/species-data.model';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { AddSpeciesDialogComponent } from '../../dialogs/add-species-dialog/add-species-dialog.component';\r\nimport { TableRules } from 'src/app/data-models/catch-table-models/table-rules.model';\r\nimport { OffloadReport } from 'src/app/data-models/report-models/offload-report.model';\r\n\r\n\r\n@Component({\r\n  selector: 'app-offload-report',\r\n  templateUrl: './offload-report.component.html',\r\n  styleUrls: ['./offload-report.component.css']\r\n})\r\nexport class OffloadReportComponent {\r\n\r\n  // table data\r\n  @ViewChild(MatTable) table!: MatTable<SpeciesData>; // for updating the table\r\n  offloadTable: TableRules = new TableRules(); // used in add species dialog\r\n  tableDataSource: SpeciesData[] = []; // all species data currently in the table\r\n  displayedColumns: string[] = []; // columns currently being displayed in the table\r\n  weightUnitOptions: string[] = ['Lbs', 'Kgs']; //hardcoded values to be used in the form\r\n\r\n  // data preambles\r\n  responseOptions: string[] = ['Yes', 'No']; //hardcoded values to be used in the form\r\n  userDetails: UserData = new UserData('', '');\r\n  unfilteredFishList: SpeciesData[] = []; // temporary array to store species contained in local storage\r\n  fishList: SpeciesData[] = []; //filtered list of species data, will comprise the user's look-up list\r\n\r\n  currTrip: Trip = new Trip();\r\n  offloadReport: OffloadReport = new OffloadReport();\r\n\r\n  offloadForm: UntypedFormGroup = new UntypedFormGroup({\r\n    fishSlipIssued: new FormControl<string>('', [Validators.required]), // page 2\r\n    fishSlipNumber: new FormControl<string>(''), // page 2 (conditionally validated)\r\n    weightUnits: new FormControl<string>(''), // page 2 (always auto-selected so no need for validation)\r\n  });\r\n  offloadDate: Date = new Date(); // page 1\r\n  offloadTime: { hour: number, minute: number } = { hour: 0, minute: 0 }; // page 1\r\n\r\n  // page controls\r\n  numPages: number = 0;\r\n  currPage: number = 0;\r\n  spinnerProgress: number = 0;\r\n  spinnerIncrement: number = 0;\r\n\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.onFishSlipChange();\r\n  }\r\n\r\n  onFishSlipChange(): void {\r\n    this.offloadForm.get('fishSlipIssued')?.valueChanges.subscribe((value: string) => {\r\n      const fishSlipControl: AbstractControl<any, any> | null = this.offloadForm.get('fishSlipNumber');\r\n\r\n      if(value === 'Yes'){\r\n        fishSlipControl?.setValidators([Validators.required]);\r\n      }else{\r\n        fishSlipControl?.clearValidators();\r\n      }\r\n      fishSlipControl?.updateValueAndValidity();\r\n    })\r\n  }\r\n\r\n  initialize(): void {\r\n\r\n    // get all required data\r\n    this.currTrip = this.localStorageService.validateCurrTrip(this.userDetails.currTrip);\r\n    this.unfilteredFishList = this.localStorageService.getSpeciesList('fishList');\r\n    this.setTableRules(); \r\n    this.filterSpeciesData(); // filter species list available to the user\r\n\r\n    // initialize table data\r\n    this.getTableData();\r\n    this.offloadForm.patchValue({ weightUnits: 'Lbs' }); // automatically set to lbs (most common unit)\r\n    this.setDisplayedColumns();\r\n\r\n    // set the start time to the current time\r\n    this.offloadTime = {\r\n      hour: this.offloadDate.getHours(),\r\n      minute: this.offloadDate.getMinutes()\r\n    };\r\n\r\n    this.numPages = 3;\r\n    this.spinnerIncrement = 100 / this.numPages;\r\n    this.toNextPage();\r\n\r\n  }\r\n\r\n  // table rules will be the same as they are for the current gear's Daily Catch Report with a couple differences:\r\n    // tableType will instead be 'offload-catch' and containsSpecies list will be cleared since we are getting that info from the daily catch reports\r\n  setTableRules(): void {\r\n    this.offloadTable = this.localStorageService.getTableRules(this.currTrip.gear.name);\r\n    this.offloadTable.tableType = 'offload-catch';\r\n    this.offloadTable.containsSpecies.length = 0; // clear contains list\r\n  }\r\n\r\n  // gets default table data based on the species that were caught/released during the current trip\r\n  getTableData(): void {\r\n    // loop through each daily catch report in currTrip, and add all species data to the table source\r\n    let speciesNamesList: string[] = []; // temp storage for species names (used for comparison)\r\n    for(let catchReport of this.currTrip.dailyCatchReports) { // loop through each catch report \r\n      for(let species of catchReport.speciesDataList) { // loop through each species list\r\n        // only include if the species is not already in our list and it was kept \r\n        if(!speciesNamesList.includes(species.speciesName) && species.kept > 0) { \r\n          let tempSpecies: SpeciesData = new SpeciesData(species.speciesName); // create new species object \r\n          tempSpecies.kept = 0;\r\n          tempSpecies.released = 0;\r\n          tempSpecies.offloadPieces = 0;\r\n          tempSpecies.offloadWeight = 0;\r\n          this.tableDataSource.push(tempSpecies); // add species to the table\r\n          speciesNamesList.push(species.speciesName);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  toNextPage(): void {\r\n\r\n    if (this.currPage <= this.numPages) {\r\n      if(this.currPage === 1) {\r\n        this.setDateTime();\r\n      }\r\n      this.currPage++;\r\n      this.spinnerProgress += this.spinnerIncrement;\r\n    } else {\r\n      this.sendToDFO();\r\n    }\r\n  \r\n  }\r\n\r\n  toPreviousPage(): void {\r\n    if(this.currPage === 1) {\r\n      this.toHome();\r\n    }\r\n    this.currPage--;\r\n    this.spinnerProgress -= this.spinnerIncrement;\r\n  }\r\n\r\n  setDateTime(): void {\r\n\r\n    let startHours: number = this.offloadTime.hour;\r\n    let startMinutes: number = this.offloadTime.minute;\r\n\r\n    this.offloadDate.setHours(startHours ? startHours : this.offloadDate.getHours());\r\n    this.offloadDate.setMinutes(startMinutes ? startMinutes : this.offloadDate.getMinutes());\r\n    this.offloadDate.setSeconds(0);\r\n    this.offloadDate.setMilliseconds(0);\r\n\r\n  }\r\n\r\n  setDisplayedColumns(): void {\r\n    if(this.getCurrentGearType() === 'Seine'){\r\n      this.displayedColumns = ['speciesName', 'weight', 'pieces'];\r\n    } else { // will be Gill Net in this case\r\n      this.displayedColumns = ['speciesName', 'pieces'];\r\n    }\r\n  \r\n  }\r\n\r\n  fishSlipVal(): string { // returns the the response to the fish slip issues question\r\n    return this.offloadForm.get('fishSlipIssued')?.value;\r\n  }\r\n\r\n  getWeightUnits(): string {\r\n    return this.offloadForm.get('weightUnits')?.value;\r\n  }\r\n\r\n  getCurrentGearType(): string {\r\n    return this.currTrip.gear.name;\r\n  }\r\n\r\n  filterSpeciesData(): void {  // filters the species list accessible to the user in the add species dialog\r\n    for (let species of this.unfilteredFishList) {\r\n      let excludeFlag: boolean = false;\r\n      for (let tableSpecies of this.tableDataSource) {\r\n        if (species.speciesName === tableSpecies.speciesName) {\r\n          excludeFlag = true; // we only want to add species to the list that are not already in the table\r\n        }\r\n      }\r\n      if (!excludeFlag) { // if the species is not already in the table\r\n        if(!this.offloadTable.excludesSpecies.includes(species.speciesName) && // only add the species if it is not excluded from in the gear type\r\n        !this.offloadTable.releaseOnlySpecies.includes(species.speciesName)) { // only add the species if it is not release-only\r\n          this.fishList.push(species);\r\n        }\r\n      } \r\n      excludeFlag = false; // reset flag\r\n    }\r\n  }\r\n\r\n   // add to, edit or delete from species catch list\r\n   addSpeciesDialog(index: number = -1): void {\r\n\r\n    // editing or deleting a species\r\n    if (index > -1) {\r\n          this.editSpecies(this.tableDataSource, index);\r\n      }\r\n\r\n    // adding a species\r\n    else {\r\n          this.addSpecies(this.tableDataSource);\r\n      }\r\n\r\n  }\r\n\r\n  // add new species to the catch\r\n  addSpecies(fishListDetails: SpeciesData[]): void {\r\n\r\n    const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n      width: '500px',\r\n      height: '450px',\r\n      data: { identifier: 'add', species: new SpeciesData(''), currentFishList: fishListDetails, \r\n      filteredFishList: this.fishList, tableInfo: this.offloadTable }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // adding a species to the catch\r\n        if (result !== 'delete') {\r\n          fishListDetails.push(this.getNewSpecies(result));\r\n        }\r\n\r\n        // update the table\r\n        this.updateTable();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n   // edit or delete a species from the catch\r\n   editSpecies(fishListDetails: SpeciesData[], index: number): void {\r\n\r\n    const dialogRef: MatDialogRef<AddSpeciesDialogComponent, any> = this.dialog.open(AddSpeciesDialogComponent, {\r\n      width: '500px',\r\n      height: '450px',\r\n      data: { identifier: 'edit', species: this.tableDataSource[index], currentFishList: fishListDetails, \r\n      filteredFishList: this.fishList, tableInfo: this.offloadTable  }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // editing a species in the catch\r\n        if (result !== 'delete') {\r\n          fishListDetails[index] = this.getNewSpecies(result);\r\n        }\r\n\r\n        // delete a species in the catch\r\n        else {\r\n          fishListDetails.splice(index, 1);\r\n        }\r\n\r\n        // update the table\r\n        this.updateTable();\r\n\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  determineCellStyling(value: number): string {\r\n    if(value>0){\r\n      return 'bolded-cell';\r\n    } \r\n    return 'faded-cell';\r\n  }\r\n\r\n  // get new species data from result\r\n  getNewSpecies(result: SpeciesData): SpeciesData {\r\n\r\n    let weight: number = result.offloadWeight ? +result.offloadWeight : 0;\r\n    let pieces: number = result.offloadPieces ? +result.offloadPieces : 0;\r\n    let newSpeciesData: SpeciesData = new SpeciesData(result.speciesName);\r\n    newSpeciesData.offloadWeight = weight;\r\n    newSpeciesData.offloadPieces = pieces;\r\n\r\n    return newSpeciesData;\r\n\r\n  }\r\n\r\n  calculateTotalFish(type: string): number {\r\n\r\n    let totalFish = 0;\r\n\r\n    if(type === 'weight'){\r\n      for(var i=0; i<this.tableDataSource.length; i++){\r\n        totalFish += this.tableDataSource[i].offloadWeight;\r\n      }\r\n    }else if(type === 'pieces'){\r\n      for(var i=0; i<this.tableDataSource.length; i++){\r\n        totalFish += this.tableDataSource[i].offloadPieces;\r\n      }\r\n    }\r\n    return totalFish;\r\n  }\r\n\r\n   // update the specified species catch table\r\n   updateTable(): void {\r\n    this.table.renderRows();\r\n  }\r\n\r\n  toHome(): void { \r\n    // navigate to the user's current homepage (may be offload-home or active-trip-home)\r\n    this.router.navigate([this.userDetails.currHomepage]); \r\n  }\r\n\r\n   // forbid field from entering non-decimal values\r\n   forbidNonNumeric(controlName: string): void {\r\n    let control: AbstractControl = this.offloadForm.get(controlName)!;\r\n    control.setValue(control.value.replace(/[^0-9]/g, ''));\r\n  }\r\n\r\n  updateHomepage(): void {\r\n    this.userDetails.currHomepage = 'no-trip-home';\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  determineSpeciesData(): SpeciesData[] {\r\n\r\n    let tempFishArray: SpeciesData[] = [];\r\n\r\n    for(let fish of this.tableDataSource) {\r\n      if (fish.offloadWeight > 0 || fish.offloadPieces > 0) {\r\n        tempFishArray.push(fish);\r\n      }\r\n    }\r\n    return tempFishArray;\r\n\r\n  }\r\n\r\n  saveReportData(): void {\r\n\r\n    // copy relevant data to offload report object\r\n    this.offloadReport.offloadDate = this.offloadDate;\r\n    this.offloadReport.fishSlip = this.offloadForm.get('fishSlipIssued')?.value;\r\n    this.offloadReport.fishSlipNumber = this.offloadForm.get('fishSlipNumber')?.value;\r\n    this.offloadReport.speciesDataList = this.determineSpeciesData();\r\n    this.offloadReport.catchWeightUnits = this.offloadForm.get('weightUnits')?.value;\r\n    this.offloadReport.submissionDate = new Date(); // get current date/time\r\n\r\n    // push the report to currTrip\r\n    this.currTrip.offloadReports.push(this.offloadReport);\r\n\r\n    // save to local storage\r\n    this.userDetails.currTrip = this.currTrip;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  sendToDFO(): void {\r\n\r\n    if(this.offloadForm.valid) {\r\n      this.saveReportData();\r\n      this.router.navigate(['submitted-report'], { state: { name: 'Offload Catch Report' } });\r\n      return;\r\n    }\r\n    this.toastr.error(\"Not all required fields filled\", \"Invalid form\");\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"container report-container\">\r\n\r\n    <form [formGroup]=\"offloadForm\">\r\n\r\n        <!-- Spinner & Page Count -->\r\n\r\n        <div class=\"container\"\r\n        style=\"padding-top: 20px;\">\r\n        <div class=\"row\"\r\n            align=\"center\">\r\n        <h6 *ngIf=\"currPage <= numPages\">\r\n            <small class=\"text-muted\">\r\n            Question {{currPage}} of {{numPages}}\r\n            </small>\r\n        </h6>\r\n        <h6 *ngIf=\"currPage > numPages\">\r\n            <small class=\"text-muted\">\r\n            Offload Catch Report\r\n            </small>\r\n        </h6>\r\n        </div>\r\n\r\n        <div class=\"row\"\r\n            align=\"center\">\r\n        <div class=\"col-5\"></div>\r\n        <div class=\"col-2\">\r\n            <mat-spinner *ngIf=\"currPage <= numPages\"\r\n                        mode=\"determinate\"\r\n                        [diameter]=\"50\"\r\n                        [strokeWidth]=\"6\"\r\n                        [value]=\"spinnerProgress\">\r\n            </mat-spinner>\r\n\r\n            <mat-icon *ngIf=\"currPage > numPages\"\r\n                    style=\"color: #3ebfb9\">\r\n            check_circle_outline\r\n            </mat-icon>\r\n        </div>\r\n        <div class=\"col-5\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- Offload Date & Time -->\r\n\r\n        <div *ngIf=\"currPage === 1\"\r\n            class=\"container details\">\r\n\r\n            <div class=\"row\"\r\n                align=\"center\">\r\n            <h5 class=\"blue-heading-title\">\r\n                When did you offload?\r\n            </h5>\r\n            </div>\r\n\r\n            <div class=\"row\"\r\n                align=\"center\">\r\n            <div class=\"col-2\"></div>\r\n            <div class=\"col-8\">\r\n                <mat-card class=\"demo-inline-calendar-card\" style=\"margin-top: 10%\">\r\n                <mat-calendar [(selected)]=\"offloadDate\"></mat-calendar>\r\n                </mat-card>\r\n                <div class=\"outer\">\r\n                  <div class=\"inner\">\r\n                    <h6 class=\"blue-label\">\r\n                      Time (24hr): &nbsp;\r\n                    </h6>\r\n                  </div>\r\n                  <div class=\"inner\">\r\n                    <ngb-timepicker class=\"time-picker\"\r\n                                    [spinners]=\"false\"\r\n                                    [ngModelOptions]=\"{ standalone: true }\"\r\n                                    [(ngModel)]=\"offloadTime\">\r\n                  </ngb-timepicker>\r\n                 </div>\r\n                </div>\r\n\r\n            </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- Fish Slip & Units Information -->\r\n        <div *ngIf=\"currPage === 2\">\r\n            <div class=\"row\"\r\n                align=\"center\">\r\n                <h5 class=\"blue-heading-title\">\r\n                Were you issued a fish slip or sale slip?\r\n                </h5>\r\n                <mat-form-field appearance=\"outline\"\r\n                                    class=\"form-field\"\r\n                                    style=\"padding-top: 15px;\">\r\n                        <mat-label>\r\n                        Select\r\n                        </mat-label>\r\n                        <mat-select formControlName=\"fishSlipIssued\">\r\n                        <mat-option *ngFor=\"let response of responseOptions\"\r\n                                    [value]=\"response\">\r\n                            {{response}}\r\n                        </mat-option>\r\n                        </mat-select>\r\n                        <mat-error *ngIf=\"offloadForm.invalid\">\r\n                        Required\r\n                        </mat-error>\r\n            </mat-form-field>\r\n            </div>\r\n\r\n            <div *ngIf=\"fishSlipVal() === 'Yes'\">\r\n                    <div class=\"row\"\r\n                        align=\"center\">\r\n                \r\n                        <h5 class=\"blue-heading-title\">\r\n                        Please provide the slip number.\r\n                        </h5>\r\n                        <mat-form-field appearance=\"outline\"\r\n                                        class=\"form-field\"\r\n                                        style=\"padding-top: 15px;\">\r\n                            <mat-label>\r\n                            Slip number\r\n                            </mat-label>\r\n                            <input matInput\r\n                                inputmode=\"numeric\"\r\n                                formControlName=\"fishSlipNumber\"\r\n                                (input)=\"forbidNonNumeric('fishSlipNumber')\">\r\n                            <mat-error *ngIf=\"offloadForm.invalid\">\r\n                            Required\r\n                            </mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Weight Units -->\r\n\r\n            <div class=\"row\"\r\n                    *ngIf=\"getCurrentGearType() === 'Seine'\"\r\n                    align=\"center\">\r\n                <h5 class=\"blue-heading-title\">\r\n               How would you like to record catch weight?\r\n                </h5>\r\n             \r\n              <mat-form-field appearance=\"outline\"\r\n                                class=\"form-field\"\r\n                                style=\"padding-top: 15px;\">\r\n                     <mat-label>\r\n                        Select Units\r\n                    </mat-label>\r\n                    <mat-select formControlName=\"weightUnits\">\r\n                        <mat-option *ngFor=\"let weightUnit of weightUnitOptions\"\r\n                                    [value]=\"weightUnit\">\r\n                            {{weightUnit}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                    <mat-error *ngIf=\"offloadForm.invalid\">\r\n                        Required\r\n                    </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- Catch Table Page -->\r\n        <div *ngIf=\"currPage === 3\">\r\n\r\n              <!-- Table -->\r\n\r\n              <div class=\"row\"\r\n                    align=\"center\">\r\n                <h5 class=\"blue-heading-title\">\r\n               Offload Catch Table\r\n                </h5>\r\n              </div>\r\n             <h6 class=\"blue-label\"\r\n                *ngIf=\"getCurrentGearType() === 'Seine'\">\r\n                Please record total catch for each species in \r\n                <b>either </b> <i>weight </i> <b>or </b> <i>pieces</i>.\r\n              </h6>\r\n              <h6 class=\"blue-label\"\r\n                *ngIf=\"getCurrentGearType() === 'Gill Net'\">\r\n                Please record total catch for each species in <i>pieces</i>.\r\n              </h6>\r\n\r\n\r\n              <table mat-table\r\n              [dataSource]=\"tableDataSource\"\r\n              class=\"mat-elevation-z8 margin-table\">\r\n\r\n                <!-- Name Column -->\r\n                <ng-container matColumnDef=\"speciesName\">\r\n                <tr>\r\n                    <th mat-header-cell\r\n                        *matHeaderCellDef\r\n                        class=\"heading-cell\">\r\n                    Name\r\n                    </th>\r\n                    <td mat-cell\r\n                        *matCellDef=\"let element\">\r\n                    {{element.speciesName}}\r\n                    </td>\r\n                </tr>\r\n                </ng-container>\r\n\r\n                <!-- Weight Column (Seine only) -->\r\n                <ng-container *ngIf=\"getCurrentGearType() === 'Seine'\"\r\n                              matColumnDef=\"weight\">\r\n                <tr>\r\n                    <th mat-header-cell\r\n                        *matHeaderCellDef\r\n                        class=\"heading-cell\">\r\n                        Weight <small>({{getWeightUnits()}})</small>\r\n                    </th>\r\n                        <td mat-cell [ngClass]=\"determineCellStyling(element.offloadWeight)\"\r\n                            *matCellDef=\"let element\">\r\n                        {{element.offloadWeight}}\r\n                        </td>\r\n                </tr>\r\n                </ng-container>\r\n\r\n                <!-- Pieces Column -->\r\n                <ng-container matColumnDef=\"pieces\">\r\n                <tr>\r\n                    <th mat-header-cell\r\n                        *matHeaderCellDef\r\n                        class=\"heading-cell\">\r\n                    Pieces\r\n                    </th>\r\n                    <td mat-cell [ngClass]=\"determineCellStyling(element.offloadPieces)\"\r\n                        *matCellDef=\"let element\">\r\n                    {{element.offloadPieces}}\r\n                    </td>\r\n                </tr>\r\n                </ng-container>\r\n\r\n                <!-- Rows -->\r\n\r\n                <tr mat-header-row\r\n                    *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                <tr mat-row\r\n                    *matRowDef=\"let row; columns: displayedColumns; let index=index;\"\r\n                    (click)=\"addSpeciesDialog(index)\"></tr>\r\n                    \r\n            </table>  \r\n\r\n             <!-- Fish Totals -->\r\n\r\n            <div class=\"row\" style=\"padding-top: 10px;\">\r\n\r\n                <h6 *ngIf=\"getCurrentGearType() === 'Seine'\"\r\n                     style=\"color: #003F61\">\r\n                    <b>\r\n                        Total Weight:\r\n                    </b>\r\n                    {{calculateTotalFish('weight')}}\r\n                </h6>\r\n                <h6 style=\"color: #003F61\">\r\n                    <b>\r\n                        Total Pieces:\r\n                    </b>\r\n                    {{calculateTotalFish('pieces')}}\r\n                </h6>\r\n             </div>\r\n\r\n            \r\n            <div class=\"row add-item\" style=\"padding-top: 15px;\"\r\n                align=\"center\">\r\n                <div class=\"col-2\"></div>\r\n                <div class=\"col-8\">\r\n                <div class=\"row\">\r\n                  <button mat-raised-button\r\n                          class=\"fishing-button-red\"\r\n                          type=\"button\"\r\n                          (click)=\"addSpeciesDialog()\">\r\n                    <span>\r\n                      Add New Species\r\n                    </span>\r\n                  </button>\r\n                </div>\r\n                </div>\r\n                <div class=\"col-2\"></div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- Confirmation Page -->\r\n        <div *ngIf=\"currPage > numPages\"\r\n            class=\"container\">\r\n            <div class=\"row\" align=\"center\">\r\n                <h5 class=\"blue-heading-title\">\r\n                  Is all information complete and ready to be submitted to DFO?\r\n                </h5>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <h6 class=\"blue-label\">\r\n                  <b>\r\n                    Offload Date:\r\n                  </b>\r\n                  {{ offloadDate | date }}\r\n                </h6>\r\n              </div>\r\n        \r\n              <div class=\"row\">\r\n                <h6 class=\"blue-label\">\r\n                  <b>\r\n                    Offload Time:\r\n                  </b>\r\n                  {{ offloadDate | date:'h:mm a' }}\r\n                </h6>\r\n              </div>\r\n\r\n              <div class=\"row\">\r\n                <h6 class=\"blue-label\">\r\n                  <b>\r\n                    Fish Slip Issued?:\r\n                  </b>\r\n                  <span *ngIf=\"offloadForm.get('fishSlipIssued')?.errors?.required\"\r\n                        class=\"invalid-field\">\r\n                    [Required]\r\n                  </span>\r\n                  <span *ngIf=\"!offloadForm.get('fishSlipIssued')?.errors?.required\">\r\n                    {{offloadForm.get('fishSlipIssued')?.value}}\r\n                  </span>\r\n                </h6>\r\n              </div>\r\n\r\n              <div class=\"row\" *ngIf=\"fishSlipVal()==='Yes'\">\r\n                <h6 class=\"blue-label\">\r\n                  <b>\r\n                    Slip Number:\r\n                  </b>\r\n                  <span *ngIf=\"offloadForm.get('fishSlipNumber')?.errors?.required\"\r\n                        class=\"invalid-field\">\r\n                    [Required]\r\n                  </span>\r\n                  <span *ngIf=\"!offloadForm.get('fishSlipNumber')?.errors?.required\">\r\n                    {{offloadForm.get('fishSlipNumber')?.value}}\r\n                  </span>\r\n                </h6>\r\n              </div>\r\n\r\n              <div class=\"row\" *ngIf=\"getCurrentGearType() === 'Seine'\">\r\n                <h6 class=\"blue-label\">\r\n                  <b>Total Weight <small>({{offloadForm.get('weightUnits')?.value}}): </small></b>\r\n                  <span>\r\n                    {{calculateTotalFish('weight')}}\r\n                  </span>\r\n                </h6>\r\n              </div>\r\n      \r\n              <div class=\"row\">\r\n                  <h6 class=\"blue-label\">\r\n                   <b>Total Pieces:</b> \r\n                    <span>\r\n                      {{calculateTotalFish('pieces')}}\r\n                    </span>\r\n                  </h6>\r\n                </div>\r\n\r\n        </div>\r\n    </form>\r\n\r\n\r\n\r\n    <!-- Page navigation buttons -->\r\n    <div class=\"row bottom-buttons\">\r\n        <div class=\"col-1\"></div>\r\n        <div class=\"col-4\">\r\n        <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"fishing-button-blue\"\r\n                    type=\"button\"\r\n                    (click)=\"toPreviousPage()\">\r\n            <span>\r\n                Back\r\n            </span>\r\n            </button>\r\n        </div>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-4\">\r\n        <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"fishing-button-red\"\r\n                    type=\"submit\"\r\n                    (click)=\"toNextPage()\">\r\n            <span *ngIf=\"currPage <= numPages\">\r\n                Next\r\n            </span>\r\n            <span *ngIf=\"currPage > numPages\">\r\n                Send to DFO\r\n            </span>\r\n            </button>\r\n        </div>\r\n        </div>\r\n        <div class=\"col-1\"></div>\r\n    </div>\r\n\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\nimport { PauseReport } from 'src/app/data-models/report-models/pause-report.model';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\n\r\n@Component({\r\n  selector: 'app-pause-report',\r\n  templateUrl: './pause-report.component.html',\r\n  styleUrls: ['./pause-report.component.css']\r\n})\r\nexport class PauseReportComponent {\r\n\r\n  currTrip: Trip = new Trip();\r\n  userDetails: UserData = new UserData('', '');\r\n  pauseReport: PauseReport = new PauseReport();\r\n\r\n  // report data\r\n  pauseForm: UntypedFormGroup = new UntypedFormGroup({\r\n    managementArea: new FormControl<string>('', [Validators.required]), // page 1\r\n    comments: new FormControl<string>('') // page 2\r\n  });\r\n  pauseDate: Date = new Date(); // page 1\r\n\r\n  // page to page\r\n  numPages: number = 0;\r\n  currPage: number = 0;\r\n  spinnerProgress: number = 0;\r\n  spinnerIncrement: number = 0;\r\n\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n              return;\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  initialize(): void {\r\n\r\n    this.currTrip = this.localStorageService.validateCurrTrip(this.userDetails.currTrip);\r\n\r\n    this.numPages = 2;\r\n    this.spinnerIncrement = 100 / this.numPages;\r\n    this.toNextPage();\r\n\r\n  }\r\n\r\n\r\n  // check current page before going to the next one\r\n  toNextPage(): void {\r\n\r\n    if (this.currPage <= this.numPages) {\r\n      this.incrementPage();\r\n    }\r\n    else {\r\n      this.sendToDFO();\r\n    }\r\n\r\n  }\r\n\r\n  // forward one page\r\n  incrementPage(): void {\r\n    this.currPage++;\r\n    this.spinnerProgress += this.spinnerIncrement;\r\n  }\r\n\r\n  // back one page\r\n  toPreviousPage(): void {\r\n\r\n    if (this.currPage === 1) {\r\n      this.toHome();\r\n      return;\r\n    }\r\n\r\n    this.currPage--;\r\n    this.spinnerProgress -= this.spinnerIncrement;\r\n\r\n  }\r\n\r\n  // check if management area is invalid\r\n  managementAreaInvalid(): boolean {\r\n    return this.pauseForm.get('managementArea')?.errors?.required;\r\n  }\r\n\r\n  saveReportData() { \r\n\r\n    // save relevant information gathered in the form\r\n    this.pauseReport.pauseDate = this.pauseDate;\r\n    this.pauseReport.managementArea = this.pauseForm.get('managementArea')?.value;\r\n    this.pauseReport.comments = this.pauseForm.get('comments')?.value;\r\n    this.pauseReport.submissionDate = new Date(); // get current date/time\r\n\r\n    // push the report to currTrip\r\n    this.currTrip.pauseFishingReports.push(this.pauseReport);\r\n    \r\n    // save currTrip to local storage\r\n     this.userDetails.currTrip = this.currTrip;\r\n     this.localStorageService.saveData(this.userDetails.userID, this.userDetails); \r\n  }\r\n\r\n  // send start fishing report to DFO\r\n  sendToDFO(): void {\r\n    if (this.pauseForm.valid) {\r\n      this.saveReportData();\r\n      this.router.navigate(['submitted-report'], { state: { name: 'Pause Fishing Report' } });\r\n      return;\r\n    }\r\n    this.toastr.error(\"Not all required fields filled\", \"Invalid form\");\r\n  }\r\n\r\n  // go back to the active trip home screen\r\n  toHome(): void {\r\n    this.router.navigate(['active-trip-home']);\r\n  }\r\n\r\n}\r\n","<div class=\"container report-container\">\r\n\r\n  <div class=\"container\"\r\n       style=\"padding-top: 20px;\">\r\n    <div class=\"row\"\r\n         align=\"center\">\r\n      <h6 *ngIf=\"currPage <= numPages\">\r\n        <small class=\"text-muted\">\r\n          Question {{currPage}} of {{numPages}}\r\n        </small>\r\n      </h6>\r\n      <h6 *ngIf=\"currPage > numPages\">\r\n        <small class=\"text-muted\">\r\n          End Fishing Report\r\n        </small>\r\n      </h6>\r\n    </div>\r\n\r\n    <div class=\"row\"\r\n         align=\"center\">\r\n      <div class=\"col-5\"></div>\r\n      <div class=\"col-2\">\r\n        <mat-spinner *ngIf=\"currPage <= numPages\"\r\n                     mode=\"determinate\"\r\n                     [diameter]=\"50\"\r\n                     [strokeWidth]=\"6\"\r\n                     [value]=\"spinnerProgress\">\r\n        </mat-spinner>\r\n\r\n        <mat-icon *ngIf=\"currPage > numPages\"\r\n                  style=\"color: #3ebfb9\">\r\n          check_circle_outline\r\n        </mat-icon>\r\n      </div>\r\n      <div class=\"col-5\"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <form [formGroup]=\"pauseForm\">\r\n\r\n    <!-- Choose date and enter area to start fishing -->\r\n    <div *ngIf=\"currPage === 1\"\r\n         class=\"container details\">\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          When did you not fish?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-8\">\r\n          <mat-card class=\"demo-inline-calendar-card\"\r\n                    style=\"margin-top: 10%\">\r\n            <mat-calendar [(selected)]=\"pauseDate\"></mat-calendar>\r\n          </mat-card>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Where did you last fish?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Management Area(s) <br>\r\n          (Do not include sub-area)\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\">\r\n          <input matInput\r\n                 placeholder=\"e.g. Area1, Area2\"\r\n                 formControlName=\"managementArea\">\r\n          <mat-error *ngIf=\"pauseForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n    <!-- Add optional comment -->\r\n    <div *ngIf=\"currPage === 2\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Would you like to add a comment?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Comments (optional)\r\n        </h6>\r\n        <mat-form-field appearance=\"fill\">\r\n          <mat-label>\r\n            Comments...\r\n          </mat-label>\r\n          <textarea matInput\r\n                    rows=\"9\"\r\n                    formControlName=\"comments\"></textarea>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Summary page -->\r\n    <div *ngIf=\"currPage === 3\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Is all information complete and ready to be submitted to DFO?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Pause Date:\r\n          </b>\r\n          {{ pauseDate | date }}\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Management Area:\r\n          </b>\r\n          <span *ngIf=\"managementAreaInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!managementAreaInvalid()\">\r\n            {{pauseForm.get('managementArea')?.value}}\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Comments:\r\n          </b>\r\n          {{pauseForm.get('comments')?.value}}\r\n        </h6>\r\n      </div>\r\n\r\n    </div>\r\n  </form>\r\n\r\n\r\n  <!-- Buttons to navigate between pages -->\r\n  <div class=\"row bottom-buttons\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-blue\"\r\n                type=\"button\"\r\n                (click)=\"toPreviousPage()\">\r\n          <span>\r\n            Back\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-red\"\r\n                type=\"submit\"\r\n                (click)=\"toNextPage()\">\r\n          <span *ngIf=\"currPage <= numPages\">\r\n            Next\r\n          </span>\r\n          <span *ngIf=\"currPage > numPages\">\r\n            Send to DFO\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-1\"></div>\r\n  </div>\r\n</div>\r\n","import { Component, ViewChild } from '@angular/core';\r\nimport { FormControl, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\nimport { Trip } from '../../data-models/trip-models/trip.model';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { Gear } from '../../data-models/trip-models/gear-models/gear.model';\r\nimport { VesselData } from '../../data-models/user-models/vessel-data.model';\r\nimport { LicenseArea } from '../../data-models/trip-models/license-area.model';\r\nimport { AddVesselDialogComponent } from '../../dialogs/add-vessel-dialog/add-vessel-dialog.component';\r\nimport { Tel, TelInputComponent } from '../../tel-input/tel-input.component';\r\nimport { generalValidator } from '../../data-models/validator.model';\r\n\r\n@Component({\r\n  selector: 'app-start-report',\r\n  templateUrl: './start-report.component.html',\r\n  styleUrls: ['./start-report.component.css']\r\n})\r\nexport class StartReportComponent {\r\n\r\n  @ViewChild('telInput') telInput!: TelInputComponent;\r\n\r\n  // data preambles\r\n  currTrip: Trip = new Trip();\r\n  userDetails: UserData = new UserData('', '');\r\n  gears: Gear[] = [];\r\n  userVessels: VesselData[] = [];\r\n  licenseAreas: LicenseArea[] = [];\r\n  emptyGear: Gear = new Gear('', '');\r\n  emptyVessel: VesselData = new VesselData('', '');\r\n  emptyArea: LicenseArea = new LicenseArea('', '');\r\n  prevTrips: Trip[] = [];\r\n  \r\n  // report data\r\n  startForm: UntypedFormGroup = new UntypedFormGroup({\r\n    gear: new FormControl<Gear>(this.emptyGear, [Validators.required]), // page 1\r\n    vessel: new FormControl<VesselData>(this.emptyVessel, [Validators.required]), // page 2\r\n    licenseArea: new FormControl<LicenseArea>(this.emptyArea, [Validators.required]), // page 3\r\n    master: new FormControl<string>('', [Validators.required]), // page 4\r\n    fin: new FormControl<string>('', [Validators.required]), // page 4\r\n    managementArea: new FormControl<string>('', [Validators.required]), // page 5\r\n    name: new FormControl<string>('', [Validators.required]), // page 6\r\n    phoneNum: new FormControl<Tel>(new Tel('', '', ''), [Validators.required, generalValidator()]), // page 6\r\n    comments: new FormControl<string>('') // page 7\r\n  });\r\n  startDate: Date = new Date(); // page 5\r\n  startTime: { hour: number, minute: number } = { hour: 0, minute: 0 }; // page 5\r\n\r\n  // page to page\r\n  numPages: number = 0;\r\n  currPage: number = 0;\r\n  spinnerProgress: number = 0;\r\n  spinnerIncrement: number = 0;\r\n\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private toastr: ToastrService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n      this.initialize();\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n\r\n              // fill trip, net, license area, net and species lists\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n              this.initialize();\r\n\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  // initialize the data\r\n  initialize(): void {\r\n\r\n    // get all gears, vessels, license areas\r\n    this.gears = this.userDetails.gears;\r\n    this.userVessels = this.userDetails.vessels;\r\n    this.licenseAreas = this.localStorageService.getLicenseAreas();\r\n\r\n    // initialize form upon first entry, or populate with completed fishing report\r\n    this.currTrip = this.userDetails.currTrip;\r\n    let currGear: Gear = this.emptyGear;\r\n    let currVessel: VesselData = this.emptyVessel;\r\n    let currArea: LicenseArea = this.emptyArea;\r\n    let currMaster: string = this.currTrip.master;\r\n    let currFin: string = this.currTrip.fin;\r\n    let currManagementArea: string = this.currTrip.startFishingReport.managementArea;\r\n    let currName: string = this.currTrip.contactName;\r\n    let currPhoneNum: Tel = this.currTrip.phoneNum;\r\n    let currComments: string = this.currTrip.startFishingReport.comments;\r\n\r\n    // set the start time to the current time\r\n    this.startTime = {\r\n      hour: this.startDate.getHours(),\r\n      minute: this.startDate.getMinutes()\r\n    };\r\n\r\n    // fishing report already has gear, vessel and area data\r\n    if (this.currTrip.startFishingReport.isInProgress || this.currTrip.startFishingReport.isComplete) {\r\n\r\n      currGear = this.setSelectedGear(new Gear('', ''));\r\n      currVessel = this.setSelectedVessel(new VesselData('', ''));\r\n      currArea = this.setSelectedArea(new LicenseArea('', ''));\r\n\r\n    }\r\n\r\n    // fishing report does not yet have gear, vessel or area data\r\n    else {\r\n      currGear = this.gears?.length ? this.gears[0] : this.emptyGear;\r\n      currVessel = this.userVessels?.length ? this.userVessels[0] : this.emptyVessel;\r\n      currArea = this.licenseAreas?.length ? this.licenseAreas[0] : this.emptyArea;\r\n    }\r\n\r\n    // populate report\r\n    this.startForm.patchValue({\r\n      gear: currGear,\r\n      vessel: currVessel,\r\n      licenseArea: currArea,\r\n      master: currMaster,\r\n      fin: currFin,\r\n      managementArea: currManagementArea,\r\n      name: currName,\r\n      phoneNum: currPhoneNum,\r\n      comments: currComments\r\n    });\r\n\r\n    // clear old data from the previous trip and save current trip\r\n    this.clearTripData();\r\n    this.saveCurrTrip();\r\n\r\n    this.numPages = 7;\r\n    this.spinnerIncrement = 100 / this.numPages;\r\n    this.toNextPage();\r\n\r\n  }\r\n\r\n  // set the radio buttons to the currently selected gear in the fishing report\r\n  setSelectedGear(currGear: Gear): Gear {\r\n    currGear = this.currTrip.gear;\r\n    for (let gear of this.gears) {\r\n      gear.isChecked = (gear.logbookID === currGear.logbookID);\r\n    }\r\n    return currGear;\r\n  }\r\n\r\n  // set the radio buttons to the currently selected vessel in the fishing report\r\n  setSelectedVessel(currVessel: VesselData): VesselData {\r\n    currVessel = this.currTrip.vessel;\r\n    for (let vessel of this.userVessels) {\r\n      vessel.isChecked = (vessel.vesselCoastNumber === currVessel.vesselCoastNumber);\r\n    }\r\n    return currVessel;\r\n  }\r\n\r\n  // set the radio buttons to the currently selected license area in the fishing report\r\n  setSelectedArea(currArea: LicenseArea): LicenseArea {\r\n    currArea = this.currTrip.licenseArea;\r\n    for (let licenseArea of this.licenseAreas) {\r\n      licenseArea.isChecked = (licenseArea.licenseName === currArea.licenseName);\r\n    }\r\n    return currArea;\r\n  }\r\n\r\n  // check current page before going to the next one\r\n  toNextPage(): void {\r\n\r\n    if (this.currPage <= this.numPages) {\r\n\r\n      switch (this.currPage) {\r\n\r\n        // to vessel page\r\n        case 1:\r\n          let currVessel: VesselData = new VesselData('', '');\r\n          currVessel = this.setSelectedVessel(currVessel);\r\n          this.startForm.patchValue({\r\n            vessel: currVessel\r\n          });\r\n          break;\r\n\r\n        // to license area page\r\n        case 2:\r\n          let currArea: LicenseArea = new LicenseArea('', '');\r\n          currArea = this.setSelectedArea(currArea);\r\n          this.startForm.patchValue({\r\n            licenseArea: currArea\r\n          });\r\n          break;\r\n\r\n        // save date in date page\r\n        case 5:\r\n          this.setDateTime();\r\n          break;\r\n\r\n        // save phone number in contact details page\r\n        case 6:\r\n          this.telInput.touched = true;\r\n          this.telInput.stateChanges.next();\r\n          this.startForm.get('phoneNum')?.updateValueAndValidity();\r\n          break;\r\n\r\n        default:\r\n          break;\r\n\r\n      }\r\n\r\n      this.saveCurrTrip();\r\n      this.incrementPage();\r\n    }\r\n\r\n    else {\r\n      this.sendToDFO();\r\n    }\r\n\r\n  }\r\n\r\n  // forward one page\r\n  incrementPage(): void {\r\n    this.currPage++;\r\n    this.spinnerProgress += this.spinnerIncrement;\r\n  }\r\n\r\n  // back one page\r\n  toPreviousPage(): void {\r\n\r\n    switch (this.currPage) {\r\n\r\n      // back to home if at beginning of report\r\n      case 1:\r\n        this.saveCurrTrip();\r\n        this.toHome();\r\n        return;\r\n\r\n      // to gear page\r\n      case 2:\r\n        let currGear: Gear = new Gear('', '');\r\n        currGear = this.setSelectedGear(currGear);\r\n        this.startForm.patchValue({\r\n          gear: currGear\r\n        });\r\n        break;\r\n\r\n      // to vessel page\r\n      case 3:\r\n        let currVessel: VesselData = new VesselData('', '');\r\n        currVessel = this.setSelectedVessel(currVessel);\r\n        this.startForm.patchValue({\r\n          vessel: currVessel\r\n        });\r\n        break;\r\n\r\n      // to license area page\r\n      case 4:\r\n        let currArea: LicenseArea = new LicenseArea('', '');\r\n        currArea = this.setSelectedArea(currArea);\r\n        this.startForm.patchValue({\r\n          licenseArea: currArea\r\n        });\r\n        break;\r\n\r\n      default:\r\n        break;\r\n\r\n    }\r\n\r\n    this.saveCurrTrip();\r\n    this.currPage--;\r\n    this.spinnerProgress -= this.spinnerIncrement;\r\n\r\n  }\r\n\r\n  // save the current trip & Start Fishing Report information\r\n  saveCurrTrip(): void {\r\n    this.currTrip.gear = this.startForm.get('gear')?.value;\r\n    this.currTrip.vessel = this.startForm.get('vessel')?.value;\r\n    this.currTrip.licenseArea = this.startForm.get('licenseArea')?.value;\r\n    this.currTrip.master = this.startForm.get('master')?.value;\r\n    this.currTrip.fin = this.startForm.get('fin')?.value;\r\n    this.currTrip.startFishingReport.startDate = this.startDate;\r\n    this.currTrip.startFishingReport.managementArea = this.startForm.get('managementArea')?.value;\r\n    this.currTrip.contactName = this.startForm.get('name')?.value;\r\n    this.currTrip.phoneNum = this.startForm.get('phoneNum')?.value;\r\n    this.currTrip.startFishingReport.comments = this.startForm.get('comments')?.value;\r\n    this.currTrip.startFishingReport.submissionDate = new Date(); // get the current date\r\n    this.userDetails.currTrip = this.currTrip;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  clearTripData(): void { \r\n\r\n    this.currTrip = new Trip(); //create a new trip\r\n\r\n    // save changes to local storage\r\n    this.userDetails.currTrip = this.currTrip;\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  // sets flag in trip data if this trip may need an offload report\r\n  determineOffloadReport(): void {\r\n    // we only need an offload report if the trip is Seine in Area B, or Gill Net in Area C, D, or, E\r\n    let licenseName: string = this.currTrip.licenseArea.licenseName;\r\n    let gearName: string = this.currTrip.gear.name;\r\n    let isSeineOffload: boolean = gearName === 'Seine' && licenseName === 'B';\r\n    let isGillOffload: boolean = gearName === 'Gill Net' && (licenseName === 'C' || licenseName === 'D' || licenseName === 'E');\r\n    this.currTrip.offloadNeeded = isSeineOffload || isGillOffload;\r\n    this.userDetails.currTrip = this.currTrip; // save flag changes\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n    return;\r\n  }\r\n  \r\n\r\n  // update the start date hour and minute, only needed on 'Next'\r\n  setDateTime(): void {\r\n\r\n    let startHours: number = this.startTime.hour;\r\n    let startMinutes: number = this.startTime.minute;\r\n\r\n    this.startDate.setHours(startHours ? startHours : this.startDate.getHours());\r\n    this.startDate.setMinutes(startMinutes ? startMinutes : this.startDate.getMinutes());\r\n    this.startDate.setSeconds(0);\r\n    this.startDate.setMilliseconds(0);\r\n\r\n  }\r\n\r\n  // add vessels\r\n  addVesselDialog(): void {\r\n\r\n    const dialogRef: MatDialogRef<AddVesselDialogComponent, any> = this.dialog.open(AddVesselDialogComponent, {\r\n      width: '500px',\r\n      height: '400px'\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result: any) => {\r\n      if (result) {\r\n\r\n        // update selected vessel as new vessel added then go to next screen\r\n        if (result !== 'delete') {\r\n          for (let vessel of this.userVessels) {\r\n            vessel.isChecked = false;\r\n          }\r\n          let newVessel: VesselData = new VesselData(result.vesselName, result.vesselNumber, true);\r\n          this.startForm.patchValue({\r\n            vessel: newVessel\r\n          });\r\n          this.userDetails.vessels.push(newVessel);\r\n          this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n          this.toNextPage();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // check if gear value is invalid\r\n  gearInvalid(): boolean {\r\n    let gear: Gear = this.startForm.get('gear')?.value;\r\n    return !gear || !gear.isValid();\r\n  }\r\n\r\n  // check if master values are invalid\r\n  masterInvalid(): boolean {\r\n    return this.startForm.get('master')?.errors?.required || this.startForm.get('fin')?.errors?.required;\r\n  }\r\n\r\n  // check if management area is invalid\r\n  vesselInvalid(): boolean {\r\n    let vessel: VesselData = this.startForm.get('vessel')?.value;\r\n    return !vessel || !vessel.isValid();\r\n  }\r\n\r\n  // check if license area is invalid\r\n  licenseAreaInvalid(): boolean {\r\n    let licenseArea: LicenseArea = this.startForm.get('licenseArea')?.value;\r\n    return !licenseArea || !licenseArea.isValid();\r\n  }\r\n\r\n  // check if management area is invalid\r\n  managementAreaInvalid(): boolean {\r\n    return this.startForm.get('managementArea')?.errors?.required;\r\n  }\r\n\r\n  // check if contact details are invalid\r\n  contactDetailsInvalid(): boolean {\r\n    return this.startForm.get('name')?.errors?.required || this.startForm.get('phoneNum')?.errors?.required;\r\n  }\r\n\r\n  // send start fishing report to DFO\r\n  sendToDFO(): void {\r\n\r\n    if (this.startForm.valid && !this.gearInvalid() && !this.vesselInvalid() && !this.licenseAreaInvalid()) {\r\n      this.currTrip.startFishingReport.isInProgress = false; \r\n      this.currTrip.startFishingReport.isComplete = true;\r\n      this.saveCurrTrip();\r\n      this.determineOffloadReport(); // check if we will need an offload report for this trip\r\n      this.updateHomepage(); // update the user's active homepage\r\n      this.router.navigate(['submitted-report'], { state: { name: 'Trip' } });\r\n      return;\r\n    }\r\n    this.toastr.error(\"Not all required fields filled\", \"Invalid form\");\r\n\r\n  }\r\n\r\n  updateHomepage(): void {\r\n    this.userDetails.currHomepage = 'active-trip-home';\r\n    this.localStorageService.saveData(this.userDetails.userID, this.userDetails);\r\n  }\r\n\r\n  // go back to the home screen with no active trip\r\n  toHome(): void {\r\n    this.router.navigate(['no-trip-home']);\r\n  }\r\n\r\n}\r\n","<div class=\"container report-container\">\r\n\r\n  <div class=\"container\"\r\n       style=\"padding-top: 20px;\">\r\n    <div class=\"row\"\r\n         align=\"center\">\r\n      <h6 *ngIf=\"currPage <= numPages\">\r\n        <small class=\"text-muted\">\r\n          Question {{currPage}} of {{numPages}}\r\n        </small>\r\n      </h6>\r\n      <h6 *ngIf=\"currPage > numPages\">\r\n        <small class=\"text-muted\">\r\n          Start Fishing Report\r\n        </small>\r\n      </h6>\r\n    </div>\r\n\r\n    <div class=\"row\"\r\n         align=\"center\">\r\n      <div class=\"col-5\"></div>\r\n      <div class=\"col-2\">\r\n        <mat-spinner *ngIf=\"currPage <= numPages\"\r\n                     mode=\"determinate\"\r\n                     [diameter]=\"50\"\r\n                     [strokeWidth]=\"6\"\r\n                     [value]=\"spinnerProgress\">\r\n        </mat-spinner>\r\n\r\n        <mat-icon *ngIf=\"currPage > numPages\"\r\n                  style=\"color: #3ebfb9\">\r\n          check_circle_outline\r\n        </mat-icon>\r\n      </div>\r\n      <div class=\"col-5\"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <form [formGroup]=\"startForm\">\r\n\r\n    <!-- Choose gear -->\r\n    <div *ngIf=\"currPage === 1\"\r\n         class=\"container details\">\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          What type of gear are you using?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h5 class=\"blue-heading-subtitle\">\r\n          My available logbooks:\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-1\"></div>\r\n        <div class=\"col-10\">\r\n          <mat-radio-group class=\"radio\"\r\n                           formControlName=\"gear\">\r\n            <mat-radio-button *ngFor=\"let gear of gears\"\r\n                              [value]=\"gear\"\r\n                              [checked]=\"gear.isChecked\">\r\n              <h6>\r\n                <small class=\"text-muted font-list\">\r\n                  {{gear}}\r\n                </small>\r\n              </h6>\r\n            </mat-radio-button>\r\n          </mat-radio-group>\r\n        </div>\r\n        <div class=\"col-1\"></div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Choose or add vessel -->\r\n    <div *ngIf=\"currPage === 2\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Choose or add your vessel\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-1\"></div>\r\n        <div class=\"col-10\">\r\n          <mat-radio-group class=\"radio\"\r\n                           formControlName=\"vessel\">\r\n            <mat-radio-button *ngFor=\"let vessel of userVessels\"\r\n                              [value]=\"vessel\"\r\n                              [checked]=\"vessel.isChecked\">\r\n              <h6>\r\n                <small class=\"text-muted font-list\">\r\n                  {{vessel}}\r\n                </small>\r\n              </h6>\r\n            </mat-radio-button>\r\n          </mat-radio-group>\r\n        </div>\r\n        <div class=\"col-1\"></div>\r\n      </div>\r\n\r\n      <div class=\"row add-item\"\r\n           align=\"center\">\r\n        <div class=\"col-1\"></div>\r\n        <div class=\"col-10\">\r\n          <div class=\"row\">\r\n            <button mat-raised-button\r\n                    class=\"fishing-button-red\"\r\n                    type=\"button\"\r\n                    (click)=\"addVesselDialog()\">\r\n              <span>\r\n                Add New Vessel\r\n              </span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-1\"></div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Choose license area -->\r\n    <div *ngIf=\"currPage === 3\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          What is your License Area?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-1\"></div>\r\n        <div class=\"col-10\">\r\n          <mat-radio-group class=\"radio\"\r\n                           formControlName=\"licenseArea\">\r\n            <mat-radio-button *ngFor=\"let area of licenseAreas\"\r\n                              [value]=\"area\"\r\n                              [checked]=\"area.isChecked\">\r\n              <h6>\r\n                <small class=\"text-muted font-list\">\r\n                  {{area}}\r\n                </small>\r\n              </h6>\r\n            </mat-radio-button>\r\n          </mat-radio-group>\r\n        </div>\r\n        <div class=\"col-1\"></div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Vessel master name and FIN -->\r\n    <div *ngIf=\"currPage === 4\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Who is the vessel master?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Name\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\">\r\n          <mat-label>\r\n            Name\r\n          </mat-label>\r\n          <input matInput\r\n                 formControlName=\"master\">\r\n          <mat-error *ngIf=\"startForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          FIN (Fisher Identification Number)\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\">\r\n          <mat-label>\r\n            Fisher Identification Number\r\n          </mat-label>\r\n          <input matInput\r\n                 formControlName=\"fin\">\r\n          <mat-error *ngIf=\"startForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Choose date and enter area to start fishing -->\r\n    <div *ngIf=\"currPage === 5\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          When will you start fishing?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <div class=\"col-2\"></div>\r\n        <div class=\"col-8\">\r\n          <mat-card class=\"demo-inline-calendar-card\" style=\"margin-top: 10%\">\r\n            <mat-calendar [(selected)]=\"startDate\"></mat-calendar>\r\n          </mat-card>\r\n          <div class=\"outer\">\r\n            <div class=\"inner\">\r\n              <h6 class=\"blue-label\">\r\n                Time (24hr): &nbsp;\r\n              </h6>\r\n            </div>\r\n            <div class=\"inner\">\r\n              <ngb-timepicker class=\"time-picker\"\r\n                              [spinners]=\"false\"\r\n                              [ngModelOptions]=\"{ standalone: true }\"\r\n                              [(ngModel)]=\"startTime\">\r\n            </ngb-timepicker>\r\n           </div>\r\n\r\n          </div>\r\n        </div>\r\n        <div class=\"col-2\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Where will you fish?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Management Area(s) <br>\r\n          (Do not include sub-area)\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\">\r\n          <input matInput\r\n                 placeholder=\"e.g. Area1, Area2\"\r\n                 formControlName=\"managementArea\">\r\n          <mat-error *ngIf=\"startForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n    <!-- Vessel master name and FIN -->\r\n    <div *ngIf=\"currPage === 6\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Please provide onboard contact details.\r\n        </h5>\r\n      </div>\r\n\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Contact Name\r\n        </h6>\r\n        <mat-form-field appearance=\"outline\">\r\n          <mat-label>\r\n            Name\r\n          </mat-label>\r\n          <input matInput\r\n                 formControlName=\"name\">\r\n          <mat-error *ngIf=\"startForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Phone Number\r\n        </h6>\r\n        <mat-form-field #telField\r\n                        appearance=\"outline\">\r\n          <mat-label>\r\n            Phone Number\r\n          </mat-label>\r\n          <app-tel-input #telInput\r\n                         formControlName=\"phoneNum\">\r\n\r\n          </app-tel-input>\r\n          <mat-icon matSuffix>\r\n            phone\r\n          </mat-icon>\r\n          <mat-error *ngIf=\"startForm.invalid\">\r\n            Required\r\n          </mat-error>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Add optional comment -->\r\n    <div *ngIf=\"currPage === 7\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Would you like to add a comment?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          Comments (optional)\r\n        </h6>\r\n        <mat-form-field appearance=\"fill\">\r\n          <mat-label>\r\n            Comments...\r\n          </mat-label>\r\n          <textarea matInput\r\n                    rows=\"9\"\r\n                    formControlName=\"comments\"></textarea>\r\n        </mat-form-field>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <!-- Summary page -->\r\n    <div *ngIf=\"currPage === 8\"\r\n         class=\"container details\">\r\n      <div class=\"row\"\r\n           align=\"center\">\r\n        <h5 class=\"blue-heading-title\">\r\n          Is all information complete and ready to be submitted to DFO?\r\n        </h5>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Gear Type:\r\n          </b>\r\n          <span *ngIf=\"gearInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!gearInvalid()\">\r\n            {{startForm.get('gear')?.value}}\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Vessel Master:\r\n          </b>\r\n          <span *ngIf=\"masterInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!masterInvalid()\">\r\n            {{startForm.get('master')?.value}} (FIN: {{startForm.get('fin')?.value}})\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Vessel:\r\n          </b>\r\n          <span *ngIf=\"vesselInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!vesselInvalid()\">\r\n            {{startForm.get('vessel')?.value}}\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            License Area:\r\n          </b>\r\n          <span *ngIf=\"licenseAreaInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!licenseAreaInvalid()\">\r\n            {{startForm.get('licenseArea')?.value}}\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Start Date:\r\n          </b>\r\n          {{ startDate | date }}\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Start Time:\r\n          </b>\r\n          {{ startDate | date:'h:mm a' }}\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Management Area:\r\n          </b>\r\n          <span *ngIf=\"managementAreaInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!managementAreaInvalid()\">\r\n            {{startForm.get('managementArea')?.value}}\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Contact Details:\r\n          </b>\r\n          <span *ngIf=\"contactDetailsInvalid()\"\r\n                class=\"invalid-field\">\r\n            [Required]\r\n          </span>\r\n          <span *ngIf=\"!contactDetailsInvalid()\">\r\n            {{startForm.get('name')?.value}}, {{startForm.get('phoneNum')?.value}}\r\n          </span>\r\n        </h6>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <h6 class=\"blue-label\">\r\n          <b>\r\n            Comments:\r\n          </b>\r\n          {{startForm.get('comments')?.value}}\r\n        </h6>\r\n      </div>\r\n\r\n    </div>\r\n  </form>\r\n\r\n\r\n  <!-- Page navigation buttons -->\r\n  <div class=\"row bottom-buttons\">\r\n    <div class=\"col-1\"></div>\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-blue\"\r\n                type=\"button\"\r\n                (click)=\"toPreviousPage()\">\r\n          <span>\r\n            Back\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-2\"></div>\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-red\"\r\n                type=\"submit\"\r\n                (click)=\"toNextPage()\">\r\n          <span *ngIf=\"currPage <= numPages\">\r\n            Next\r\n          </span>\r\n          <span *ngIf=\"currPage > numPages\">\r\n            Send to DFO\r\n          </span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-1\"></div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService, User } from '@auth0/auth0-angular';\r\nimport { UserData } from '../../data-models/user-models/user-data.model';\r\nimport { Trip } from 'src/app/data-models/trip-models/trip.model';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { LocalStorageService } from '../../services/local-storage.service';\r\n\r\n@Component({\r\n  selector: 'app-submitted-report',\r\n  templateUrl: './submitted-report.component.html',\r\n  styleUrls: ['./submitted-report.component.css']\r\n})\r\nexport class SubmittedReportComponent {\r\n\r\n  //data preambles\r\n  reportName: string = \"\";\r\n  userDetails: UserData = new UserData('', '');\r\n  currTrip: Trip = new Trip();\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    private localStorageService: LocalStorageService\r\n  ) {\r\n    this.reportName = this.router.getCurrentNavigation()?.extras.state?.name;\r\n\r\n     // get current fishing report information\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      let currID: string = this.localStorageService.getCurrID();\r\n      this.userDetails = this.localStorageService.getUserByID(currID);\r\n    }\r\n\r\n    else {\r\n      this.auth.isAuthenticated$.subscribe((authd: boolean) => {\r\n        if (authd) {\r\n          this.auth.user$.subscribe((user: User | null | undefined) => {\r\n            if (user) {\r\n              this.userDetails = this.localStorageService.getUser(user);\r\n            }\r\n            else {\r\n              this.toastr.error(\"Please authenticate again\", \"Cannot get user data\");\r\n              this.localStorageService.logout();\r\n              return;\r\n            }\r\n          });\r\n        }\r\n        else {\r\n          this.toastr.error(\"Please authenticate again\", \"Not authenticated\");\r\n          this.localStorageService.logout();\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // go back to the home screen\r\n  toHome(): void {\r\n    this.router.navigate([this.userDetails.currHomepage]);\r\n  }\r\n\r\n}\r\n","<div class=\"container report-container\">\r\n\r\n  <div class=\"row\"\r\n       align=\"center\">\r\n    <h5 class=\"blue-heading-title\">\r\n      Report Submitted!\r\n    </h5>\r\n  </div>\r\n\r\n  <div class=\"row\"\r\n       align=\"center\">\r\n    <p>\r\n      Please refer to the\r\n      <b>\r\n        Records\r\n      </b>\r\n      page to ensure the report has been received and to view your\r\n      <i>\r\n        {{reportName}} Confirmation Number.\r\n      </i>\r\n    </p>\r\n  </div>\r\n\r\n  <div class=\"row bottom-buttons\">\r\n\r\n    <div class=\"col-5\"></div>\r\n\r\n    <div class=\"col-2\">\r\n      <div class=\"row\">\r\n        <button mat-raised-button\r\n                class=\"fishing-button-red\"\r\n                type=\"submit\"\r\n                (click)=\"toHome()\">\r\n          <span>\r\n            OK\r\n          </span>\r\n        </button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"col-5\"></div>\r\n\r\n  </div>\r\n\r\n</div>\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { AuthService } from '@auth0/auth0-angular';\r\nimport { Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { User } from '@auth0/auth0-angular';\r\nimport { UserData } from '../data-models/user-models/user-data.model';\r\nimport { VesselData } from '../data-models/user-models/vessel-data.model';\r\nimport { LicenseArea } from '../data-models/trip-models/license-area.model';\r\nimport { SpeciesData } from '../data-models/catch-table-models/species-data.model';\r\nimport { Gear } from '../data-models/trip-models/gear-models/gear.model';\r\nimport { Trip } from '../data-models/trip-models/trip.model';\r\nimport { Tel } from '../tel-input/tel-input.component';\r\nimport { Net } from '../data-models/trip-models/gear-models/net.model';\r\nimport { TableRules } from '../data-models/catch-table-models/table-rules.model';\r\nimport { StartReport } from '../data-models/report-models/start-report.model';\r\nimport { OnlineStatusService, OnlineStatusType } from 'ngx-online-status';\r\nimport { DOCUMENT } from '@angular/common';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocalStorageService {\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private router: Router,\r\n    private toastr: ToastrService,\r\n    private onlineStatusService: OnlineStatusService,\r\n    @Inject(DOCUMENT) private document: Document\r\n  ) {\r\n\r\n  }\r\n\r\n  // save data to local storage through [key, value] pair\r\n  public saveData(key: string, value: any): void {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  }\r\n\r\n  // get data from key\r\n  public getData(key: string): any {\r\n    let item: string | null = localStorage.getItem(key);\r\n    if (item) {\r\n      return JSON.parse(item);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // remove data given key\r\n  public removeData(key: string): void {\r\n    localStorage.removeItem(key);\r\n  }\r\n\r\n  // new user after sign up\r\n  public createNewUser(user: User): UserData {\r\n\r\n    let id: string | undefined = user.sub;\r\n    let email: string | undefined = user.email;\r\n\r\n    if (!id || !email) {\r\n      return new UserData('', '');\r\n    }\r\n\r\n    let newUser: UserData = new UserData(id, email);\r\n    newUser.firstName = '';\r\n    newUser.lastName = '';\r\n    newUser.contactEmail = '';\r\n    newUser.address = '';\r\n    newUser.city = '';\r\n    newUser.postalCode = '';\r\n    newUser.phoneNum = new Tel('', '', '');\r\n    newUser.gears = this.setGears();\r\n    newUser.vessels = [];\r\n    newUser.currTrip = this.setCurrTrip();\r\n    newUser.nets = [];\r\n    newUser.currHomepage = this.setHomepage();\r\n\r\n    this.saveData(id, newUser);\r\n    let userIDs: string[] = this.getAllUserIDs();\r\n    userIDs.push(id);\r\n    this.saveData('userIDs', userIDs);\r\n\r\n    return newUser;\r\n\r\n  }\r\n\r\n  // get the current user ID for offline data retrieval\r\n  public getCurrID(): string {\r\n    return this.getData('currID');\r\n  }\r\n\r\n  // save the current user ID for offline data retrieval\r\n  public saveCurrID(id: string): void {\r\n    this.saveData('currID', id);\r\n  }\r\n\r\n  // get all the user ids in local storage\r\n  public getAllUserIDs(): string[] {\r\n    return this.getStringList('userIDs');\r\n  }\r\n\r\n  // check if homepage is defined\r\n  private validateHomepage(homepage: string | null): string {\r\n    if (!homepage) {\r\n      return this.setHomepage();\r\n    }\r\n    return homepage;\r\n  }\r\n\r\n  // check if the user phone number is defined\r\n  private validatePhoneNum(phoneNum: any): Tel {\r\n    if (!phoneNum) {\r\n      return new Tel('', '', '');\r\n    }\r\n    return this.getPhoneNum(phoneNum);\r\n  }\r\n\r\n  // check if user gears are defined\r\n  private validateGears(gears: any): Gear[] {\r\n\r\n    // if gears do not exist, set the default ones\r\n    if (!gears) {\r\n      return this.setGears();\r\n    }\r\n\r\n    let userGears: Gear[] = [];\r\n    for (let gear of gears) {\r\n      userGears.push(new Gear(gear.name, gear.logbookID, gear.isChecked));\r\n    }\r\n    return userGears;\r\n  }\r\n\r\n  // check if user vessels are defined\r\n  private validateVessels(vessels: any): VesselData[] {\r\n\r\n    // if vessels do not exist, return an empty array\r\n    if (!vessels) {\r\n      return [];\r\n    }\r\n\r\n    let userVessels: VesselData[] = [];\r\n    for (let vessel of vessels) {\r\n      userVessels.push(new VesselData(vessel.vesselName, vessel.vesselCoastNumber, vessel.isChecked));\r\n    }\r\n    return userVessels;\r\n  }\r\n\r\n  private validateStartFishingReport(startReport: any): StartReport {\r\n    if (!startReport) {\r\n      return this.setStartReport();\r\n    }\r\n    return startReport;\r\n  }\r\n\r\n  public validatePrevTrips(prevTrips: any): Trip[] {\r\n\r\n    if (!prevTrips) {\r\n      return [];\r\n    }\r\n\r\n    let prevTripList: Trip[] = [];\r\n    for (let trip of prevTrips) {\r\n      let userPrevTrip: Trip = new Trip();\r\n      userPrevTrip.tripID = trip.tripID ?? '';\r\n      userPrevTrip.gear = trip.gear;\r\n      userPrevTrip.vessel = trip.vessel;\r\n      userPrevTrip.licenseArea = trip.licenseArea;\r\n      userPrevTrip.master = trip.master ?? '';\r\n      userPrevTrip.fin = trip.fin ?? '';\r\n      userPrevTrip.contactName = trip.contactName ?? '';\r\n      userPrevTrip.phoneNum = trip.phoneNum;\r\n      userPrevTrip.offloadNeeded = trip.offloadNeeded ?? false;\r\n      userPrevTrip.isSaved = trip.isSaved ?? false;\r\n      userPrevTrip.startFishingReport = trip.startFishingReport;\r\n      userPrevTrip.endFishingReport = trip.endFishingReport;\r\n      userPrevTrip.cancelFishingReport = trip.cancelFishingReport;\r\n      userPrevTrip.pauseFishingReports = trip.pauseFishingReports ?? [];\r\n      userPrevTrip.dailyCatchReports = trip.dailyCatchReports ?? [];\r\n      userPrevTrip.offloadReports = trip.offloadReports ?? [];\r\n      prevTripList.push(userPrevTrip);\r\n    }\r\n\r\n    return prevTrips;\r\n  }\r\n\r\n  // check if user trip is defined\r\n  public validateCurrTrip(currTrip: any): Trip {\r\n\r\n    // if trip does not exist, set a default one\r\n    if (!currTrip) {\r\n      return this.setCurrTrip();\r\n    }\r\n\r\n    let usercurrTrip: Trip = new Trip();\r\n    usercurrTrip.tripID = currTrip.tripID ?? '';\r\n    usercurrTrip.master = currTrip.master ?? '';\r\n    usercurrTrip.fin = currTrip.fin ?? '';\r\n    usercurrTrip.contactName = currTrip.contactName ?? '';\r\n    usercurrTrip.phoneNum = this.getPhoneNum(currTrip.phoneNum);\r\n\r\n    let userGear: any = currTrip.gear;\r\n    let userVessel: any = currTrip.vessel;\r\n    let userLicenseArea: any = currTrip.licenseArea;\r\n    usercurrTrip.gear = new Gear(userGear.name, userGear.logbookID, userGear.isChecked);\r\n    usercurrTrip.vessel = new VesselData(userVessel.vesselName, userVessel.vesselCoastNumber, userVessel.isChecked);\r\n    usercurrTrip.licenseArea = new LicenseArea(userLicenseArea.licenseName, userLicenseArea.licenseLocation, userLicenseArea.isChecked);\r\n    usercurrTrip.offloadNeeded = currTrip.offloadNeeded; \r\n\r\n    usercurrTrip.isSaved = currTrip.isSaved;\r\n    usercurrTrip.startFishingReport = currTrip.startFishingReport;\r\n    usercurrTrip.endFishingReport = currTrip.endFishingReport;\r\n    usercurrTrip.pauseFishingReports = currTrip.pauseFishingReports ?? [];\r\n    usercurrTrip.cancelFishingReport = currTrip.cancelFishingReport;\r\n    usercurrTrip.dailyCatchReports = currTrip.dailyCatchReports ?? [];\r\n    usercurrTrip.offloadReports = currTrip.offloadReports ?? [];\r\n\r\n    return usercurrTrip;\r\n\r\n  }\r\n\r\n  // check if user nets are defined\r\n  private validateNets(nets: any): Net[] {\r\n\r\n    // if nets do not exist, set the default ones\r\n    if (!nets) {\r\n      return [];\r\n    }\r\n\r\n    let userNets: Net[] = [];\r\n    for (let net of nets) {\r\n      userNets.push(new Net(net.netType, net.netName, net.length, net.weedlineDepth,\r\n        net.weedlineDepthUnits, net.hangRatio, net.meshSize, net.meshSizeUnits,\r\n        net.numMeshes, net.numStrands, net.isChecked));\r\n    }\r\n    return userNets;\r\n  }\r\n\r\n\r\n  // get current user data in local storage (offline data retrieval)\r\n  public getUserByID(id: string): UserData {\r\n\r\n    let user: UserData = new UserData('', '');\r\n\r\n    // get JSON string of all user data\r\n    let userString: any = this.getData(id);\r\n\r\n    // check if mandatory userString values are defined\r\n    if (!userString || !userString.userID || !userString.userEmail) {\r\n      this.toastr.error(\"User does not exist\", \"Something went wrong\");\r\n      return user;\r\n    }\r\n\r\n    user.userID = userString.userID;\r\n    user.userEmail = userString.userEmail;\r\n    user.firstName = userString.firstName ?? '';\r\n    user.lastName = userString.lastName ?? '';\r\n    user.contactEmail = userString.contactEmail ?? '';\r\n    user.address = userString.address ?? '';\r\n    user.city = userString.city ?? '';\r\n    user.postalCode = userString.postalCode ?? '';\r\n    user.phoneNum = this.validatePhoneNum(userString.phoneNum);\r\n    user.gears = this.validateGears(userString.gears);\r\n    user.vessels = this.validateVessels(userString.vessels);\r\n    user.currTrip = this.validateCurrTrip(userString.currTrip);\r\n    user.currTrip.startFishingReport = this.validateStartFishingReport(userString.currTrip.startFishingReport);\r\n    user.prevTrips = this.validatePrevTrips(userString.prevTrips);\r\n    user.nets = this.validateNets(userString.nets);\r\n    user.currHomepage = this.validateHomepage(userString.currHomepage);\r\n    this.saveData(id, user);\r\n    \r\n    return user;\r\n\r\n  }\r\n\r\n  // get current user in local storage if online (will use database to sync storage once implemented)\r\n  public getUser(user: User): UserData {\r\n\r\n    let thisUser: UserData = new UserData('', '');\r\n    let id: string | undefined = user.sub;\r\n\r\n    // if ID does not exist, return an empty user\r\n    if (!id) {\r\n      return thisUser;\r\n    }\r\n\r\n    // get JSON string of all user data\r\n    let userString: any = this.getData(id);\r\n\r\n    // check if mandatory userString values are defined\r\n    if (!userString || !userString.userID || !userString.userEmail) {\r\n      this.toastr.error(\"User does not exist\", \"Something went wrong\");\r\n      return thisUser;\r\n    }\r\n\r\n    thisUser.userID = userString.userID;\r\n    thisUser.userEmail = userString.userEmail;\r\n    thisUser.firstName = userString.firstName ?? '';\r\n    thisUser.lastName = userString.lastName ?? '';\r\n    thisUser.contactEmail = userString.contactEmail ?? '';\r\n    thisUser.address = userString.address ?? '';\r\n    thisUser.city = userString.city ?? '';\r\n    thisUser.postalCode = userString.postalCode ?? '';\r\n    thisUser.phoneNum = this.validatePhoneNum(userString.phoneNum);\r\n    thisUser.gears = this.validateGears(userString.gears);\r\n    thisUser.vessels = this.validateVessels(userString.vessels);\r\n    thisUser.currTrip = this.validateCurrTrip(userString.currTrip);\r\n    thisUser.currTrip.startFishingReport = this.validateStartFishingReport(userString.currTrip.startFishingReport);\r\n    thisUser.prevTrips = this.validatePrevTrips(userString.prevTrips);\r\n    thisUser.nets = this.validateNets(userString.nets);\r\n    thisUser.currHomepage = this.validateHomepage(userString.currHomepage);\r\n    this.saveData(id, thisUser);\r\n\r\n    return thisUser;\r\n\r\n  }\r\n\r\n\r\n  // get license areas stored in local storage\r\n  public getLicenseAreas(): LicenseArea[] {\r\n\r\n    let licenseAreas: any = this.getData('licenseAreaList');\r\n\r\n    // if license areas do not exist, set them again\r\n    if (!licenseAreas) {\r\n      this.setLicenseAreas();\r\n      licenseAreas = this.getData('licenseAreaList');\r\n    }\r\n\r\n    let licenseAreaArray: LicenseArea[] = [];\r\n    for (let licenseArea of licenseAreas) {\r\n      licenseAreaArray.push(new LicenseArea(licenseArea.licenseName, licenseArea.licenseLocation, licenseArea.isChecked));\r\n    }\r\n\r\n    return licenseAreaArray;\r\n\r\n  }\r\n\r\n  // get species stored in local storage\r\n  public getSpeciesList(name: string): SpeciesData[] {\r\n\r\n    let speciesList: any = this.getData(name);\r\n\r\n    // if species list does not exist, set it again\r\n    if (!speciesList) {\r\n      this.setSpeciesList();\r\n      speciesList = this.getData(name);\r\n    }\r\n\r\n    let speciesArray: SpeciesData[] = [];\r\n    for (let species of speciesList) {\r\n      speciesArray.push(new SpeciesData(species.speciesName));\r\n    }\r\n\r\n    return speciesArray;\r\n\r\n  }\r\n\r\n  // get table rules for catch table data in local storage\r\n  public getTableRules(gearName: string): TableRules {\r\n\r\n    let newTable: TableRules = new TableRules();\r\n    let tableList: any = this.getData('tableRulesList');\r\n\r\n    // if table list does not exist, set it again\r\n    if (!tableList) {\r\n      this.setTableRules();\r\n      tableList = this.getData('tableRulesList');\r\n    }\r\n\r\n    for(let table of tableList) {\r\n        if(table.gearName === gearName){\r\n          newTable = table;\r\n        }\r\n    }\r\n\r\n    return newTable;\r\n\r\n  }\r\n\r\n  // get phone number from local storage\r\n  private getPhoneNum(phoneNum: any): Tel {\r\n    return new Tel(phoneNum.area.toString(), phoneNum.exchange.toString(), phoneNum.subscriber.toString());\r\n  }\r\n\r\n  // get list of strings stored in local storage\r\n  public getStringList(name: string): string[] {\r\n\r\n    let stringList: any = this.getData(name);\r\n\r\n    // if string list does not exist, set it again\r\n    if (!stringList) {\r\n      this.saveData(name, []);\r\n      return this.getData(name);\r\n    }\r\n\r\n    let stringArray: string[] = [];\r\n    for (let currString of stringList) {\r\n      stringArray.push(currString.toString());\r\n    }\r\n\r\n    return stringArray;\r\n\r\n  }\r\n\r\n  // set the sign up page to a new user\r\n  private setHomepage(): string {\r\n    return 'sign-up';\r\n  }\r\n\r\n  // set a start fishing report to a new user \r\n  private setStartReport(): StartReport {\r\n    return new StartReport();\r\n  }\r\n\r\n  // set the default data for the current trip\r\n  private setCurrTrip(): Trip {\r\n    return new Trip();\r\n  }\r\n\r\n  // set gears to local storage\r\n  private setGears(): Gear[] {\r\n    let gearList: Gear[] = [\r\n      new Gear('Gill Net', '1111', true),\r\n      new Gear('Seine', '2222'),\r\n      new Gear('Troll', '3333')\r\n    ];\r\n    return gearList;\r\n  }\r\n\r\n  // set table rules for what species should show up in the catch table for different gear types\r\n  private setTableRules(): void {\r\n\r\n    let gillNetTable = new TableRules('daily-catch', 'Gill Net');\r\n    gillNetTable.containsSpecies = ['Sockeye', 'Coho', 'Pink', 'Chum', 'Chinook', 'Steelhead', 'Atlantic', 'Dogfish', 'Green Sturgeon', 'White Sturgeon'];\r\n    gillNetTable.excludesSpecies = ['Legal Sized Chinook', 'Sublegal Sized Chinook'];\r\n    gillNetTable.releaseOnlySpecies =['Steelhead', 'White Sturgeon', 'Green Sturgeon'];\r\n\r\n    let seineTable = new TableRules('daily-catch', 'Seine');\r\n    seineTable.containsSpecies = ['Sockeye', 'Coho', 'Pink', 'Chum', 'Steelhead', 'Atlantic', 'Jack Chinook', 'Adult Chinook'];\r\n    seineTable.excludesSpecies = ['Legal Sized Chinook', 'Sublegal Sized Chinook'];\r\n\r\n    let trollTable = new TableRules('daily-catch', 'Troll');\r\n    trollTable.containsSpecies = ['Sockeye', 'Coho', 'Pink', 'Chum', 'Atlantic', 'Grilse', 'Legal Sized Chinook', 'Sublegal Sized Chinook'];\r\n    trollTable.excludesSpecies = ['Jack Chinook'];\r\n    trollTable.releaseOnlySpecies = ['Sublegal Sized Chinook', 'Grilse'];\r\n\r\n    let tableRulesList: TableRules[] = [gillNetTable, seineTable, trollTable];\r\n\r\n    this.saveData('tableRulesList', tableRulesList);\r\n\r\n  }\r\n\r\n  // set license areas to local storage\r\n  private setLicenseAreas(): void {\r\n    let licenseAreaList: LicenseArea[] = [\r\n      new LicenseArea(\"A\", \"Seine North\", true),\r\n      new LicenseArea(\"B\", \"Seine South\"),\r\n      new LicenseArea(\"C\", \"Gillnet North\"),\r\n      new LicenseArea(\"D\", \"Gillnet Vancouver Island\"),\r\n      new LicenseArea(\"E\", \"Gillnet Fraser + VI\"),\r\n      new LicenseArea(\"F\", \"Troll North\"),\r\n      new LicenseArea(\"G\", \"Troll WCVI\"),\r\n      new LicenseArea(\"H\", \"Troll Fraser\")\r\n    ];\r\n    this.saveData('licenseAreaList', licenseAreaList);\r\n\r\n  }\r\n\r\n  // set fish to local storage\r\n  // Note: we will eventually get this list from the DFO database, then will have to copy the names over into SpeciesData\r\n  private setSpeciesList(): void {\r\n    let fishList: SpeciesData[] = [\r\n      new SpeciesData(\"Sockeye\"),\r\n      new SpeciesData(\"Coho\"),\r\n      new SpeciesData(\"Pink\"),\r\n      new SpeciesData(\"Chum\"),\r\n      new SpeciesData('Chinook'),\r\n      new SpeciesData('Steelhead'),\r\n      new SpeciesData('Atlantic'),\r\n      new SpeciesData('Dogfish'),\r\n      new SpeciesData('Green Sturgeon'),\r\n      new SpeciesData('Grilse'), \r\n      new SpeciesData('Jack Chinook'),\r\n      new SpeciesData('Adult Chinook'),\r\n      new SpeciesData('Legal Sized Chinook'),\r\n      new SpeciesData('Sublegal Sized Chinook'),\r\n      new SpeciesData('White Sturgeon'),\r\n      new SpeciesData('Mackerel'),\r\n      new SpeciesData('Lingcod'),\r\n      new SpeciesData('Halibut'),\r\n      new SpeciesData('Aurora Rockfish'),\r\n      new SpeciesData('Canary Rockfish'),\r\n      new SpeciesData('China Rockfish'),\r\n      new SpeciesData('Tiger Rockfish'),\r\n      new SpeciesData('Redbanded Rockfish'),\r\n      new SpeciesData('Unknown Rockfish')\r\n    ];\r\n    this.saveData('fishList', fishList);\r\n  }\r\n\r\n  // set nets to local storage\r\n  private setNetTypes(): void {\r\n    let netTypes: string[] = [\r\n      'Alaska Twist',\r\n      'Multi Strand',\r\n      'Combination'\r\n    ];\r\n    this.saveData('netTypes', netTypes);\r\n  }\r\n\r\n  // data that all users receive, put into local storage\r\n  public setLists(): void {\r\n    this.setTableRules();\r\n    this.setLicenseAreas();\r\n    this.setSpeciesList();\r\n    this.setNetTypes();\r\n  }\r\n\r\n  // log out of account and go back to login screen\r\n  logout(): void {\r\n    this.removeData('currID');\r\n    if (this.onlineStatusService.getStatus() === OnlineStatusType.OFFLINE) {\r\n      this.router.navigate(['login']);\r\n      return;\r\n    }\r\n    this.auth.logout({\r\n      logoutParams: {\r\n        returnTo: this.document.location.origin\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { FocusMonitor } from '@angular/cdk/a11y';\r\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { Component, ElementRef, Inject, Input, OnDestroy, Optional, Self, ViewChild } from '@angular/core';\r\nimport { FormBuilder, NgControl, AbstractControl, ControlValueAccessor, Validators } from '@angular/forms';\r\nimport { MatFormField, MatFormFieldControl, MAT_FORM_FIELD } from '@angular/material/form-field';\r\nimport { Subject } from 'rxjs';\r\n\r\n/*\r\n  Much thanks to https://material.angular.io/guide/creating-a-custom-form-field-control for the entirety of this component\r\n*/\r\n\r\nexport class Tel {\r\n  constructor(public area: string, public exchange: string, public subscriber: string) { }\r\n\r\n  public toString() {\r\n    return this.area + this.exchange + this.subscriber;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-tel-input',\r\n  templateUrl: './tel-input.component.html',\r\n  styleUrls: ['./tel-input.component.css'],\r\n  providers: [{ provide: MatFormFieldControl, useExisting: TelInputComponent }],\r\n  host: {\r\n    '[class.example-floating]': 'shouldLabelFloat',\r\n    '[id]': 'id',\r\n  },\r\n})\r\nexport class TelInputComponent implements ControlValueAccessor, MatFormFieldControl<Tel>, OnDestroy {\r\n  static nextId = 0;\r\n  @ViewChild('area') areaInput!: HTMLInputElement;\r\n  @ViewChild('exchange') exchangeInput!: HTMLInputElement;\r\n  @ViewChild('subscriber') subscriberInput!: HTMLInputElement;\r\n\r\n  parts = this._formBuilder.group({\r\n    area: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(3)]],\r\n    exchange: ['', [Validators.required, Validators.minLength(3), Validators.maxLength(3)]],\r\n    subscriber: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(4)]],\r\n  });\r\n  stateChanges = new Subject<void>();\r\n  focused = false;\r\n  touched = false;\r\n  controlType = 'example-tel-input';\r\n  id = `example-tel-input-${TelInputComponent.nextId++}`;\r\n  onChange = (_: any) => { };\r\n  onTouched = () => { };\r\n\r\n  get empty() {\r\n    const {\r\n      value: { area, exchange, subscriber },\r\n    } = this.parts;\r\n\r\n    return !area && !exchange && !subscriber;\r\n  }\r\n\r\n  get shouldLabelFloat() {\r\n    return this.focused || !this.empty;\r\n  }\r\n\r\n  @Input('aria-describedby') userAriaDescribedBy!: string;\r\n\r\n  @Input()\r\n  get placeholder(): string {\r\n    return this._placeholder;\r\n  }\r\n  set placeholder(value: string) {\r\n    this._placeholder = value;\r\n    this.stateChanges.next();\r\n  }\r\n  private _placeholder: string = '';\r\n\r\n  @Input()\r\n  get required(): boolean {\r\n    return this._required;\r\n  }\r\n  set required(value: BooleanInput) {\r\n    this._required = coerceBooleanProperty(value);\r\n    this.stateChanges.next();\r\n  }\r\n  private _required = false;\r\n\r\n  @Input()\r\n  get disabled(): boolean {\r\n    return this._disabled;\r\n  }\r\n  set disabled(value: BooleanInput) {\r\n    this._disabled = coerceBooleanProperty(value);\r\n    this._disabled ? this.parts.disable() : this.parts.enable();\r\n    this.stateChanges.next();\r\n  }\r\n  private _disabled = false;\r\n\r\n  @Input()\r\n  get value(): Tel | null {\r\n    if (this.parts.valid) {\r\n      const {\r\n        value: { area, exchange, subscriber },\r\n      } = this.parts;\r\n      return new Tel(area!, exchange!, subscriber!);\r\n    }\r\n    return null;\r\n  }\r\n  set value(tel: Tel | null) {\r\n    const { area, exchange, subscriber } = tel || new Tel('', '', '');\r\n    this.parts.setValue({ area, exchange, subscriber });\r\n    this.stateChanges.next();\r\n  }\r\n\r\n  get errorState(): boolean {\r\n    return this.parts.invalid && this.touched;\r\n  }\r\n\r\n  constructor(\r\n    private _formBuilder: FormBuilder,\r\n    private _focusMonitor: FocusMonitor,\r\n    private _elementRef: ElementRef<HTMLElement>,\r\n    @Optional() @Inject(MAT_FORM_FIELD) public _formField: MatFormField,\r\n    @Optional() @Self() public ngControl: NgControl,\r\n  ) {\r\n    if (this.ngControl != null) {\r\n      this.ngControl.valueAccessor = this;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.stateChanges.complete();\r\n    this._focusMonitor.stopMonitoring(this._elementRef);\r\n  }\r\n\r\n  onFocusIn(event: FocusEvent) {\r\n    if (!this.focused) {\r\n      this.focused = true;\r\n      this.stateChanges.next();\r\n    }\r\n  }\r\n\r\n  onFocusOut(event: FocusEvent) {\r\n    if (!this._elementRef.nativeElement.contains(event.relatedTarget as Element)) {\r\n      this.touched = true;\r\n      this.focused = false;\r\n      this.onTouched();\r\n      this.stateChanges.next();\r\n    }\r\n  }\r\n\r\n  autoFocusNext(control: AbstractControl, nextElement?: HTMLInputElement): void {\r\n    if (!control.errors && nextElement) {\r\n      this._focusMonitor.focusVia(nextElement, 'program');\r\n    }\r\n  }\r\n\r\n  autoFocusPrev(control: AbstractControl, prevElement: HTMLInputElement): void {\r\n    if (control.value.length < 1) {\r\n      this._focusMonitor.focusVia(prevElement, 'program');\r\n    }\r\n  }\r\n\r\n  setDescribedByIds(ids: string[]) {\r\n    const controlElement = this._elementRef.nativeElement.querySelector(\r\n      '.example-tel-input-container',\r\n    )!;\r\n    controlElement.setAttribute('aria-describedby', ids.join(' '));\r\n  }\r\n\r\n  onContainerClick() {\r\n    if (this.parts.controls.subscriber.valid) {\r\n      this._focusMonitor.focusVia(this.subscriberInput, 'program');\r\n    } else if (this.parts.controls.exchange.valid) {\r\n      this._focusMonitor.focusVia(this.subscriberInput, 'program');\r\n    } else if (this.parts.controls.area.valid) {\r\n      this._focusMonitor.focusVia(this.exchangeInput, 'program');\r\n    } else {\r\n      this._focusMonitor.focusVia(this.areaInput, 'program');\r\n    }\r\n  }\r\n\r\n  writeValue(tel: Tel | null): void {\r\n    this.value = tel;\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  _handleInput(control: AbstractControl, nextElement?: HTMLInputElement): void {\r\n    control.setValue(control.value.replace(/[^0-9]/g, ''), { onlySelf: true, emitEvent: false });\r\n    this.autoFocusNext(control, nextElement);\r\n    this.onChange(this.value);\r\n  }\r\n}\r\n","<div role=\"group\" class=\"example-tel-input-container\"\r\n     [formGroup]=\"parts\"\r\n     [attr.aria-labelledby]=\"_formField.getLabelId()\"\r\n     (focusin)=\"onFocusIn($event)\"\r\n     (focusout)=\"onFocusOut($event)\">\r\n  <input class=\"example-tel-input-element\"\r\n         type=\"text\"\r\n         inputmode=\"decimal\"\r\n         formControlName=\"area\" size=\"3\"\r\n         maxLength=\"3\"\r\n         aria-label=\"Area code\"\r\n         (input)=\"_handleInput(parts.controls.area, exchange)\"\r\n         #area>\r\n  <span class=\"example-tel-input-spacer\">&ndash;</span>\r\n  <input class=\"example-tel-input-element\"\r\n         type=\"text\"\r\n         inputmode=\"decimal\"\r\n         formControlName=\"exchange\"\r\n         maxLength=\"3\"\r\n         size=\"3\"\r\n         aria-label=\"Exchange code\"\r\n         (input)=\"_handleInput(parts.controls.exchange, subscriber)\"\r\n         (keyup.backspace)=\"autoFocusPrev(parts.controls.exchange, area)\"\r\n         #exchange>\r\n  <span class=\"example-tel-input-spacer\">&ndash;</span>\r\n  <input class=\"example-tel-input-element\"\r\n         type=\"text\"\r\n         inputmode=\"decimal\"\r\n         formControlName=\"subscriber\"\r\n         maxLength=\"4\"\r\n         size=\"4\"\r\n         aria-label=\"Subscriber number\"\r\n         (input)=\"_handleInput(parts.controls.subscriber)\"\r\n         (keyup.backspace)=\"autoFocusPrev(parts.controls.subscriber, exchange)\"\r\n         #subscriber>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --configuration production` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  auth0: {\r\n    domain: 'dev-5eiy2cesgxurrngi.us.auth0.com',\r\n    clientId: 'JLatVELLRM16M3zBNhUZi27hZXGe5jci',\r\n    redirect_uri: window.location.origin,\r\n    audience: 'https://dev-5eiy2cesgxurrngi.us.auth0.com/userinfo'\r\n  }\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","/// <reference types=\"@angular/localize\" />\r\n\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"names":["RouterModule","StartReportComponent","EndReportComponent","PauseReportComponent","CancelReportComponent","OffloadReportComponent","SubmittedReportComponent","LoginComponent","SignUpComponent","GillNetReportComponent","SeineReportComponent","TrollReportComponent","NoTripHomeComponent","ActiveTripHomeComponent","OffloadHomeComponent","ProfileComponent","RecordsPageComponent","routes","path","redirectTo","pathMatch","component","AppRoutingModule","forRoot","imports","exports","AppComponent","constructor","selectors","decls","vars","template","i0","isDevMode","BrowserModule","MaterialModule","FormsModule","ReactiveFormsModule","ToastrModule","AuthModule","ServiceWorkerModule","BrowserAnimationsModule","AddVesselDialogComponent","NgbTimepickerModule","AddSpeciesDialogComponent","OnlineStatusModule","TelInputComponent","environment","env","AddNetDialogComponent","MenuComponent","MatIconModule","DatePipe","ContactInfoDialogComponent","AppModule","bootstrap","domain","auth0","clientId","authorizationParams","redirect_uri","audience","cacheLocation","register","enabled","registrationStrategy","declarations","UntypedFormGroup","FormControl","Validators","OnlineStatusType","DOCUMENT","auth","router","localStorageService","onlineStatusService","toastr","document","email","required","getStatus","ONLINE","isOnline","onlineStatus","loginButton","ngOnInit","loginForm","get","valueChanges","subscribe","emailErrors","errors","emailError","attemptLogin","window","location","reload","isAuthenticated$","authd","query","search","shouldParseResult","includes","handleRedirectCallback","value","console","log","err","history","replaceState","title","loginWithPopup","user$","user","id","sub","isNewUser","createNewUser","saveCurrID","currHomepage","getUser","navigate","error","valid","userIDs","getAllUserIDs","thisUser","getUserByID","userEmail","ids","existingID","consts","ctx","UserData","generalValidator","Tel","firstName","lastName","contactEmail","address","city","postalCode","pattern","postalRegex","phoneNum","signupForm","contactEmailErrors","postalCodeErrors","postalError","phoneNumValid","area","exchange","subscriber","backToLogin","OFFLINE","logout","attemptSignUp","telInput","touched","stateChanges","next","updateValueAndValidity","sending","userDetails","userID","saveData","viewQuery","MatTable","SpeciesData","Net","TableRules","DailyCatchReport","Trip","dialog","net","emptyNet","hoursFished","mgmtArea","zoneArea","numSets","comments","nonFish","Date","currID","getCurrID","initialize","onNonFishChange","gillnetForm","commentControl","setValidators","clearValidators","currTrip","userNets","nets","unfilteredFishList","getSpeciesList","gillNetTable","getTableRules","filterTableData","populateReport","pages","numPages","spinnerIncrement","displayedColumns","toNextPage","currNet","getSelectedNet","patchValue","numReports","dailyCatchReports","length","prevReport","managementArea","subArea","species","containsSpecies","speciesName","fishListDetails","push","excludesSpecies","fishList","determineCellStyling","name","isReleaseOnly","releaseOnlySpecies","saveUserDetails","isChecked","setSelectedNet","netName","saveUserNets","currPage","incrementPage","sendToDFO","spinnerProgress","toPreviousPage","toHome","addNetDialog","dialogRef","open","width","height","afterClosed","result","newNet","netType","netLength","netDepth","netUnits","hangRatio","meshSize","meshUnits","numMeshes","numStrands","updateTable","table","renderRows","calculateTotalFish","type","totalFish","i","kept","released","getNewSpecies","newSpeciesData","addSpecies","data","identifier","currentFishList","filteredFishList","tableInfo","editSpecies","index","splice","addSpeciesDialog","netInvalid","isValid","managementAreaInvalid","nonFishInvalid","saveCatchReport","state","forbidNonNumeric","controlName","control","setValue","replace","validateHoursFished","regex","test","determineSpeciesData","tempFishArray","fish","catchReport","netUsed","dateFished","catchDate","speciesDataList","submissionDate","seineForm","seineTable","frozenOrIced","trollForm","trollTable","frozenOrIcedInvalid","toString","gearName","tableType","CancelReport","confirmationNumber","EndReport","endDate","OffloadReport","offloadDate","PauseReport","pauseDate","StartReport","isComplete","startDate","Gear","checked","logbookID","isEqual","inputGear","depth","depthUnits","ratio","mesh","strands","weedlineDepth","weedlineDepthUnits","meshSizeUnits","baseValid","LicenseArea","licenseName","licenseLocation","inputArea","VesselData","gear","vessel","licenseArea","vname","vcoastNum","vesselName","vesselCoastNumber","Validator","invalid","speciesValidator","speciesList","toLowerCase","MAT_DIALOG_DATA","netTypes","getStringList","netTypeVal","netForm","onNetTypeChange","strandControl","addNet","clearInputs","close","markAllAsTouched","deleteNet","controls","reset","stringList","offloadWeight","offloadPieces","speciesData","speciesForm","fillSpecies","setDialogConfig","speciesChange","filteredSpecies","displayedTitle","speciesIsReadOnly","currentSpeciesList","checkSpecies","getCurrentFormSpecies","deleteSpecies","vesselNumber","vesselForm","addVessel","deleteVessel","profileForm","updateContactInfo","update","attemptUpdate","setLists","validateCurrTrip","getGearName","getDate","date","toCatchReport","gearType","toEndReport","toPauseReport","toCancelReport","toOffloadReport","saveDailyCatchReports","tempTrip","report","tempReport","saveOldReport","isSaved","startFishingReport","master","fin","contactName","offloadNeeded","endFishingReport","cancelFishingReport","pauseFishingReports","offloadReports","prevTrips","validatePrevTrips","toStartReport","setNewTripFlag","requestToStartNewTrip","clearNewTripFlag","toNoTripHome","updateHomepage","A11yModule","ClipboardModule","DragDropModule","PortalModule","ScrollingModule","CdkTableModule","CdkTreeModule","MatAutocompleteModule","MatBadgeModule","MatBottomSheetModule","MatButtonModule","MatButtonToggleModule","MatCardModule","MatCheckboxModule","MatChipsModule","MatStepperModule","MatDatepickerModule","MatDialogModule","MatDividerModule","MatExpansionModule","MatGridListModule","MatInputModule","MatListModule","MatMenuModule","MatNativeDateModule","MatRippleModule","MatPaginatorModule","MatProgressBarModule","MatProgressSpinnerModule","MatRadioModule","MatSelectModule","MatSidenavModule","MatSliderModule","MatSlideToggleModule","MatSnackBarModule","MatSortModule","MatTableModule","MatTabsModule","MatToolbarModule","MatTooltipModule","MatTreeModule","OverlayModule","username","logbooks","gears","vessels","logbook","containsGillNet","contactInfoDialog","success","addVesselDialog","newVessel","datePipe","formatDate","formattedDate","transform","makeGearList","makeLicenseAreaList","getLicenseAreas","makeVesselList","vesselList","currVessel","gearList","currGear","areas","currArea","licenseAreas","determineButtonStyling","filtersApplied","selectedGearCount","selectedLicenseAreaCount","selectedVesselCount","selectItem","$event","item","stopPropagation","preventDefault","updateSelectedItems","filter","g","l","v","determineTripVisibility","trip","checkedGears","checkedAreas","checkedVessels","gearFlag","licenseAreaFlag","vesselFlag","clearGearFilter","clearAreaFilter","clearVesselFilter","toCurrentHome","toProfile","toRecords","toResources","toFisheryNotices","saveReportData","cancelReport","site","hour","minute","arrivalTime","getHours","getMinutes","endForm","setDateTime","arrivalSite","arrivalForm","newDate","toSubmittedReport","homeName","arrivalHours","arrivalMinutes","setHours","setMinutes","setSeconds","setMilliseconds","fishSlipIssued","fishSlipNumber","weightUnits","onFishSlipChange","offloadForm","fishSlipControl","setTableRules","filterSpeciesData","getTableData","setDisplayedColumns","offloadTime","offloadTable","speciesNamesList","tempSpecies","tableDataSource","startHours","startMinutes","getCurrentGearType","fishSlipVal","getWeightUnits","excludeFlag","tableSpecies","weight","pieces","offloadReport","fishSlip","catchWeightUnits","pauseForm","pauseReport","emptyGear","emptyVessel","emptyArea","userVessels","currMaster","currFin","currManagementArea","currName","currPhoneNum","currComments","startTime","isInProgress","setSelectedGear","setSelectedVessel","setSelectedArea","startForm","clearTripData","saveCurrTrip","determineOffloadReport","isSeineOffload","isGillOffload","gearInvalid","masterInvalid","vesselInvalid","licenseAreaInvalid","contactDetailsInvalid","reportName","getCurrentNavigation","extras","LocalStorageService","key","localStorage","setItem","JSON","stringify","getData","getItem","parse","removeData","removeItem","newUser","setGears","setCurrTrip","setHomepage","validateHomepage","homepage","validatePhoneNum","getPhoneNum","validateGears","userGears","validateVessels","validateStartFishingReport","startReport","setStartReport","prevTripList","userPrevTrip","tripID","usercurrTrip","userGear","userVessel","userLicenseArea","validateNets","userString","setLicenseAreas","licenseAreaArray","setSpeciesList","speciesArray","newTable","tableList","stringArray","currString","tableRulesList","licenseAreaList","setNetTypes","logoutParams","returnTo","origin","factory","providedIn","coerceBooleanProperty","MatFormFieldControl","MAT_FORM_FIELD","Subject","_formBuilder","_focusMonitor","_elementRef","_formField","ngControl","group","minLength","maxLength","nextId","_","valueAccessor","empty","parts","shouldLabelFloat","focused","placeholder","_placeholder","_required","disabled","_disabled","disable","enable","tel","errorState","ngOnDestroy","complete","stopMonitoring","onFocusIn","event","onFocusOut","nativeElement","contains","relatedTarget","onTouched","autoFocusNext","nextElement","focusVia","autoFocusPrev","prevElement","setDescribedByIds","controlElement","querySelector","setAttribute","join","onContainerClick","subscriberInput","exchangeInput","areaInput","writeValue","registerOnChange","fn","onChange","registerOnTouched","setDisabledState","isDisabled","_handleInput","onlySelf","emitEvent","provide","useExisting","production","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","catch"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}